var dn=Object.defineProperty;var gn=(t,e,n)=>e in t?dn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var hn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var rt=(t,e,n)=>gn(t,typeof e!="symbol"?e+"":e,n);var Ws=hn((Gs,Ue)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Y(){}const mn=t=>t;function pn(t,e){for(const n in e)t[n]=e[n];return t}function Jt(t){return t()}function kt(){return Object.create(null)}function ve(t){t.forEach(Jt)}function mt(t){return typeof t=="function"}function ie(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let He;function At(t,e){return t===e?!0:(He||(He=document.createElement("a")),He.href=e,t===He.href)}function _n(t){return Object.keys(t).length===0}function vn(t,...e){if(t==null){for(const l of e)l(void 0);return Y}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function pt(t,e,n){t.$$.on_destroy.push(vn(e,n))}function Ye(t,e,n,l){if(t){const i=Qt(t,e,n,l);return t[0](i)}}function Qt(t,e,n,l){return t[1]&&l?pn(n.ctx.slice(),t[1](l(e))):n.ctx}function xe(t,e,n,l){return t[2],e.dirty}function et(t,e,n,l,i,s){if(i){const o=Qt(e,n,l,s);t.p(o,i)}}function tt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}const Xt=typeof window<"u";let bn=Xt?()=>window.performance.now():()=>Date.now(),_t=Xt?t=>requestAnimationFrame(t):Y;const Te=new Set;function Yt(t){Te.forEach(e=>{e.c(t)||(Te.delete(e),e.f())}),Te.size!==0&&_t(Yt)}function wn(t){let e;return Te.size===0&&_t(Yt),{promise:new Promise(n=>{Te.add(e={c:t,f:n})}),abort(){Te.delete(e)}}}function D(t,e){t.appendChild(e)}function xt(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Cn(t){const e=M("style");return e.textContent="/* empty */",Bn(xt(t),e),e.sheet}function Bn(t,e){return D(t.head||t,e),e.sheet}function O(t,e,n){t.insertBefore(e,n||null)}function S(t){t.parentNode&&t.parentNode.removeChild(t)}function nt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function M(t){return document.createElement(t)}function ge(t){return document.createTextNode(t)}function W(){return ge(" ")}function en(){return ge("")}function ee(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function yn(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function B(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function kn(t){return t===""?null:+t}function An(t){return Array.from(t.childNodes)}function Ge(t,e){e=""+e,t.data!==e&&(t.data=e)}function ft(t,e){t.value=e??""}function se(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Mt(t,e,n){for(let l=0;l<t.options.length;l+=1){const i=t.options[l];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Mn(t){const e=t.querySelector(":checked");return e&&e.__value}function te(t,e,n){t.classList.toggle(e,!!n)}function tn(t,e,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:l})}const Je=new Map;let Qe=0;function $n(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Dn(t,e){const n={stylesheet:Cn(e),rules:{}};return Je.set(t,n),n}function In(t,e,n,l,i,s,o,c=0){const r=16.666/l;let a=`{
`;for(let p=0;p<=1;p+=r){const _=e+(n-e)*s(p);a+=p*100+`%{${o(_,1-_)}}
`}const d=a+`100% {${o(n,1-n)}}
}`,m=`__svelte_${$n(d)}_${c}`,g=xt(t),{stylesheet:f,rules:w}=Je.get(g)||Dn(g,t);w[m]||(w[m]=!0,f.insertRule(`@keyframes ${m} ${d}`,f.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${m} ${l}ms linear ${i}ms 1 both`,Qe+=1,m}function $t(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=n.length-l.length;i&&(t.style.animation=l.join(", "),Qe-=i,Qe||Pn())}function Pn(){_t(()=>{Qe||(Je.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&S(e)}),Je.clear())})}let qe;function We(t){qe=t}function vt(){if(!qe)throw new Error("Function called outside component initialization");return qe}function En(t){vt().$$.on_mount.push(t)}function Sn(t){vt().$$.on_destroy.push(t)}function lt(){const t=vt();return(e,n,{cancelable:l=!1}={})=>{const i=t.$$.callbacks[e];if(i){const s=tn(e,n,{cancelable:l});return i.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}function Ve(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(l=>l.call(this,e))}const Ee=[],ce=[];let Oe=[];const dt=[],Tn=Promise.resolve();let gt=!1;function On(){gt||(gt=!0,Tn.then(Se))}function Fe(t){Oe.push(t)}function be(t){dt.push(t)}const at=new Set;let Ie=0;function Se(){if(Ie!==0)return;const t=qe;do{try{for(;Ie<Ee.length;){const e=Ee[Ie];Ie++,We(e),Fn(e.$$)}}catch(e){throw Ee.length=0,Ie=0,e}for(We(null),Ee.length=0,Ie=0;ce.length;)ce.pop()();for(let e=0;e<Oe.length;e+=1){const n=Oe[e];at.has(n)||(at.add(n),n())}Oe.length=0}while(Ee.length);for(;dt.length;)dt.pop()();gt=!1,at.clear(),We(t)}function Fn(t){if(t.fragment!==null){t.update(),ve(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Fe)}}function Ln(t){const e=[],n=[];Oe.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),Oe=e}let Ne;function zn(){return Ne||(Ne=Promise.resolve(),Ne.then(()=>{Ne=null})),Ne}function Dt(t,e,n){t.dispatchEvent(tn(`intro${n}`))}const Ze=new Set;let ye;function ke(){ye={r:0,c:[],p:ye}}function Ae(){ye.r||ve(ye.c),ye=ye.p}function T(t,e){t&&t.i&&(Ze.delete(t),t.i(e))}function F(t,e,n,l){if(t&&t.o){if(Ze.has(t))return;Ze.add(t),ye.c.push(()=>{Ze.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}const Nn={duration:0};function jn(t,e,n){const l={direction:"in"};let i=e(t,n,l),s=!1,o,c,r=0;function a(){o&&$t(t,o)}function d(){const{delay:g=0,duration:f=300,easing:w=mn,tick:v=Y,css:p}=i||Nn;p&&(o=In(t,0,1,f,g,w,p,r++)),v(0,1);const _=bn()+g,z=_+f;c&&c.abort(),s=!0,Fe(()=>Dt(t,!0,"start")),c=wn(k=>{if(s){if(k>=z)return v(1,0),Dt(t,!0,"end"),a(),s=!1;if(k>=_){const C=w((k-_)/f);v(C,1-C)}}return s})}let m=!1;return{start(){m||(m=!0,$t(t),mt(i)?(i=i(l),zn().then(d)):d())},invalidate(){m=!1},end(){s&&(a(),s=!1)}}}function de(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function nn(t,e){F(t,1,1,()=>{e.delete(t.key)})}function ln(t,e,n,l,i,s,o,c,r,a,d,m){let g=t.length,f=s.length,w=g;const v={};for(;w--;)v[t[w].key]=w;const p=[],_=new Map,z=new Map,k=[];for(w=f;w--;){const G=m(i,s,w),N=n(G);let ne=o.get(N);ne?k.push(()=>ne.p(G,e)):(ne=a(N,G),ne.c()),_.set(N,p[w]=ne),N in v&&z.set(N,Math.abs(w-v[N]))}const C=new Set,L=new Set;function q(G){T(G,1),G.m(c,d),o.set(G.key,G),d=G.first,f--}for(;g&&f;){const G=p[f-1],N=t[g-1],ne=G.key,he=N.key;G===N?(d=G.first,g--,f--):_.has(he)?!o.has(ne)||C.has(ne)?q(G):L.has(he)?g--:z.get(ne)>z.get(he)?(L.add(ne),q(G)):(C.add(he),g--):(r(N,o),g--)}for(;g--;){const G=t[g];_.has(G.key)||r(G,o)}for(;f;)q(p[f-1]);return ve(k),p}function we(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function Q(t){t&&t.c()}function U(t,e,n){const{fragment:l,after_update:i}=t.$$;l&&l.m(e,n),Fe(()=>{const s=t.$$.on_mount.map(Jt).filter(mt);t.$$.on_destroy?t.$$.on_destroy.push(...s):ve(s),t.$$.on_mount=[]}),i.forEach(Fe)}function H(t,e){const n=t.$$;n.fragment!==null&&(Ln(n.after_update),ve(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Rn(t,e){t.$$.dirty[0]===-1&&(Ee.push(t),On(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function oe(t,e,n,l,i,s,o=null,c=[-1]){const r=qe;We(t);const a=t.$$={fragment:null,ctx:[],props:s,update:Y,not_equal:i,bound:kt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:kt(),dirty:c,skip_bound:!1,root:e.target||r.$$.root};o&&o(a.root);let d=!1;if(a.ctx=n?n(t,e.props||{},(m,g,...f)=>{const w=f.length?f[0]:g;return a.ctx&&i(a.ctx[m],a.ctx[m]=w)&&(!a.skip_bound&&a.bound[m]&&a.bound[m](w),d&&Rn(t,m)),g}):[],a.update(),d=!0,ve(a.before_update),a.fragment=l?l(a.ctx):!1,e.target){if(e.hydrate){const m=An(e.target);a.fragment&&a.fragment.l(m),m.forEach(S)}else a.fragment&&a.fragment.c();e.intro&&T(t.$$.fragment),U(t,e.target,e.anchor),Se()}We(r)}class re{constructor(){rt(this,"$$");rt(this,"$$set")}$destroy(){H(this,1),this.$destroy=Y}$on(e,n){if(!mt(n))return Y;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const i=l.indexOf(n);i!==-1&&l.splice(i,1)}}$set(e){this.$$set&&!_n(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Wn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Wn);function It(t){let e,n;return{c(){e=M("div"),n=ge(t[4]),B(e,"class","options-indicator svelte-1t97r11")},m(l,i){O(l,e,i),D(e,n)},p(l,i){i&16&&Ge(n,l[4])},d(l){l&&S(e)}}}function qn(t){let e,n,l,i,s,o,c,r,a=t[2]&&t[4]&&It(t);return{c(){e=M("div"),n=M("img"),i=W(),a&&a.c(),se(n,"transform","rotate("+t[1]+"deg)"),At(n.src,l=t[0])||B(n,"src",l),B(n,"alt","Tile"),B(n,"class","svelte-1t97r11"),B(e,"class","tile svelte-1t97r11"),B(e,"tabindex",s=t[2]&&t[3]?0:-1),B(e,"role",o=t[2]&&t[3]?"button":void 0),te(e,"selectionmode",t[2]),te(e,"clickable",t[3]&&t[2]),te(e,"has-options",t[4]&&t[2])},m(d,m){O(d,e,m),D(e,n),D(e,i),a&&a.m(e,null),c||(r=[ee(e,"click",t[5]),ee(e,"keydown",t[6])],c=!0)},p(d,[m]){m&2&&se(n,"transform","rotate("+d[1]+"deg)"),m&1&&!At(n.src,l=d[0])&&B(n,"src",l),d[2]&&d[4]?a?a.p(d,m):(a=It(d),a.c(),a.m(e,null)):a&&(a.d(1),a=null),m&12&&s!==(s=d[2]&&d[3]?0:-1)&&B(e,"tabindex",s),m&12&&o!==(o=d[2]&&d[3]?"button":void 0)&&B(e,"role",o),m&4&&te(e,"selectionmode",d[2]),m&12&&te(e,"clickable",d[3]&&d[2]),m&20&&te(e,"has-options",d[4]&&d[2])},i:Y,o:Y,d(d){d&&S(e),a&&a.d(),c=!1,ve(r)}}}function Gn(t,e,n){let{imgSrc:l}=e,{rotationDeg:i=0}=e,{selectionMode:s=!1}=e,{clickable:o=!1}=e,{hasOptions:c=!1}=e;const r=lt();function a(){s&&o&&r("tileClick")}const d=m=>m.key==="Enter"&&a();return t.$$set=m=>{"imgSrc"in m&&n(0,l=m.imgSrc),"rotationDeg"in m&&n(1,i=m.rotationDeg),"selectionMode"in m&&n(2,s=m.selectionMode),"clickable"in m&&n(3,o=m.clickable),"hasOptions"in m&&n(4,c=m.hasOptions)},[l,i,s,o,c,a,d]}class sn extends re{constructor(e){super(),oe(this,e,Gn,qn,ie,{imgSrc:0,rotationDeg:1,selectionMode:2,clickable:3,hasOptions:4})}}function Vn(t){let e;return{c(){e=ge("Button")},m(n,l){O(n,e,l)},d(n){n&&S(e)}}}function Un(t){let e,n,l,i;const s=t[1].default,o=Ye(s,t,t[0],null),c=o||Vn();return{c(){e=M("button"),c&&c.c(),B(e,"class","svelte-2m6kay")},m(r,a){O(r,e,a),c&&c.m(e,null),n=!0,l||(i=ee(e,"click",t[2]),l=!0)},p(r,[a]){o&&o.p&&(!n||a&1)&&et(o,s,r,r[0],n?xe(s,r[0],a,null):tt(r[0]),null)},i(r){n||(T(c,r),n=!0)},o(r){F(c,r),n=!1},d(r){r&&S(e),c&&c.d(r),l=!1,i()}}}function Hn(t,e,n){let{$$slots:l={},$$scope:i}=e;function s(o){Ve.call(this,t,o)}return t.$$set=o=>{"$$scope"in o&&n(0,i=o.$$scope)},[i,l,s]}class Pt extends re{constructor(e){super(),oe(this,e,Hn,Un,ie,{})}}function Et(t){let e,n;return{c(){e=M("label"),n=ge(t[1]),B(e,"class","slider-label svelte-iz9ztu")},m(l,i){O(l,e,i),D(e,n)},p(l,i){i&2&&Ge(n,l[1])},d(l){l&&S(e)}}}function Zn(t){let e,n,l,i,s,o,c,r,a,d,m=t[1]&&Et(t);return{c(){e=M("div"),m&&m.c(),n=W(),l=M("div"),i=M("div"),s=M("div"),o=ge(t[0]),c=W(),r=M("input"),B(s,"class","tooltip-inner svelte-iz9ztu"),B(i,"class","tooltip svelte-iz9ztu"),se(i,"left",t[6]+"%"),te(i,"active",t[5]),B(r,"type","range"),B(r,"min",t[3]),B(r,"max",t[4]),B(r,"class","svelte-iz9ztu"),B(l,"class","input-container svelte-iz9ztu"),B(e,"class","slider-wrapper svelte-iz9ztu"),te(e,"left",t[2]==="left")},m(g,f){O(g,e,f),m&&m.m(e,null),D(e,n),D(e,l),D(l,i),D(i,s),D(s,o),D(l,c),D(l,r),ft(r,t[0]),a||(d=[ee(window,"mouseup",t[8]),ee(window,"touchend",t[8]),ee(r,"change",t[10]),ee(r,"input",t[10]),ee(r,"mousedown",t[7]),ee(r,"touchstart",t[7],{passive:!0}),ee(r,"change",t[9])],a=!0)},p(g,[f]){g[1]?m?m.p(g,f):(m=Et(g),m.c(),m.m(e,n)):m&&(m.d(1),m=null),f&1&&Ge(o,g[0]),f&64&&se(i,"left",g[6]+"%"),f&32&&te(i,"active",g[5]),f&8&&B(r,"min",g[3]),f&16&&B(r,"max",g[4]),f&1&&ft(r,g[0]),f&4&&te(e,"left",g[2]==="left")},i:Y,o:Y,d(g){g&&S(e),m&&m.d(),a=!1,ve(d)}}}function Kn(t,e,n){let l,{label:i=""}=e,{labelPosition:s="top"}=e,{value:o=50}=e,{min:c=0}=e,{max:r=100}=e,a=!1;const d=()=>n(5,a=!0),m=()=>n(5,a=!1);function g(w){Ve.call(this,t,w)}function f(){o=kn(this.value),n(0,o)}return t.$$set=w=>{"label"in w&&n(1,i=w.label),"labelPosition"in w&&n(2,s=w.labelPosition),"value"in w&&n(0,o=w.value),"min"in w&&n(3,c=w.min),"max"in w&&n(4,r=w.max)},t.$$.update=()=>{t.$$.dirty&25&&n(6,l=(o-c)/(r-c)*100)},[o,i,s,c,r,a,l,d,m,g,f]}class Re extends re{constructor(e){super(),oe(this,e,Kn,Zn,ie,{label:1,labelPosition:2,value:0,min:3,max:4})}}function Jn(t){let e,n,l,i,s,o;return{c(){e=M("button"),n=M("span"),l=ge(t[1]),B(n,"class","fab-icon"),B(e,"class",i="fab fab-"+t[0]+" svelte-1f8wclz")},m(c,r){O(c,e,r),D(e,n),D(n,l),s||(o=ee(e,"click",t[2]),s=!0)},p(c,[r]){r&2&&Ge(l,c[1]),r&1&&i!==(i="fab fab-"+c[0]+" svelte-1f8wclz")&&B(e,"class",i)},i:Y,o:Y,d(c){c&&S(e),s=!1,o()}}}function Qn(t,e,n){let{position:l="right"}=e,{icon:i="-"}=e;function s(o){Ve.call(this,t,o)}return t.$$set=o=>{"position"in o&&n(0,l=o.position),"icon"in o&&n(1,i=o.icon)},[l,i,s]}class Ke extends re{constructor(e){super(),oe(this,e,Qn,Jn,ie,{position:0,icon:1})}}function St(t){let e,n,l;const i=t[5].default,s=Ye(i,t,t[4],null);return{c(){e=M("div"),s&&s.c(),B(e,"class",n="fab-menu fab-menu-"+t[0]+" svelte-1eojtnz")},m(o,c){O(o,e,c),s&&s.m(e,null),l=!0},p(o,c){s&&s.p&&(!l||c&16)&&et(s,i,o,o[4],l?xe(i,o[4],c,null):tt(o[4]),null),(!l||c&1&&n!==(n="fab-menu fab-menu-"+o[0]+" svelte-1eojtnz"))&&B(e,"class",n)},i(o){l||(T(s,o),l=!0)},o(o){F(s,o),l=!1},d(o){o&&S(e),s&&s.d(o)}}}function Xn(t){let e,n,l,i;n=new Ke({props:{position:t[0],icon:t[1]}}),n.$on("click",t[3]);let s=t[2]&&St(t);return{c(){e=M("div"),Q(n.$$.fragment),l=W(),s&&s.c(),B(e,"class","fab-menu-container svelte-1eojtnz")},m(o,c){O(o,e,c),U(n,e,null),D(e,l),s&&s.m(e,null),i=!0},p(o,[c]){const r={};c&1&&(r.position=o[0]),c&2&&(r.icon=o[1]),n.$set(r),o[2]?s?(s.p(o,c),c&4&&T(s,1)):(s=St(o),s.c(),T(s,1),s.m(e,null)):s&&(ke(),F(s,1,1,()=>{s=null}),Ae())},i(o){i||(T(n.$$.fragment,o),T(s),i=!0)},o(o){F(n.$$.fragment,o),F(s),i=!1},d(o){o&&S(e),H(n),s&&s.d()}}}function Yn(t,e,n){let{$$slots:l={},$$scope:i}=e,{position:s="right"}=e,{icon:o="+"}=e,c=!1;function r(){n(2,c=!c)}return t.$$set=a=>{"position"in a&&n(0,s=a.position),"icon"in a&&n(1,o=a.icon),"$$scope"in a&&n(4,i=a.$$scope)},[s,o,c,r,i,l]}class xn extends re{constructor(e){super(),oe(this,e,Yn,Xn,ie,{position:0,icon:1})}}const el="/assets/beach_straight_0-DvGzNLJ2.png",tl="/assets/deep_straight_0-lZrQeddZ.png",nl="/assets/grass_beach_curvein_0-2qiDc4H_.png",ll="/assets/grass_beach_curveout_0-CWQdaTgq.png",sl="/assets/grass_beach_straight_0-BPoGIHo1.png",il="/assets/grass_straight_0-DRxQK0yi.png",ol="/assets/grass_straight_1-CPGyPxiD.png",rl="/assets/grass_straight_2-DcVzt5hJ.png",al="/assets/grass_straight_3-BEE2S1Sf.png",cl="/assets/grass_straight_4-BBSjnZ4a.png",ul="/assets/grass_straight_5-WM34qiyW.png",fl="/assets/shal_beach_curvein_0-Wxrs_kJv.png",dl="/assets/shal_beach_curveout_0-ux6epMry.png",gl="/assets/shal_beach_straight_0-CQlKyBo9.png",hl="/assets/shall_deep_curvein_0-DD6xLTYk.png",ml="/assets/shall_deep_curveout_0-4iUdIt-F.png",pl="/assets/shall_deep_straight_0-DISVU9Fi.png",_l="/assets/shall_straight_0-vgRsIPSa.png",vl=[{name:"beach_straight_0.png",src:el,edges:["AAA","AAA","AAA","AAA"]},{name:"deep_straight_0.png",src:tl,edges:["BBB","BBB","BBB","BBB"],weight:3},{name:"grass_beach_curvein_0.png",src:nl,edges:["AAC","CCC","CCC","CAA"]},{name:"grass_beach_curveout_0.png",src:ll,edges:["AAA","AAC","CAA","AAA"]},{name:"grass_beach_straight_0.png",src:sl,edges:["AAC","CCC","CAA","AAA"],weight:3},{name:"grass_straight_0.png",src:il,edges:["CCC","CCC","CCC","CCC"]},{name:"grass_straight_1.png",src:ol,edges:["CCC","CCC","CCC","CCC"]},{name:"grass_straight_2.png",src:rl,edges:["CCC","CCC","CCC","CCC"]},{name:"grass_straight_3.png",src:al,edges:["CCC","CCC","CCC","CCC"]},{name:"grass_straight_4.png",src:cl,edges:["CCC","CCC","CCC","CCC"]},{name:"grass_straight_5.png",src:ul,edges:["CCC","CCC","CCC","CCC"]},{name:"shal_beach_curvein_0.png",src:fl,edges:["DDA","AAA","AAA","ADD"]},{name:"shal_beach_curveout_0.png",src:dl,edges:["DDD","DDA","ADD","DDD"]},{name:"shal_beach_straight_0.png",src:gl,edges:["DDA","AAA","ADD","DDD"]},{name:"shall_deep_curvein_0.png",src:hl,edges:["BDD","DDD","DDD","DDB"]},{name:"shall_deep_curveout_0.png",src:ml,edges:["BBB","BBD","DBB","BBB"]},{name:"shall_deep_straight_0.png",src:pl,edges:["BDD","DDD","DDB","BBB"],weight:2},{name:"shall_straight_0.png",src:_l,edges:["DDD","DDD","DDD","DDD"]}],bl="/assets/00-DkMnNDMX.png",wl="/assets/01-BP-Nq16z.png",Cl="/assets/02-C_dyHJwv.png",Bl="/assets/03-BR1Ht3Yn.png",yl="/assets/04-oKpa-K-q.png",kl="/assets/05-DPnb_V_8.png",Al="/assets/06-BwR_gEpH.png",Ml="/assets/07-BpXVgTGV.png",$l="/assets/08-ChHLzIPM.png",Dl="/assets/09-DyIGt8tb.png",Il="/assets/10-7zxf4-L7.png",Pl="/assets/11-BPQpGf-p.png",El="/assets/12-CRZgRc7M.png",Sl=[{name:"00.png",src:bl,edges:["AAA","AAA","AAA","AAA"]},{name:"01.png",src:wl,edges:["BBB","BBB","BBB","BBB"]},{name:"02.png",src:Cl,edges:["BBB","BCB","BBB","BBB"]},{name:"03.png",src:Bl,edges:["BBB","BDB","BBB","BDB"]},{name:"04.png",src:yl,edges:["ABB","BCB","BBA","AAA"]},{name:"05.png",src:kl,edges:["ABB","BBB","BBB","BBA"]},{name:"06.png",src:Al,edges:["BBB","BCB","BBB","BCB"]},{name:"07.png",src:Ml,edges:["BDB","BCB","BDB","BCB"]},{name:"08.png",src:$l,edges:["BDB","BBB","BCB","BBB"]},{name:"09.png",src:Dl,edges:["BCB","BCB","BBB","BCB"]},{name:"10.png",src:Il,edges:["BCB","BCB","BCB","BCB"]},{name:"11.png",src:Pl,edges:["BCB","BCB","BBB","BBB"]},{name:"12.png",src:El,edges:["BBB","BCB","BBB","BCB"]}],Tl="/assets/00-B2vkL3kA.png",Ol="/assets/01-DeKJ4WE4.png",Fl="/assets/02-Bam-WfXU.png",Ll="/assets/03-lfLaJm6T.png",zl="/assets/04-DZx3uIX8.png",Nl=[{name:"00.png",src:Tl,edges:["AAA","AAA","AAA","AAA"]},{name:"01.png",src:Ol,edges:["AAA","ABA","ABA","ABA"]},{name:"02.png",src:Fl,edges:["ABA","AAA","ABA","ABA"]},{name:"03.png",src:Ll,edges:["ABA","ABA","ABA","AAA"]},{name:"04.png",src:zl,edges:["ABA","ABA","AAA","ABA"]}];function Tt(t,e,n){const l=t.slice();return l[10]=e[n],l}function Ot(t){let e,n,l,i,s,o,c,r,a,d,m,g=de(t[1]),f=[];for(let v=0;v<g.length;v+=1)f[v]=Ft(Tt(t,g,v));const w=v=>F(f[v],1,1,()=>{f[v]=null});return{c(){e=M("div"),n=M("div"),l=M("div"),i=M("h4"),i.textContent="Choose Tile to collapse to",s=W(),o=M("button"),o.textContent="√ó",c=W(),r=M("div");for(let v=0;v<f.length;v+=1)f[v].c();B(i,"class","svelte-1jodnya"),B(o,"class","close-btn svelte-1jodnya"),B(l,"class","menu-header svelte-1jodnya"),B(r,"class","options-grid svelte-1jodnya"),B(n,"class","menu svelte-1jodnya"),se(n,"left",t[3].x+"px"),se(n,"top",t[3].y+"px"),B(e,"class","backdrop svelte-1jodnya"),B(e,"role","button"),B(e,"tabindex","0")},m(v,p){O(v,e,p),D(e,n),D(n,l),D(l,i),D(l,s),D(l,o),D(n,c),D(n,r);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(r,null);a=!0,d||(m=[ee(o,"click",t[5]),ee(e,"click",t[6]),ee(e,"keydown",t[8])],d=!0)},p(v,p){if(p&22){g=de(v[1]);let _;for(_=0;_<g.length;_+=1){const z=Tt(v,g,_);f[_]?(f[_].p(z,p),T(f[_],1)):(f[_]=Ft(z),f[_].c(),T(f[_],1),f[_].m(r,null))}for(ke(),_=g.length;_<f.length;_+=1)w(_);Ae()}(!a||p&8)&&se(n,"left",v[3].x+"px"),(!a||p&8)&&se(n,"top",v[3].y+"px")},i(v){if(!a){for(let p=0;p<g.length;p+=1)T(f[p]);a=!0}},o(v){f=f.filter(Boolean);for(let p=0;p<f.length;p+=1)F(f[p]);a=!1},d(v){v&&S(e),nt(f,v),d=!1,ve(m)}}}function Ft(t){let e,n,l,i,s,o;n=new sn({props:{imgSrc:t[2][t[10].tileIndex].src,rotationDeg:t[10].rotation*90}});function c(){return t[7](t[10])}return{c(){e=M("button"),Q(n.$$.fragment),l=W(),B(e,"class","option-button svelte-1jodnya")},m(r,a){O(r,e,a),U(n,e,null),D(e,l),i=!0,s||(o=ee(e,"click",c),s=!0)},p(r,a){t=r;const d={};a&6&&(d.imgSrc=t[2][t[10].tileIndex].src),a&2&&(d.rotationDeg=t[10].rotation*90),n.$set(d)},i(r){i||(T(n.$$.fragment,r),i=!0)},o(r){F(n.$$.fragment,r),i=!1},d(r){r&&S(e),H(n),s=!1,o()}}}function jl(t){let e,n,l=t[0]&&Ot(t);return{c(){l&&l.c(),e=en()},m(i,s){l&&l.m(i,s),O(i,e,s),n=!0},p(i,[s]){i[0]?l?(l.p(i,s),s&1&&T(l,1)):(l=Ot(i),l.c(),T(l,1),l.m(e.parentNode,e)):l&&(ke(),F(l,1,1,()=>{l=null}),Ae())},i(i){n||(T(l),n=!0)},o(i){F(l),n=!1},d(i){i&&S(e),l&&l.d(i)}}}function Rl(t,e,n){let{visible:l=!1}=e,{options:i=[]}=e,{tiles:s=[]}=e,{position:o={x:0,y:0}}=e;const c=lt();function r(f){c("optionSelected",f),a()}function a(){c("close")}function d(f){f.target===f.currentTarget&&a()}const m=f=>r(f),g=f=>{(f.key==="Escape"||f.key==="Enter"||f.key===" ")&&a()};return t.$$set=f=>{"visible"in f&&n(0,l=f.visible),"options"in f&&n(1,i=f.options),"tiles"in f&&n(2,s=f.tiles),"position"in f&&n(3,o=f.position)},[l,i,s,o,r,a,d,m,g]}class Wl extends re{constructor(e){super(),oe(this,e,Rl,jl,ie,{visible:0,options:1,tiles:2,position:3})}}function Lt(t,e,n){const l=t.slice();return l[35]=e[n],l}function zt(t,e,n){const l=t.slice();return l[38]=e[n],l[40]=n,l}function Nt(t){var i,s;let e,n;function l(...o){return t[19](t[40],...o)}return e=new sn({props:{imgSrc:((s=(i=t[38])==null?void 0:i.chosen)==null?void 0:s.src)||t[2][0].src,rotationDeg:t[38].rotation*90,clickable:!t[38].collapsed&&t[38].options.length>1,hasOptions:t[38].collapsed?!1:t[38].options.length,selectionMode:t[7]}}),e.$on("tileClick",l),{c(){Q(e.$$.fragment)},m(o,c){U(e,o,c),n=!0},p(o,c){var a,d;t=o;const r={};c[0]&5&&(r.imgSrc=((d=(a=t[38])==null?void 0:a.chosen)==null?void 0:d.src)||t[2][0].src),c[0]&1&&(r.rotationDeg=t[38].rotation*90),c[0]&1&&(r.clickable=!t[38].collapsed&&t[38].options.length>1),c[0]&1&&(r.hasOptions=t[38].collapsed?!1:t[38].options.length),c[0]&128&&(r.selectionMode=t[7]),e.$set(r)},i(o){n||(T(e.$$.fragment,o),n=!0)},o(o){F(e.$$.fragment,o),n=!1},d(o){H(e,o)}}}function jt(t){let e,n=t[35].name+"",l;return{c(){e=M("option"),l=ge(n),e.__value=t[35].index,ft(e,e.__value)},m(i,s){O(i,e,s),D(e,l)},p:Y,d(i){i&&S(e)}}}function ql(t){let e,n,l,i,s,o,c,r,a,d,m,g,f,w,v,p,_,z,k,C,L=de(t[12]),q=[];for(let A=0;A<L.length;A+=1)q[A]=jt(Lt(t,L,A));function G(A){t[22](A)}let N={label:"Gap",min:0,max:5};t[5]!==void 0&&(N.value=t[5]),l=new Re({props:N}),ce.push(()=>we(l,"value",G));function ne(A){t[23](A)}let he={label:"Animationtime (ms)",min:1,max:750};t[6]!==void 0&&(he.value=t[6]),o=new Re({props:he}),ce.push(()=>we(o,"value",ne));function Le(A){t[24](A)}let Me={label:"Width",min:10,max:50};t[3]!==void 0&&(Me.value=t[3]),a=new Re({props:Me}),ce.push(()=>we(a,"value",Le)),a.$on("change",t[25]);function ze(A){t[26](A)}let Be={label:"Height",min:10,max:50};return t[4]!==void 0&&(Be.value=t[4]),g=new Re({props:Be}),ce.push(()=>we(g,"value",ze)),g.$on("change",t[27]),{c(){e=M("select");for(let A=0;A<q.length;A+=1)q[A].c();n=W(),Q(l.$$.fragment),s=W(),Q(o.$$.fragment),r=W(),Q(a.$$.fragment),m=W(),Q(g.$$.fragment),w=W(),v=M("div"),p=ge(`Enable Selectionmode:
            `),_=M("input"),B(e,"name","tilesets"),B(e,"id","tileset-select"),se(e,"width","100%"),t[1]===void 0&&Fe(()=>t[20].call(e)),B(_,"type","checkbox"),B(_,"id","my-toggle")},m(A,x){O(A,e,x);for(let me=0;me<q.length;me+=1)q[me]&&q[me].m(e,null);Mt(e,t[1],!0),O(A,n,x),U(l,A,x),O(A,s,x),U(o,A,x),O(A,r,x),U(a,A,x),O(A,m,x),U(g,A,x),O(A,w,x),O(A,v,x),D(v,p),D(v,_),_.checked=t[7],z=!0,k||(C=[ee(e,"change",t[20]),ee(e,"change",t[21]),ee(_,"change",t[28])],k=!0)},p(A,x){if(x[0]&4096){L=de(A[12]);let u;for(u=0;u<L.length;u+=1){const b=Lt(A,L,u);q[u]?q[u].p(b,x):(q[u]=jt(b),q[u].c(),q[u].m(e,null))}for(;u<q.length;u+=1)q[u].d(1);q.length=L.length}x[0]&4098&&Mt(e,A[1]);const me={};!i&&x[0]&32&&(i=!0,me.value=A[5],be(()=>i=!1)),l.$set(me);const $e={};!c&&x[0]&64&&(c=!0,$e.value=A[6],be(()=>c=!1)),o.$set($e);const De={};!d&&x[0]&8&&(d=!0,De.value=A[3],be(()=>d=!1)),a.$set(De);const h={};!f&&x[0]&16&&(f=!0,h.value=A[4],be(()=>f=!1)),g.$set(h),x[0]&128&&(_.checked=A[7])},i(A){z||(T(l.$$.fragment,A),T(o.$$.fragment,A),T(a.$$.fragment,A),T(g.$$.fragment,A),z=!0)},o(A){F(l.$$.fragment,A),F(o.$$.fragment,A),F(a.$$.fragment,A),F(g.$$.fragment,A),z=!1},d(A){A&&(S(e),S(n),S(s),S(r),S(m),S(w),S(v)),nt(q,A),H(l,A),H(o,A),H(a,A),H(g,A),k=!1,ve(C)}}}function Gl(t){var z;let e,n,l,i,s,o,c,r,a,d,m,g,f,w,v=de(t[0]),p=[];for(let k=0;k<v.length;k+=1)p[k]=Nt(zt(t,v,k));const _=k=>F(p[k],1,1,()=>{p[k]=null});return s=new Wl({props:{visible:t[8],options:t[9]>=0?((z=t[0][t[9]])==null?void 0:z.options)||[]:[],tiles:t[2],position:t[10]}}),s.$on("optionSelected",t[14]),s.$on("close",t[15]),c=new xn({props:{position:"right",icon:"‚ò∞",$$slots:{default:[ql]},$$scope:{ctx:t}}}),a=new Ke({props:{icon:"‚ñ∂",position:"left"}}),a.$on("click",t[18]),m=new Ke({props:{icon:"‚èØ",position:"left1"}}),m.$on("click",t[17]),f=new Ke({props:{icon:"‚ü≥",position:"left2"}}),f.$on("click",t[29]),{c(){e=M("main"),n=M("div");for(let k=0;k<p.length;k+=1)p[k].c();i=W(),Q(s.$$.fragment),o=W(),Q(c.$$.fragment),r=W(),Q(a.$$.fragment),d=W(),Q(m.$$.fragment),g=W(),Q(f.$$.fragment),B(n,"class","grid svelte-1ra75ne"),B(n,"style",l=`grid-template-columns: repeat(${t[3]}, 1fr); gap: ${t[5]}px`),B(e,"class","page-container svelte-1ra75ne")},m(k,C){O(k,e,C),D(e,n);for(let L=0;L<p.length;L+=1)p[L]&&p[L].m(n,null);D(e,i),U(s,e,null),D(e,o),U(c,e,null),D(e,r),U(a,e,null),D(e,d),U(m,e,null),D(e,g),U(f,e,null),w=!0},p(k,C){var G;if(C[0]&8325){v=de(k[0]);let N;for(N=0;N<v.length;N+=1){const ne=zt(k,v,N);p[N]?(p[N].p(ne,C),T(p[N],1)):(p[N]=Nt(ne),p[N].c(),T(p[N],1),p[N].m(n,null))}for(ke(),N=v.length;N<p.length;N+=1)_(N);Ae()}(!w||C[0]&40&&l!==(l=`grid-template-columns: repeat(${k[3]}, 1fr); gap: ${k[5]}px`))&&B(n,"style",l);const L={};C[0]&256&&(L.visible=k[8]),C[0]&513&&(L.options=k[9]>=0?((G=k[0][k[9]])==null?void 0:G.options)||[]:[]),C[0]&4&&(L.tiles=k[2]),C[0]&1024&&(L.position=k[10]),s.$set(L);const q={};C[0]&255|C[1]&1024&&(q.$$scope={dirty:C,ctx:k}),c.$set(q)},i(k){if(!w){for(let C=0;C<v.length;C+=1)T(p[C]);T(s.$$.fragment,k),T(c.$$.fragment,k),T(a.$$.fragment,k),T(m.$$.fragment,k),T(f.$$.fragment,k),w=!0}},o(k){p=p.filter(Boolean);for(let C=0;C<p.length;C+=1)F(p[C]);F(s.$$.fragment,k),F(c.$$.fragment,k),F(a.$$.fragment,k),F(m.$$.fragment,k),F(f.$$.fragment,k),w=!1},d(k){k&&S(e),nt(p,k),H(s),H(c),H(a),H(m),H(f)}}}function Rt(t,e){const n=[...t];for(let l=0;l<e;l++)n.unshift(n.pop());return n}function Vl(t,e,n){let l;const i={terrain:vl,circuit:Sl,pipes:Nl},s=Object.keys(i).map((b,y)=>({index:y,name:b}));let o=0,c=i[s[o].name],r=30,a=15,d=0,m=50,g=C(),f=!1,w=!1,v=-1,p={x:0,y:0};function _(b,y){const $=g[b];$.collapsed||$.options.length<=1||(n(9,v=b),n(10,p={x:y.clientX,y:y.clientY}),n(8,w=!0))}function z(b){const y=b.detail;ne(v,y),n(8,w=!1),n(9,v=-1)}function k(){n(8,w=!1),n(9,v=-1)}function C(){return Array(r*a).fill().map(()=>({options:c.flatMap((b,y)=>[0,1,2,3].map($=>({tileIndex:y,rotation:$}))),collapsed:!1,rotation:0,chosen:null}))}function L(){let b=1/0,y=-1;return g.forEach(($,I)=>{!$.collapsed&&$.options.length<b&&(b=$.options.length,y=I)}),y}function q(b){const y=b.reduce((I,E)=>{const P=c[E.tileIndex];return I+(P.weight||1)},0);let $=Math.random()*y;for(const I of b){const E=c[I.tileIndex];if($-=E.weight||1,$<=0)return I}}function G(b){const y=[b];for(;y.length>0;){const $=y.shift(),I=g[$],E=[[],[],[],[]];I.options.forEach(X=>{const V=c[X.tileIndex],K=Rt(V.edges,X.rotation);for(let J=0;J<4;J++)E[J].includes(K[J])||E[J].push(K[J])});const P=[{dx:0,dy:-1,dir:0},{dx:1,dy:0,dir:1},{dx:0,dy:1,dir:2},{dx:-1,dy:0,dir:3}],j=$%r,Z=Math.floor($/r);P.forEach(({dx:X,dy:V,dir:K})=>{const J=j+X,R=Z+V;if(J>=0&&J<r&&R>=0&&R<a){const le=R*r+J,ae=g[le];if(ae.collapsed)return;const ue=E[K],pe=ae.options.length,_e=ae.options.filter(fe=>{const st=c[fe.tileIndex],it=Rt(st.edges,fe.rotation)[(K+2)%4];return ue.includes(it.split("").reverse().join(""))});if(_e.length<pe){if(_e.length===0){console.error(`Contradiction at index ${le}`);return}ae.options=_e,y.includes(le)||y.push(le)}}})}n(0,g=[...g])}async function N(){ne(L())}async function ne(b,y=void 0){if(l)return;const $=b;if($===-1)return;const I=g[$];let E;y!==void 0&&I.options.some(P=>P.tileIndex===y.tileIndex&&P.rotation==y.rotation)?E=y:E=q(I.options),I.collapsed=!0,I.chosen=E,I.chosen.src=c[E.tileIndex].src,I.rotation=E.rotation,I.options=[E],G($)}async function he(){for(l&&(n(0,g=C()),l=!1);!l;)await N(),await new Promise(b=>setTimeout(b,m));console.log("WFC complete!")}const Le=(b,y)=>_(b,y);function Me(){o=Mn(this),n(1,o),n(12,s)}const ze=()=>{n(2,c=i[s[o].name]),n(0,g=C())};function Be(b){d=b,n(5,d)}function A(b){m=b,n(6,m)}function x(b){r=b,n(3,r)}const me=()=>n(0,g=C());function $e(b){a=b,n(4,a)}const De=()=>n(0,g=C());function h(){f=this.checked,n(7,f)}const u=()=>n(0,g=C());return t.$$.update=()=>{t.$$.dirty[0]&1&&(l=g.every(b=>b.collapsed))},[g,o,c,r,a,d,m,f,w,v,p,i,s,_,z,k,C,N,he,Le,Me,ze,Be,A,x,me,$e,De,h,u]}class Ul extends re{constructor(e){super(),oe(this,e,Vl,Gl,ie,{},null,[-1,-1])}}function Hl(t){const e=t-1;return e*e*e+1}function Zl(t,{delay:e=0,duration:n=400,easing:l=Hl,axis:i="y"}={}){const s=getComputedStyle(t),o=+s.opacity,c=i==="y"?"height":"width",r=parseFloat(s[c]),a=i==="y"?["top","bottom"]:["left","right"],d=a.map(_=>`${_[0].toUpperCase()}${_.slice(1)}`),m=parseFloat(s[`padding${d[0]}`]),g=parseFloat(s[`padding${d[1]}`]),f=parseFloat(s[`margin${d[0]}`]),w=parseFloat(s[`margin${d[1]}`]),v=parseFloat(s[`border${d[0]}Width`]),p=parseFloat(s[`border${d[1]}Width`]);return{delay:e,duration:n,easing:l,css:_=>`overflow: hidden;opacity: ${Math.min(_*20,1)*o};${c}: ${_*r}px;padding-${a[0]}: ${_*m}px;padding-${a[1]}: ${_*g}px;margin-${a[0]}: ${_*f}px;margin-${a[1]}: ${_*w}px;border-${a[0]}-width: ${_*v}px;border-${a[1]}-width: ${_*p}px;`}}function Kl(t){let e,n;return{c(){e=M("div"),B(e,"class","water-level svelte-akekp6"),se(e,"background-color",t[0])},m(l,i){O(l,e,i)},p(l,[i]){i&1&&se(e,"background-color",l[0])},i(l){l&&(n||Fe(()=>{n=jn(e,Zl,{duration:1e3}),n.start()}))},o:Y,d(l){l&&S(e)}}}function Jl(t,e,n){let{color:l}=e;return t.$$set=i=>{"color"in i&&n(0,l=i.color)},[l]}class Ql extends re{constructor(e){super(),oe(this,e,Jl,Kl,ie,{color:0})}}function Wt(t,e,n){const l=t.slice();return l[10]=e[n],l[12]=n,l}function qt(t,e){let n,l,i;return l=new Ql({props:{color:e[10].color}}),{key:t,first:null,c(){n=en(),Q(l.$$.fragment),this.first=n},m(s,o){O(s,n,o),U(l,s,o),i=!0},p(s,o){e=s;const c={};o&1&&(c.color=e[10].color),l.$set(c)},i(s){i||(T(l.$$.fragment,s),i=!0)},o(s){F(l.$$.fragment,s),i=!1},d(s){s&&S(n),H(l,s)}}}function Xl(t){let e,n=[],l=new Map,i,s,o,c,r,a,d=de(t[0].levels);const m=g=>g[12];for(let g=0;g<d.length;g+=1){let f=Wt(t,d,g),w=m(f);l.set(w,n[g]=qt(w,f))}return{c(){e=M("button");for(let g=0;g<n.length;g+=1)n[g].c();i=W(),s=M("div"),B(s,"class","empty-space svelte-1po1ue6"),B(e,"class",o="bottle "+t[5]+" "+(t[2]?"pouring":"")+" svelte-1po1ue6"),se(e,"height",t[3]+"px"),se(e,"width",t[4]+"px"),te(e,"selected",t[1])},m(g,f){O(g,e,f);for(let w=0;w<n.length;w+=1)n[w]&&n[w].m(e,null);D(e,i),D(e,s),c=!0,r||(a=ee(e,"click",t[6]),r=!0)},p(g,[f]){f&1&&(d=de(g[0].levels),ke(),n=ln(n,f,m,1,g,d,l,e,nn,qt,i,Wt),Ae()),(!c||f&36&&o!==(o="bottle "+g[5]+" "+(g[2]?"pouring":"")+" svelte-1po1ue6"))&&B(e,"class",o),(!c||f&8)&&se(e,"height",g[3]+"px"),(!c||f&16)&&se(e,"width",g[4]+"px"),(!c||f&38)&&te(e,"selected",g[1])},i(g){if(!c){for(let f=0;f<d.length;f+=1)T(n[f]);c=!0}},o(g){for(let f=0;f<n.length;f+=1)F(n[f]);c=!1},d(g){g&&S(e);for(let f=0;f<n.length;f+=1)n[f].d();r=!1,a()}}}function Yl(t,e,n){const l=lt();let{bottle:i}=e,{selected:s=!1}=e,{pouring:o=!1}=e,{id:c}=e,{height:r=200}=e,{width:a=50}=e,{bottleFinished:d}=e;function m(){console.log(`Bottle ${c} was clicked`,i),l("click")}let{class:g=""}=e;return t.$$set=f=>{"bottle"in f&&n(0,i=f.bottle),"selected"in f&&n(1,s=f.selected),"pouring"in f&&n(2,o=f.pouring),"id"in f&&n(8,c=f.id),"height"in f&&n(3,r=f.height),"width"in f&&n(4,a=f.width),"bottleFinished"in f&&n(7,d=f.bottleFinished),"class"in f&&n(5,g=f.class)},t.$$.update=()=>{t.$$.dirty&1&&n(7,d=i.levels.length===0||i.levels.length===5&&i.levels.every(f=>f.color===i.levels[0].color))},[i,s,o,r,a,g,m,d,c]}class xl extends re{constructor(e){super(),oe(this,e,Yl,Xl,ie,{bottle:0,selected:1,pouring:2,id:8,height:3,width:4,bottleFinished:7,class:5})}}const Pe=[];function es(t,e=Y){let n;const l=new Set;function i(c){if(ie(t,c)&&(t=c,n)){const r=!Pe.length;for(const a of l)a[1](),Pe.push(a,t);if(r){for(let a=0;a<Pe.length;a+=2)Pe[a][0](Pe[a+1]);Pe.length=0}}}function s(c){i(c(t))}function o(c,r=Y){const a=[c,r];return l.add(a),l.size===1&&(n=e(i,s)||Y),c(t),()=>{l.delete(a),l.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}const Xe=es(8);function Gt(t,e,n){const l=t.slice();return l[11]=e[n],l[12]=e,l[13]=n,l}function Vt(t,e){let n,l,i,s,o;function c(d){e[6](d,e[13])}function r(){return e[7](e[13])}let a={bottle:e[11],id:e[13],selected:e[13]===e[1],pouring:e[13]===e[3]};return e[2][e[13]]!==void 0&&(a.bottleFinished=e[2][e[13]]),l=new xl({props:a}),ce.push(()=>we(l,"bottleFinished",c)),l.$on("click",r),{key:t,first:null,c(){n=M("div"),Q(l.$$.fragment),s=W(),B(n,"class","bottle"+" svelte-1xvmf4b"),this.first=n},m(d,m){O(d,n,m),U(l,n,null),D(n,s),o=!0},p(d,m){e=d;const g={};m&1&&(g.bottle=e[11]),m&1&&(g.id=e[13]),m&3&&(g.selected=e[13]===e[1]),m&9&&(g.pouring=e[13]===e[3]),!i&&m&5&&(i=!0,g.bottleFinished=e[2][e[13]],be(()=>i=!1)),l.$set(g)},i(d){o||(T(l.$$.fragment,d),o=!0)},o(d){F(l.$$.fragment,d),o=!1},d(d){d&&S(n),H(l)}}}function ts(t){let e,n=[],l=new Map,i,s=de(t[0].bottles);const o=c=>c[13];for(let c=0;c<s.length;c+=1){let r=Gt(t,s,c),a=o(r);l.set(a,n[c]=Vt(a,r))}return{c(){e=M("div");for(let c=0;c<n.length;c+=1)n[c].c();B(e,"class","game-board svelte-1xvmf4b")},m(c,r){O(c,e,r);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null);i=!0},p(c,[r]){r&31&&(s=de(c[0].bottles),ke(),n=ln(n,r,o,1,c,s,l,e,nn,Vt,null,Gt),Ae())},i(c){if(!i){for(let r=0;r<s.length;r+=1)T(n[r]);i=!0}},o(c){for(let r=0;r<n.length;r+=1)F(n[r]);i=!1},d(c){c&&S(e);for(let r=0;r<n.length;r+=1)n[r].d()}}}const ns=5;function ls(t,e,n){let l;pt(t,Xe,f=>n(5,l=f));const i=lt();let{gameState:s}=e,o=null,c=null,r;function a(f){if(o===null)n(1,o=f);else{if(!d(o,f)){n(1,o=null);return}n(3,c=o),setTimeout(()=>{n(3,c=null)},300),n(1,o=null)}}function d(f,w){const v=s.bottles[f],p=s.bottles[w],_=v.levels.length>0?v.levels[v.levels.length-1].color:null,z=p.levels.length>0?p.levels[p.levels.length-1].color:null;if(_&&(z===_||p.levels.length===0)){const k=ns-p.levels.length;let C=0;for(let L=v.levels.length-1;L>=0&&v.levels[L].color===_;L--)C++;if(C=Math.min(C,k),C===0)return!1;if(C>0){const L=v.levels.splice(v.levels.length-C,C);return p.levels=p.levels.concat(L),n(0,s={...s}),!0}}}function m(f,w){t.$$.not_equal(r[w],f)&&(r[w]=f,n(2,r),n(5,l))}const g=f=>a(f);return t.$$set=f=>{"gameState"in f&&n(0,s=f.gameState)},t.$$.update=()=>{t.$$.dirty&32&&n(2,r=Array(l).fill(!1)),t.$$.dirty&36&&(console.log("Finished Bottles",r),r.filter(f=>f).length===l&&(console.log("All Bottles are finished, Dispatching so"),i("winCurrentBoard"))),t.$$.dirty&2&&console.log("I selected Bottle ",o)},[s,o,r,c,a,l,m,g]}class ss extends re{constructor(e){super(),oe(this,e,ls,ts,ie,{gameState:0})}}function is(t){let e,n,l,i,s,o,c,r,a,d;function m(f){t[1](f)}let g={min:3,max:12,hideMinMax:!1,class:"list-item-value"};return t[0]!==void 0&&(g.value=t[0]),r=new Re({props:g}),ce.push(()=>we(r,"value",m)),{c(){e=M("div"),n=M("h1"),n.textContent="Settings",l=W(),i=M("div"),s=M("div"),o=M("span"),o.textContent="Number of Bottles:",c=W(),Q(r.$$.fragment),B(o,"class","list-item-lbl svelte-o5f2y4"),B(s,"class","list-item svelte-o5f2y4"),B(i,"class","list svelte-o5f2y4"),B(e,"class","settings-container svelte-o5f2y4")},m(f,w){O(f,e,w),D(e,n),D(e,l),D(e,i),D(i,s),D(s,o),D(s,c),U(r,s,null),d=!0},p(f,[w]){const v={};!a&&w&1&&(a=!0,v.value=f[0],be(()=>a=!1)),r.$set(v)},i(f){d||(T(r.$$.fragment,f),d=!0)},o(f){F(r.$$.fragment,f),d=!1},d(f){f&&S(e),H(r)}}}function os(t,e,n){let l;pt(t,Xe,s=>n(0,l=s));function i(s){l=s,Xe.set(l)}return[l,i]}class rs extends re{constructor(e){super(),oe(this,e,os,is,ie,{})}}function as(t){let e,n,l,i,s,o,c,r;const a=t[6].default,d=Ye(a,t,t[5],null);return{c(){e=M("div"),n=M("div"),l=M("button"),i=W(),s=M("div"),d&&d.c(),B(l,"id","close"),B(l,"class","close svelte-1j5vmfm"),B(s,"id","modal-content"),B(s,"class","svelte-1j5vmfm"),B(n,"id","modal"),B(n,"class","svelte-1j5vmfm"),B(e,"id","topModal"),B(e,"class","window-wrap svelte-1j5vmfm"),B(e,"role","dialog"),B(e,"aria-modal","true"),te(e,"visible",t[1])},m(m,g){O(m,e,g),D(e,n),D(n,l),D(n,i),D(n,s),d&&d.m(s,null),t[8](e),o=!0,c||(r=[ee(l,"click",t[7]),ee(n,"click",yn(cs)),ee(e,"click",t[9])],c=!0)},p(m,[g]){d&&d.p&&(!o||g&32)&&et(d,a,m,m[5],o?xe(a,m[5],g,null):tt(m[5]),null),(!o||g&2)&&te(e,"visible",m[1])},i(m){o||(T(d,m),o=!0)},o(m){F(d,m),o=!1},d(m){m&&S(e),d&&d.d(m),t[8](null),c=!1,ve(r)}}}let je;const ht={};function Ut(t=""){return ht[t]}const cs=()=>{};function us(t,e,n){let{$$slots:l={},$$scope:i}=e,s,o=!1,c,r,{closeOnEscape:a=!0}=e,{id:d=""}=e;function m(_){_.key=="Escape"&&a&&je==s&&f()}function g(_){r=_,!o&&(c=je,je=s,window.addEventListener("keydown",m),document.body.style.overflow="hidden",n(1,o=!0),document.body.appendChild(s))}function f(_){o&&(window.removeEventListener("keydown",m),je=c,je==null&&(document.body.style.overflow=""),n(1,o=!1),r&&r(_))}ht[d]={show:g,close:f},Sn(()=>{delete ht[d],window.removeEventListener("keydown",m)});const w=()=>f();function v(_){ce[_?"unshift":"push"](()=>{s=_,n(0,s)})}const p=()=>f();return t.$$set=_=>{"closeOnEscape"in _&&n(3,a=_.closeOnEscape),"id"in _&&n(4,d=_.id),"$$scope"in _&&n(5,i=_.$$scope)},[s,o,f,a,d,i,l,w,v,p]}class ct extends re{constructor(e){super(),oe(this,e,us,as,ie,{closeOnEscape:3,id:4})}}function fs(t){let e;return{c(){e=ge("Restart")},m(n,l){O(n,e,l)},d(n){n&&S(e)}}}function ds(t){let e;return{c(){e=ge("Settings")},m(n,l){O(n,e,l)},d(n){n&&S(e)}}}function gs(t){let e,n;return e=new rs({}),{c(){Q(e.$$.fragment)},m(l,i){U(e,l,i),n=!0},i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){F(e.$$.fragment,l),n=!1},d(l){H(e,l)}}}function hs(t){let e,n,l,i,s,o,c;return{c(){e=M("h1"),e.textContent="Play the Watersort Game here",n=W(),l=M("p"),l.textContent="üéâF√ºr nur 7475‚Ç¨üéâ",i=W(),s=M("button"),s.textContent="Long live the nested Modals"},m(r,a){O(r,e,a),O(r,n,a),O(r,l,a),O(r,i,a),O(r,s,a),o||(c=ee(s,"click",t[3]),o=!0)},p:Y,d(r){r&&(S(e),S(n),S(l),S(i),S(s)),o=!1,c()}}}function ms(t){let e,n,l;return{c(){e=M("h2"),e.textContent="Second One",n=W(),l=M("p"),l.textContent="Yeah"},m(i,s){O(i,e,s),O(i,n,s),O(i,l,s)},p:Y,d(i){i&&(S(e),S(n),S(l))}}}function ps(t){let e,n,l,i,s,o,c,r,a,d,m,g,f;const w=t[0].default,v=Ye(w,t,t[4],null);return i=new Pt({props:{$$slots:{default:[fs]},$$scope:{ctx:t}}}),i.$on("click",t[1]),o=new Pt({props:{$$slots:{default:[ds]},$$scope:{ctx:t}}}),o.$on("click",t[2]),r=new ct({props:{id:"settings",$$slots:{default:[gs]},$$scope:{ctx:t}}}),d=new ct({props:{$$slots:{default:[hs]},$$scope:{ctx:t}}}),g=new ct({props:{id:"two",$$slots:{default:[ms]},$$scope:{ctx:t}}}),{c(){e=M("div"),v&&v.c(),n=W(),l=M("div"),Q(i.$$.fragment),s=W(),Q(o.$$.fragment),c=W(),Q(r.$$.fragment),a=W(),Q(d.$$.fragment),m=W(),Q(g.$$.fragment),B(e,"class","card svelte-nea6l9")},m(p,_){O(p,e,_),v&&v.m(e,null),D(e,n),D(e,l),U(i,l,null),D(l,s),U(o,l,null),O(p,c,_),U(r,p,_),O(p,a,_),U(d,p,_),O(p,m,_),U(g,p,_),f=!0},p(p,[_]){v&&v.p&&(!f||_&16)&&et(v,w,p,p[4],f?xe(w,p[4],_,null):tt(p[4]),null);const z={};_&16&&(z.$$scope={dirty:_,ctx:p}),i.$set(z);const k={};_&16&&(k.$$scope={dirty:_,ctx:p}),o.$set(k);const C={};_&16&&(C.$$scope={dirty:_,ctx:p}),r.$set(C);const L={};_&16&&(L.$$scope={dirty:_,ctx:p}),d.$set(L);const q={};_&16&&(q.$$scope={dirty:_,ctx:p}),g.$set(q)},i(p){f||(T(v,p),T(i.$$.fragment,p),T(o.$$.fragment,p),T(r.$$.fragment,p),T(d.$$.fragment,p),T(g.$$.fragment,p),f=!0)},o(p){F(v,p),F(i.$$.fragment,p),F(o.$$.fragment,p),F(r.$$.fragment,p),F(d.$$.fragment,p),F(g.$$.fragment,p),f=!1},d(p){p&&(S(e),S(c),S(a),S(m)),v&&v.d(p),H(i),H(o),H(r,p),H(d,p),H(g,p)}}}function _s(t,e,n){let{$$slots:l={},$$scope:i}=e;function s(r){Ve.call(this,t,r)}const o=()=>Ut("settings").show(),c=()=>Ut("two").show();return t.$$set=r=>{"$$scope"in r&&n(4,i=r.$$scope)},[l,s,o,c,i]}class vs extends re{constructor(e){super(),oe(this,e,_s,ps,ie,{})}}var Ue={};(function t(e,n,l,i){var s=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",c=function(){if(!e.OffscreenCanvas)return!1;var h=new OffscreenCanvas(1,1),u=h.getContext("2d");u.fillRect(0,0,1,1);var b=h.transferToImageBitmap();try{u.createPattern(b,"no-repeat")}catch{return!1}return!0}();function r(){}function a(h){var u=n.exports.Promise,b=u!==void 0?u:e.Promise;return typeof b=="function"?new b(h):(h(r,r),null)}var d=function(h,u){return{transform:function(b){if(h)return b;if(u.has(b))return u.get(b);var y=new OffscreenCanvas(b.width,b.height),$=y.getContext("2d");return $.drawImage(b,0,0),u.set(b,y),y},clear:function(){u.clear()}}}(c,new Map),m=function(){var h=Math.floor(16.666666666666668),u,b,y={},$=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(u=function(I){var E=Math.random();return y[E]=requestAnimationFrame(function P(j){$===j||$+h-1<j?($=j,delete y[E],I()):y[E]=requestAnimationFrame(P)}),E},b=function(I){y[I]&&cancelAnimationFrame(y[I])}):(u=function(I){return setTimeout(I,h)},b=function(I){return clearTimeout(I)}),{frame:u,cancel:b}}(),g=function(){var h,u,b={};function y($){function I(E,P){$.postMessage({options:E||{},callback:P})}$.init=function(P){var j=P.transferControlToOffscreen();$.postMessage({canvas:j},[j])},$.fire=function(P,j,Z){if(u)return I(P,null),u;var X=Math.random().toString(36).slice(2);return u=a(function(V){function K(J){J.data.callback===X&&(delete b[X],$.removeEventListener("message",K),u=null,d.clear(),Z(),V())}$.addEventListener("message",K),I(P,X),b[X]=K.bind(null,{data:{callback:X}})}),u},$.reset=function(){$.postMessage({reset:!0});for(var P in b)b[P](),delete b[P]}}return function(){if(h)return h;if(!l&&s){var $=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{h=new Worker(URL.createObjectURL(new Blob([$])))}catch(I){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("üéä Could not load worker",I),null}y(h)}return h}}(),f={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function w(h,u){return u?u(h):h}function v(h){return h!=null}function p(h,u,b){return w(h&&v(h[u])?h[u]:f[u],b)}function _(h){return h<0?0:Math.floor(h)}function z(h,u){return Math.floor(Math.random()*(u-h))+h}function k(h){return parseInt(h,16)}function C(h){return h.map(L)}function L(h){var u=String(h).replace(/[^0-9a-f]/gi,"");return u.length<6&&(u=u[0]+u[0]+u[1]+u[1]+u[2]+u[2]),{r:k(u.substring(0,2)),g:k(u.substring(2,4)),b:k(u.substring(4,6))}}function q(h){var u=p(h,"origin",Object);return u.x=p(u,"x",Number),u.y=p(u,"y",Number),u}function G(h){h.width=document.documentElement.clientWidth,h.height=document.documentElement.clientHeight}function N(h){var u=h.getBoundingClientRect();h.width=u.width,h.height=u.height}function ne(h){var u=document.createElement("canvas");return u.style.position="fixed",u.style.top="0px",u.style.left="0px",u.style.pointerEvents="none",u.style.zIndex=h,u}function he(h,u,b,y,$,I,E,P,j){h.save(),h.translate(u,b),h.rotate(I),h.scale(y,$),h.arc(0,0,1,E,P,j),h.restore()}function Le(h){var u=h.angle*(Math.PI/180),b=h.spread*(Math.PI/180);return{x:h.x,y:h.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:h.startVelocity*.5+Math.random()*h.startVelocity,angle2D:-u+(.5*b-Math.random()*b),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:h.color,shape:h.shape,tick:0,totalTicks:h.ticks,decay:h.decay,drift:h.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:h.gravity*3,ovalScalar:.6,scalar:h.scalar,flat:h.flat}}function Me(h,u){u.x+=Math.cos(u.angle2D)*u.velocity+u.drift,u.y+=Math.sin(u.angle2D)*u.velocity+u.gravity,u.velocity*=u.decay,u.flat?(u.wobble=0,u.wobbleX=u.x+10*u.scalar,u.wobbleY=u.y+10*u.scalar,u.tiltSin=0,u.tiltCos=0,u.random=1):(u.wobble+=u.wobbleSpeed,u.wobbleX=u.x+10*u.scalar*Math.cos(u.wobble),u.wobbleY=u.y+10*u.scalar*Math.sin(u.wobble),u.tiltAngle+=.1,u.tiltSin=Math.sin(u.tiltAngle),u.tiltCos=Math.cos(u.tiltAngle),u.random=Math.random()+2);var b=u.tick++/u.totalTicks,y=u.x+u.random*u.tiltCos,$=u.y+u.random*u.tiltSin,I=u.wobbleX+u.random*u.tiltCos,E=u.wobbleY+u.random*u.tiltSin;if(h.fillStyle="rgba("+u.color.r+", "+u.color.g+", "+u.color.b+", "+(1-b)+")",h.beginPath(),o&&u.shape.type==="path"&&typeof u.shape.path=="string"&&Array.isArray(u.shape.matrix))h.fill(me(u.shape.path,u.shape.matrix,u.x,u.y,Math.abs(I-y)*.1,Math.abs(E-$)*.1,Math.PI/10*u.wobble));else if(u.shape.type==="bitmap"){var P=Math.PI/10*u.wobble,j=Math.abs(I-y)*.1,Z=Math.abs(E-$)*.1,X=u.shape.bitmap.width*u.scalar,V=u.shape.bitmap.height*u.scalar,K=new DOMMatrix([Math.cos(P)*j,Math.sin(P)*j,-Math.sin(P)*Z,Math.cos(P)*Z,u.x,u.y]);K.multiplySelf(new DOMMatrix(u.shape.matrix));var J=h.createPattern(d.transform(u.shape.bitmap),"no-repeat");J.setTransform(K),h.globalAlpha=1-b,h.fillStyle=J,h.fillRect(u.x-X/2,u.y-V/2,X,V),h.globalAlpha=1}else if(u.shape==="circle")h.ellipse?h.ellipse(u.x,u.y,Math.abs(I-y)*u.ovalScalar,Math.abs(E-$)*u.ovalScalar,Math.PI/10*u.wobble,0,2*Math.PI):he(h,u.x,u.y,Math.abs(I-y)*u.ovalScalar,Math.abs(E-$)*u.ovalScalar,Math.PI/10*u.wobble,0,2*Math.PI);else if(u.shape==="star")for(var R=Math.PI/2*3,le=4*u.scalar,ae=8*u.scalar,ue=u.x,pe=u.y,_e=5,fe=Math.PI/_e;_e--;)ue=u.x+Math.cos(R)*ae,pe=u.y+Math.sin(R)*ae,h.lineTo(ue,pe),R+=fe,ue=u.x+Math.cos(R)*le,pe=u.y+Math.sin(R)*le,h.lineTo(ue,pe),R+=fe;else h.moveTo(Math.floor(u.x),Math.floor(u.y)),h.lineTo(Math.floor(u.wobbleX),Math.floor($)),h.lineTo(Math.floor(I),Math.floor(E)),h.lineTo(Math.floor(y),Math.floor(u.wobbleY));return h.closePath(),h.fill(),u.tick<u.totalTicks}function ze(h,u,b,y,$){var I=u.slice(),E=h.getContext("2d"),P,j,Z=a(function(X){function V(){P=j=null,E.clearRect(0,0,y.width,y.height),d.clear(),$(),X()}function K(){l&&!(y.width===i.width&&y.height===i.height)&&(y.width=h.width=i.width,y.height=h.height=i.height),!y.width&&!y.height&&(b(h),y.width=h.width,y.height=h.height),E.clearRect(0,0,y.width,y.height),I=I.filter(function(J){return Me(E,J)}),I.length?P=m.frame(K):V()}P=m.frame(K),j=V});return{addFettis:function(X){return I=I.concat(X),Z},canvas:h,promise:Z,reset:function(){P&&m.cancel(P),j&&j()}}}function Be(h,u){var b=!h,y=!!p(u||{},"resize"),$=!1,I=p(u,"disableForReducedMotion",Boolean),E=s&&!!p(u||{},"useWorker"),P=E?g():null,j=b?G:N,Z=h&&P?!!h.__confetti_initialized:!1,X=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,V;function K(R,le,ae){for(var ue=p(R,"particleCount",_),pe=p(R,"angle",Number),_e=p(R,"spread",Number),fe=p(R,"startVelocity",Number),st=p(R,"decay",Number),bt=p(R,"gravity",Number),it=p(R,"drift",Number),wt=p(R,"colors",C),rn=p(R,"ticks",Number),Ct=p(R,"shapes"),an=p(R,"scalar"),cn=!!p(R,"flat"),Bt=q(R),yt=ue,ot=[],un=h.width*Bt.x,fn=h.height*Bt.y;yt--;)ot.push(Le({x:un,y:fn,angle:pe,spread:_e,startVelocity:fe,color:wt[yt%wt.length],shape:Ct[z(0,Ct.length)],ticks:rn,decay:st,gravity:bt,drift:it,scalar:an,flat:cn}));return V?V.addFettis(ot):(V=ze(h,ot,j,le,ae),V.promise)}function J(R){var le=I||p(R,"disableForReducedMotion",Boolean),ae=p(R,"zIndex",Number);if(le&&X)return a(function(fe){fe()});b&&V?h=V.canvas:b&&!h&&(h=ne(ae),document.body.appendChild(h)),y&&!Z&&j(h);var ue={width:h.width,height:h.height};P&&!Z&&P.init(h),Z=!0,P&&(h.__confetti_initialized=!0);function pe(){if(P){var fe={getBoundingClientRect:function(){if(!b)return h.getBoundingClientRect()}};j(fe),P.postMessage({resize:{width:fe.width,height:fe.height}});return}ue.width=ue.height=null}function _e(){V=null,y&&($=!1,e.removeEventListener("resize",pe)),b&&h&&(document.body.contains(h)&&document.body.removeChild(h),h=null,Z=!1)}return y&&!$&&($=!0,e.addEventListener("resize",pe,!1)),P?P.fire(R,ue,_e):K(R,ue,_e)}return J.reset=function(){P&&P.reset(),V&&V.reset()},J}var A;function x(){return A||(A=Be(null,{useWorker:!0,resize:!0})),A}function me(h,u,b,y,$,I,E){var P=new Path2D(h),j=new Path2D;j.addPath(P,new DOMMatrix(u));var Z=new Path2D;return Z.addPath(j,new DOMMatrix([Math.cos(E)*$,Math.sin(E)*$,-Math.sin(E)*I,Math.cos(E)*I,b,y])),Z}function $e(h){if(!o)throw new Error("path confetti are not supported in this browser");var u,b;typeof h=="string"?u=h:(u=h.path,b=h.matrix);var y=new Path2D(u),$=document.createElement("canvas"),I=$.getContext("2d");if(!b){for(var E=1e3,P=E,j=E,Z=0,X=0,V,K,J=0;J<E;J+=2)for(var R=0;R<E;R+=2)I.isPointInPath(y,J,R,"nonzero")&&(P=Math.min(P,J),j=Math.min(j,R),Z=Math.max(Z,J),X=Math.max(X,R));V=Z-P,K=X-j;var le=10,ae=Math.min(le/V,le/K);b=[ae,0,0,ae,-Math.round(V/2+P)*ae,-Math.round(K/2+j)*ae]}return{type:"path",path:u,matrix:b}}function De(h){var u,b=1,y="#000000",$='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof h=="string"?u=h:(u=h.text,b="scalar"in h?h.scalar:b,$="fontFamily"in h?h.fontFamily:$,y="color"in h?h.color:y);var I=10*b,E=""+I+"px "+$,P=new OffscreenCanvas(I,I),j=P.getContext("2d");j.font=E;var Z=j.measureText(u),X=Math.ceil(Z.actualBoundingBoxRight+Z.actualBoundingBoxLeft),V=Math.ceil(Z.actualBoundingBoxAscent+Z.actualBoundingBoxDescent),K=2,J=Z.actualBoundingBoxLeft+K,R=Z.actualBoundingBoxAscent+K;X+=K+K,V+=K+K,P=new OffscreenCanvas(X,V),j=P.getContext("2d"),j.font=E,j.fillStyle=y,j.fillText(u,J,R);var le=1/b;return{type:"bitmap",bitmap:P.transferToImageBitmap(),matrix:[le,0,0,le,-X*le/2,-V*le/2]}}n.exports=function(){return x().apply(this,arguments)},n.exports.reset=function(){x().reset()},n.exports.create=Be,n.exports.shapeFromPath=$e,n.exports.shapeFromText=De})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Ue,!1);const bs=Ue.exports;Ue.exports.create;function ws(t){let e;return{c(){e=M("div"),B(e,"id","confetti-canvas")},m(n,l){O(n,e,l)},p:Y,i:Y,o:Y,d(n){n&&S(e)}}}function Cs(t,e,n){let{startConfetti:l=null}=e,{durationInS:i=3}=e,{startVelocity:s=30}=e,{origin:o={x:.5,y:.5}}=e;return En(()=>{n(0,l=()=>{const c=i*1e3,r=Date.now()+c,a={startVelocity:s,spread:360,ticks:60,zIndex:0};(function d(){bs(Object.assign({},a,{particleCount:5,origin:{origin:o}})),Date.now()<r&&requestAnimationFrame(d)})()})}),t.$$set=c=>{"startConfetti"in c&&n(0,l=c.startConfetti),"durationInS"in c&&n(1,i=c.durationInS),"startVelocity"in c&&n(2,s=c.startVelocity),"origin"in c&&n(3,o=c.origin)},[l,i,s,o]}class Bs extends re{constructor(e){super(),oe(this,e,Cs,ws,ie,{startConfetti:0,durationInS:1,startVelocity:2,origin:3})}get startConfetti(){return this.$$.ctx[0]}set startConfetti(e){this.$$set({startConfetti:e}),Se()}get durationInS(){return this.$$.ctx[1]}set durationInS(e){this.$$set({durationInS:e}),Se()}get startVelocity(){return this.$$.ctx[2]}set startVelocity(e){this.$$set({startVelocity:e}),Se()}get origin(){return this.$$.ctx[3]}set origin(e){this.$$set({origin:e}),Se()}}function ys(t){let e,n,l,i,s;function o(a){t[5](a)}let c={};t[0]!==void 0&&(c.gameState=t[0]),e=new ss({props:c}),ce.push(()=>we(e,"gameState",o)),e.$on("winCurrentBoard",t[4]);let r={};return i=new Bs({props:r}),t[6](i),{c(){Q(e.$$.fragment),l=W(),Q(i.$$.fragment)},m(a,d){U(e,a,d),O(a,l,d),U(i,a,d),s=!0},p(a,d){const m={};!n&&d&1&&(n=!0,m.gameState=a[0],be(()=>n=!1)),e.$set(m);const g={};i.$set(g)},i(a){s||(T(e.$$.fragment,a),T(i.$$.fragment,a),s=!0)},o(a){F(e.$$.fragment,a),F(i.$$.fragment,a),s=!1},d(a){a&&S(l),H(e,a),t[6](null),H(i,a)}}}function ks(t){let e,n,l;return n=new vs({props:{$$slots:{default:[ys]},$$scope:{ctx:t}}}),n.$on("click",t[7]),{c(){e=M("main"),Q(n.$$.fragment),se(e,"padding-top","75px")},m(i,s){O(i,e,s),U(n,e,null),l=!0},p(i,[s]){const o={};s&517&&(o.$$scope={dirty:s,ctx:i}),n.$set(o)},i(i){l||(T(n.$$.fragment,i),l=!0)},o(i){F(n.$$.fragment,i),l=!1},d(i){i&&S(e),H(n)}}}const Ce=5;function ut(t){for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t}function Ht(t){return t.bottles.map(e=>e.levels.map(n=>n.color).join(",")).join("|")}function on(t,e=0,n=3,l=new Set){const i=Ht(t);if(l.has(i)||e>=n)return!1;l.add(i);for(let s=0;s<t.bottles.length;s++)for(let o=0;o<t.bottles.length;o++)if(s!==o&&As(t.bottles[s],t.bottles[o])){let c=$s(t);Ms(c.bottles[s],c.bottles[o]);const r=Ht(c);if(!l.has(r))if(e+1<n){if(on(c,e+1,n,l))return!0}else return!0}return!1}function As(t,e){if(t.levels.length===0)return!1;const n=t.levels[t.levels.length-1].color,l=e.levels.length>0?e.levels[e.levels.length-1].color:null,i=Ce-e.levels.length;return(n===l||l===null)&&i>0}function Ms(t,e){const n=t.levels[t.levels.length-1].color,l=Ce-e.levels.length;let i=0;for(let o=t.levels.length-1;o>=0&&t.levels[o].color===n;o--)i++;i=Math.min(i,l);const s=t.levels.splice(t.levels.length-i,i);e.levels.push(...s)}function $s(t){return{bottles:t.bottles.map(e=>({...e,levels:[...e.levels]}))}}function Ds(t,e,n){let l;pt(t,Xe,g=>n(1,l=g));let i;const s=["blue","red","orange","green","purple","yellow","pink","brown"];function o(g,f=2){let w=(g-f)*Ce,v=[];const p=Math.max(Math.floor(w/(s.length*Ce)),1);console.log(p);for(let k=0;k<p;k++)for(let C of[...ut(s)]){for(let L=0;L<Ce;L++)v.push({color:C}),w-=1;if(console.log("Filled x Leves here"),w===0)break}for(;w>0;){let k=Math.floor(Math.random()*s.length);for(let C=0;C<Ce;C++)v.push({color:s[k]});w-=Ce}ut(v);let _=Array.from({length:g},()=>({levels:[]})),z=0;for(;v.length>0;)_[z].levels=v.splice(0,Ce),z++,z===g-f&&(z+=f);return ut(_),{bottles:_}}let c=o(l,2);function r(){i.startConfetti()}function a(g){c=g,n(0,c),n(1,l)}function d(g){ce[g?"unshift":"push"](()=>{i=g,n(2,i)})}const m=()=>n(0,c=o(l,2));return t.$$.update=()=>{if(t.$$.dirty&2&&l&&n(0,c=o(l,2)),t.$$.dirty&1){let g;console.log("Is winnable ",g=on(c)),g||alert("Not Winnable")}},[c,l,i,o,r,a,d,m]}class Is extends re{constructor(e){super(),oe(this,e,Ds,ks,ie,{})}}function Zt(t,e,n){const l=t.slice();return l[5]=e[n],l}function Kt(t){let e,n=t[5].label+"",l,i,s,o;function c(){return t[4](t[5])}return{c(){e=M("div"),l=ge(n),i=W(),se(e,"cursor","pointer"),se(e,"padding","8px 0"),B(e,"class","svelte-90lrdl"),te(e,"selected",t[5].pageIndex===t[0])},m(r,a){O(r,e,a),D(e,l),D(e,i),s||(o=ee(e,"click",c),s=!0)},p(r,a){t=r,a&4&&n!==(n=t[5].label+"")&&Ge(l,n),a&5&&te(e,"selected",t[5].pageIndex===t[0])},d(r){r&&S(e),s=!1,o()}}}function Ps(t){let e,n,l,i=de(t[2]),s=[];for(let o=0;o<i.length;o+=1)s[o]=Kt(Zt(t,i,o));return{c(){e=M("aside"),n=M("div"),l=M("nav");for(let o=0;o<s.length;o+=1)s[o].c();B(l,"class","svelte-90lrdl"),se(n,"padding-top","50px"),B(e,"class","svelte-90lrdl"),te(e,"active",t[1])},m(o,c){O(o,e,c),D(e,n),D(n,l);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(l,null)},p(o,[c]){if(c&13){i=de(o[2]);let r;for(r=0;r<i.length;r+=1){const a=Zt(o,i,r);s[r]?s[r].p(a,c):(s[r]=Kt(a),s[r].c(),s[r].m(l,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}c&2&&te(e,"active",o[1])},i:Y,o:Y,d(o){o&&S(e),nt(s,o)}}}function Es(t,e,n){let{open:l=!1}=e,{menuItems:i=[{label:"Home",pageIndex:1}]}=e,{selectedPageIndex:s=i[0].pageIndex}=e;const o=r=>{n(0,s=r);const a=new CustomEvent("select",{detail:r});dispatchEvent(a)},c=r=>o(r.pageIndex);return t.$$set=r=>{"open"in r&&n(1,l=r.open),"menuItems"in r&&n(2,i=r.menuItems),"selectedPageIndex"in r&&n(0,s=r.selectedPageIndex)},[s,l,i,o,c]}class Ss extends re{constructor(e){super(),oe(this,e,Es,Ps,ie,{open:1,menuItems:2,selectedPageIndex:0})}}function Ts(t){let e,n,l,i,s,o,c,r;return{c(){e=M("button"),n=M("span"),l=W(),i=M("span"),s=W(),o=M("span"),B(n,"class","svelte-ike4zv"),te(n,"open",t[0]),B(i,"class","svelte-ike4zv"),te(i,"open",t[0]),B(o,"class","svelte-ike4zv"),te(o,"open",t[0]),B(e,"class","hamburger svelte-ike4zv"),B(e,"aria-label","Open menu"),B(e,"aria-pressed",t[0])},m(a,d){O(a,e,d),D(e,n),D(e,l),D(e,i),D(e,s),D(e,o),c||(r=ee(e,"click",t[1]),c=!0)},p(a,[d]){d&1&&te(n,"open",a[0]),d&1&&te(i,"open",a[0]),d&1&&te(o,"open",a[0]),d&1&&B(e,"aria-pressed",a[0])},i:Y,o:Y,d(a){a&&S(e),c=!1,r()}}}function Os(t,e,n){let{open:l=!1}=e;function i(s){Ve.call(this,t,s)}return t.$$set=s=>{"open"in s&&n(0,l=s.open)},[l,i]}class Fs extends re{constructor(e){super(),oe(this,e,Os,Ts,ie,{open:0})}}function Ls(t){let e,n;return e=new Is({}),{c(){Q(e.$$.fragment)},m(l,i){U(e,l,i),n=!0},i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){F(e.$$.fragment,l),n=!1},d(l){H(e,l)}}}function zs(t){let e,n;return e=new Ul({}),{c(){Q(e.$$.fragment)},m(l,i){U(e,l,i),n=!0},i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){F(e.$$.fragment,l),n=!1},d(l){H(e,l)}}}function Ns(t){let e,n,l,i,s,o,c,r,a,d,m;function g(C){t[3](C)}let f={};t[1]!==void 0&&(f.open=t[1]),n=new Fs({props:f}),ce.push(()=>we(n,"open",g)),n.$on("click",t[4]);function w(C){t[5](C)}function v(C){t[6](C)}let p={menuItems:t[2]};t[1]!==void 0&&(p.open=t[1]),t[0]!==void 0&&(p.selectedPageIndex=t[0]),s=new Ss({props:p}),ce.push(()=>we(s,"open",w)),ce.push(()=>we(s,"selectedPageIndex",v));const _=[zs,Ls],z=[];function k(C,L){return C[0]===1?0:C[0]===2?1:-1}return~(a=k(t))&&(d=z[a]=_[a](t)),{c(){e=M("div"),Q(n.$$.fragment),i=W(),Q(s.$$.fragment),r=W(),d&&d.c(),B(e,"class","content svelte-prpfpl")},m(C,L){O(C,e,L),U(n,e,null),D(e,i),U(s,e,null),D(e,r),~a&&z[a].m(e,null),m=!0},p(C,[L]){const q={};!l&&L&2&&(l=!0,q.open=C[1],be(()=>l=!1)),n.$set(q);const G={};!o&&L&2&&(o=!0,G.open=C[1],be(()=>o=!1)),!c&&L&1&&(c=!0,G.selectedPageIndex=C[0],be(()=>c=!1)),s.$set(G);let N=a;a=k(C),a!==N&&(d&&(ke(),F(z[N],1,1,()=>{z[N]=null}),Ae()),~a?(d=z[a],d||(d=z[a]=_[a](C),d.c()),T(d,1),d.m(e,null)):d=null)},i(C){m||(T(n.$$.fragment,C),T(s.$$.fragment,C),T(d),m=!0)},o(C){F(n.$$.fragment,C),F(s.$$.fragment,C),F(d),m=!1},d(C){C&&S(e),H(n),H(s),~a&&z[a].d()}}}function js(t,e,n){const l=[{label:"Wave Function Collapse",pageIndex:1},{label:"Watersort",pageIndex:2}];let i=1,s=!1;function o(d){s=d,n(1,s)}const c=()=>n(1,s=!s);function r(d){s=d,n(1,s)}function a(d){i=d,n(0,i)}return[i,s,l,o,c,r,a]}class Rs extends re{constructor(e){super(),oe(this,e,js,Ns,ie,{})}}new Rs({target:document.getElementById("app")})});export default Ws();
