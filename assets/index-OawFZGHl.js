var Xn=Object.defineProperty;var Yn=(t,e,n)=>e in t?Xn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var xn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Wt=(t,e,n)=>Yn(t,typeof e!="symbol"?e+"":e,n);var Ol=xn((Ll,gt)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function ne(){}const es=t=>t;function ts(t,e){for(const n in e)t[n]=e[n];return t}function Tn(t){return t()}function cn(){return Object.create(null)}function Me(t){t.forEach(Tn)}function Vt(t){return typeof t=="function"}function ae(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let kt;function un(t,e){return t===e?!0:(kt||(kt=document.createElement("a")),kt.href=e,t===kt.href)}function ns(t){return Object.keys(t).length===0}function ss(t,...e){if(t==null){for(const s of e)s(void 0);return ne}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Dt(t,e,n){t.$$.on_destroy.push(ss(e,n))}function $t(t,e,n,s){if(t){const l=On(t,e,n,s);return t[0](l)}}function On(t,e,n,s){return t[1]&&s?ts(n.ctx.slice(),t[1](s(e))):n.ctx}function Pt(t,e,n,s){return t[2],e.dirty}function Rt(t,e,n,s,l,i){if(l){const o=On(e,n,s,i);t.p(o,l)}}function Et(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let s=0;s<n;s++)e[s]=-1;return e}return-1}const zn=typeof window<"u";let is=zn?()=>window.performance.now():()=>Date.now(),Zt=zn?t=>requestAnimationFrame(t):ne;const xe=new Set;function Ln(t){xe.forEach(e=>{e.c(t)||(xe.delete(e),e.f())}),xe.size!==0&&Zt(Ln)}function ls(t){let e;return xe.size===0&&Zt(Ln),{promise:new Promise(n=>{xe.add(e={c:t,f:n})}),abort(){xe.delete(e)}}}function m(t,e){t.appendChild(e)}function Wn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function os(t){const e=y("style");return e.textContent="/* empty */",rs(Wn(t),e),e.sheet}function rs(t,e){return m(t.head||t,e),e.sheet}function E(t,e,n){t.insertBefore(e,n||null)}function R(t){t.parentNode&&t.parentNode.removeChild(t)}function Tt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function se(t){return document.createTextNode(t)}function M(){return se(" ")}function jn(){return se("")}function L(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function as(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function p(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ne(t){return t===""?null:+t}function cs(t){return Array.from(t.childNodes)}function Fe(t,e){e=""+e,t.data!==e&&(t.data=e)}function Ce(t,e){t.value=e??""}function de(t,e,n,s){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function fn(t,e,n){for(let s=0;s<t.options.length;s+=1){const l=t.options[s];if(l.__value===e){l.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function us(t){const e=t.querySelector(":checked");return e&&e.__value}function le(t,e,n){t.classList.toggle(e,!!n)}function Nn(t,e,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:s})}const Ft=new Map;let It=0;function fs(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function ds(t,e){const n={stylesheet:os(e),rules:{}};return Ft.set(t,n),n}function hs(t,e,n,s,l,i,o,a=0){const r=16.666/s;let c=`{
`;for(let b=0;b<=1;b+=r){const v=e+(n-e)*i(b);c+=b*100+`%{${o(v,1-v)}}
`}const d=c+`100% {${o(n,1-n)}}
}`,g=`__svelte_${fs(d)}_${a}`,h=Wn(t),{stylesheet:f,rules:B}=Ft.get(h)||ds(h,t);B[g]||(B[g]=!0,f.insertRule(`@keyframes ${g} ${d}`,f.cssRules.length));const C=t.style.animation||"";return t.style.animation=`${C?`${C}, `:""}${g} ${s}ms linear ${l}ms 1 both`,It+=1,g}function dn(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),l=n.length-s.length;l&&(t.style.animation=s.join(", "),It-=l,It||gs())}function gs(){Zt(()=>{It||(Ft.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&R(e)}),Ft.clear())})}let dt;function ft(t){dt=t}function Kt(){if(!dt)throw new Error("Function called outside component initialization");return dt}function Hn(t){Kt().$$.on_mount.push(t)}function Jt(t){Kt().$$.on_destroy.push(t)}function Ot(){const t=Kt();return(e,n,{cancelable:s=!1}={})=>{const l=t.$$.callbacks[e];if(l){const i=Nn(e,n,{cancelable:s});return l.slice().forEach(o=>{o.call(t,i)}),!i.defaultPrevented}return!0}}function ht(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(s=>s.call(this,e))}const Xe=[],pe=[];let et=[];const qt=[],qn=Promise.resolve();let Gt=!1;function Gn(){Gt||(Gt=!0,qn.then(Ye))}function ms(){return Gn(),qn}function tt(t){et.push(t)}function Ie(t){qt.push(t)}const jt=new Set;let Je=0;function Ye(){if(Je!==0)return;const t=dt;do{try{for(;Je<Xe.length;){const e=Xe[Je];Je++,ft(e),ps(e.$$)}}catch(e){throw Xe.length=0,Je=0,e}for(ft(null),Xe.length=0,Je=0;pe.length;)pe.pop()();for(let e=0;e<et.length;e+=1){const n=et[e];jt.has(n)||(jt.add(n),n())}et.length=0}while(Xe.length);for(;qt.length;)qt.pop()();Gt=!1,jt.clear(),ft(t)}function ps(t){if(t.fragment!==null){t.update(),Me(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(tt)}}function _s(t){const e=[],n=[];et.forEach(s=>t.indexOf(s)===-1?e.push(s):n.push(s)),n.forEach(s=>s()),et=e}let at;function vs(){return at||(at=Promise.resolve(),at.then(()=>{at=null})),at}function hn(t,e,n){t.dispatchEvent(Nn(`intro${n}`))}const At=new Set;let He;function qe(){He={r:0,c:[],p:He}}function Ge(){He.r||Me(He.c),He=He.p}function T(t,e){t&&t.i&&(At.delete(t),t.i(e))}function W(t,e,n,s){if(t&&t.o){if(At.has(t))return;At.add(t),He.c.push(()=>{At.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}const bs={duration:0};function ws(t,e,n){const s={direction:"in"};let l=e(t,n,s),i=!1,o,a,r=0;function c(){o&&dn(t,o)}function d(){const{delay:h=0,duration:f=300,easing:B=es,tick:C=ne,css:b}=l||bs;b&&(o=hs(t,0,1,f,h,B,b,r++)),C(0,1);const v=is()+h,N=v+f;a&&a.abort(),i=!0,tt(()=>hn(t,!0,"start")),a=ls(U=>{if(i){if(U>=N)return C(1,0),hn(t,!0,"end"),c(),i=!1;if(U>=v){const w=B((U-v)/f);C(w,1-w)}}return i})}let g=!1;return{start(){g||(g=!0,dn(t),Vt(l)?(l=l(s),vs().then(d)):d())},invalidate(){g=!1},end(){i&&(c(),i=!1)}}}function De(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Un(t,e){W(t,1,1,()=>{e.delete(t.key)})}function Vn(t,e,n,s,l,i,o,a,r,c,d,g){let h=t.length,f=i.length,B=h;const C={};for(;B--;)C[t[B].key]=B;const b=[],v=new Map,N=new Map,U=[];for(B=f;B--;){const H=g(l,i,B),O=n(H);let z=o.get(O);z?U.push(()=>z.p(H,e)):(z=c(O,H),z.c()),v.set(O,b[B]=z),O in C&&N.set(O,Math.abs(B-C[O]))}const w=new Set,F=new Set;function j(H){T(H,1),H.m(a,d),o.set(H.key,H),d=H.first,f--}for(;h&&f;){const H=b[f-1],O=t[h-1],z=H.key,oe=O.key;H===O?(d=H.first,h--,f--):v.has(oe)?!o.has(z)||w.has(z)?j(H):F.has(oe)?h--:N.get(z)>N.get(oe)?(F.add(z),j(H)):(w.add(oe),h--):(r(O,o),h--)}for(;h--;){const H=t[h];v.has(H.key)||r(H,o)}for(;f;)j(b[f-1]);return Me(U),b}function Se(t,e,n){const s=t.$$.props[e];s!==void 0&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}function x(t){t&&t.c()}function J(t,e,n){const{fragment:s,after_update:l}=t.$$;s&&s.m(e,n),tt(()=>{const i=t.$$.on_mount.map(Tn).filter(Vt);t.$$.on_destroy?t.$$.on_destroy.push(...i):Me(i),t.$$.on_mount=[]}),l.forEach(tt)}function Q(t,e){const n=t.$$;n.fragment!==null&&(_s(n.after_update),Me(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ys(t,e){t.$$.dirty[0]===-1&&(Xe.push(t),Gn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ce(t,e,n,s,l,i,o=null,a=[-1]){const r=dt;ft(t);const c=t.$$={fragment:null,ctx:[],props:i,update:ne,not_equal:l,bound:cn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:cn(),dirty:a,skip_bound:!1,root:e.target||r.$$.root};o&&o(c.root);let d=!1;if(c.ctx=n?n(t,e.props||{},(g,h,...f)=>{const B=f.length?f[0]:h;return c.ctx&&l(c.ctx[g],c.ctx[g]=B)&&(!c.skip_bound&&c.bound[g]&&c.bound[g](B),d&&ys(t,g)),h}):[],c.update(),d=!0,Me(c.before_update),c.fragment=s?s(c.ctx):!1,e.target){if(e.hydrate){const g=cs(e.target);c.fragment&&c.fragment.l(g),g.forEach(R)}else c.fragment&&c.fragment.c();e.intro&&T(t.$$.fragment),J(t,e.target,e.anchor),Ye()}ft(r)}class ue{constructor(){Wt(this,"$$");Wt(this,"$$set")}$destroy(){Q(this,1),this.$destroy=ne}$on(e,n){if(!Vt(n))return ne;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const l=s.indexOf(n);l!==-1&&s.splice(l,1)}}$set(e){this.$$set&&!ns(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Cs="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Cs);function gn(t){let e,n;return{c(){e=y("div"),n=se(t[4]),p(e,"class","options-indicator svelte-1t97r11")},m(s,l){E(s,e,l),m(e,n)},p(s,l){l&16&&Fe(n,s[4])},d(s){s&&R(e)}}}function Bs(t){let e,n,s,l,i,o,a,r,c=t[2]&&t[4]&&gn(t);return{c(){e=y("div"),n=y("img"),l=M(),c&&c.c(),de(n,"transform","rotate("+t[1]+"deg)"),un(n.src,s=t[0])||p(n,"src",s),p(n,"alt","Tile"),p(n,"class","svelte-1t97r11"),p(e,"class","tile svelte-1t97r11"),p(e,"tabindex",i=t[2]&&t[3]?0:-1),p(e,"role",o=t[2]&&t[3]?"button":void 0),le(e,"selectionmode",t[2]),le(e,"clickable",t[3]&&t[2]),le(e,"has-options",t[4]&&t[2])},m(d,g){E(d,e,g),m(e,n),m(e,l),c&&c.m(e,null),a||(r=[L(e,"click",t[5]),L(e,"keydown",t[6])],a=!0)},p(d,[g]){g&2&&de(n,"transform","rotate("+d[1]+"deg)"),g&1&&!un(n.src,s=d[0])&&p(n,"src",s),d[2]&&d[4]?c?c.p(d,g):(c=gn(d),c.c(),c.m(e,null)):c&&(c.d(1),c=null),g&12&&i!==(i=d[2]&&d[3]?0:-1)&&p(e,"tabindex",i),g&12&&o!==(o=d[2]&&d[3]?"button":void 0)&&p(e,"role",o),g&4&&le(e,"selectionmode",d[2]),g&12&&le(e,"clickable",d[3]&&d[2]),g&20&&le(e,"has-options",d[4]&&d[2])},i:ne,o:ne,d(d){d&&R(e),c&&c.d(),a=!1,Me(r)}}}function ks(t,e,n){let{imgSrc:s}=e,{rotationDeg:l=0}=e,{selectionMode:i=!1}=e,{clickable:o=!1}=e,{hasOptions:a=!1}=e;const r=Ot();function c(){i&&o&&r("tileClick")}const d=g=>g.key==="Enter"&&c();return t.$$set=g=>{"imgSrc"in g&&n(0,s=g.imgSrc),"rotationDeg"in g&&n(1,l=g.rotationDeg),"selectionMode"in g&&n(2,i=g.selectionMode),"clickable"in g&&n(3,o=g.clickable),"hasOptions"in g&&n(4,a=g.hasOptions)},[s,l,i,o,a,c,d]}class Zn extends ue{constructor(e){super(),ce(this,e,ks,Bs,ae,{imgSrc:0,rotationDeg:1,selectionMode:2,clickable:3,hasOptions:4})}}function As(t){let e;return{c(){e=se("Button")},m(n,s){E(n,e,s)},d(n){n&&R(e)}}}function Ms(t){let e,n,s,l;const i=t[1].default,o=$t(i,t,t[0],null),a=o||As();return{c(){e=y("button"),a&&a.c(),p(e,"class","svelte-2m6kay")},m(r,c){E(r,e,c),a&&a.m(e,null),n=!0,s||(l=L(e,"click",t[2]),s=!0)},p(r,[c]){o&&o.p&&(!n||c&1)&&Rt(o,i,r,r[0],n?Pt(i,r[0],c,null):Et(r[0]),null)},i(r){n||(T(a,r),n=!0)},o(r){W(a,r),n=!1},d(r){r&&R(e),a&&a.d(r),s=!1,l()}}}function Fs(t,e,n){let{$$slots:s={},$$scope:l}=e;function i(o){ht.call(this,t,o)}return t.$$set=o=>{"$$scope"in o&&n(0,l=o.$$scope)},[l,s,i]}class mn extends ue{constructor(e){super(),ce(this,e,Fs,Ms,ae,{})}}function pn(t){let e,n;return{c(){e=y("label"),n=se(t[1]),p(e,"class","slider-label svelte-iz9ztu")},m(s,l){E(s,e,l),m(e,n)},p(s,l){l&2&&Fe(n,s[1])},d(s){s&&R(e)}}}function Is(t){let e,n,s,l,i,o,a,r,c,d,g=t[1]&&pn(t);return{c(){e=y("div"),g&&g.c(),n=M(),s=y("div"),l=y("div"),i=y("div"),o=se(t[0]),a=M(),r=y("input"),p(i,"class","tooltip-inner svelte-iz9ztu"),p(l,"class","tooltip svelte-iz9ztu"),de(l,"left",t[6]+"%"),le(l,"active",t[5]),p(r,"type","range"),p(r,"min",t[3]),p(r,"max",t[4]),p(r,"class","svelte-iz9ztu"),p(s,"class","input-container svelte-iz9ztu"),p(e,"class","slider-wrapper svelte-iz9ztu"),le(e,"left",t[2]==="left")},m(h,f){E(h,e,f),g&&g.m(e,null),m(e,n),m(e,s),m(s,l),m(l,i),m(i,o),m(s,a),m(s,r),Ce(r,t[0]),c||(d=[L(window,"mouseup",t[8]),L(window,"touchend",t[8]),L(r,"change",t[10]),L(r,"input",t[10]),L(r,"mousedown",t[7]),L(r,"touchstart",t[7],{passive:!0}),L(r,"change",t[9])],c=!0)},p(h,[f]){h[1]?g?g.p(h,f):(g=pn(h),g.c(),g.m(e,n)):g&&(g.d(1),g=null),f&1&&Fe(o,h[0]),f&64&&de(l,"left",h[6]+"%"),f&32&&le(l,"active",h[5]),f&8&&p(r,"min",h[3]),f&16&&p(r,"max",h[4]),f&1&&Ce(r,h[0]),f&4&&le(e,"left",h[2]==="left")},i:ne,o:ne,d(h){h&&R(e),g&&g.d(),c=!1,Me(d)}}}function Ss(t,e,n){let s,{label:l=""}=e,{labelPosition:i="top"}=e,{value:o=50}=e,{min:a=0}=e,{max:r=100}=e,c=!1;const d=()=>n(5,c=!0),g=()=>n(5,c=!1);function h(B){ht.call(this,t,B)}function f(){o=Ne(this.value),n(0,o)}return t.$$set=B=>{"label"in B&&n(1,l=B.label),"labelPosition"in B&&n(2,i=B.labelPosition),"value"in B&&n(0,o=B.value),"min"in B&&n(3,a=B.min),"max"in B&&n(4,r=B.max)},t.$$.update=()=>{t.$$.dirty&25&&n(6,s=(o-a)/(r-a)*100)},[o,l,i,a,r,c,s,d,g,h,f]}class ut extends ue{constructor(e){super(),ce(this,e,Ss,Is,ae,{label:1,labelPosition:2,value:0,min:3,max:4})}}function Ds(t){let e,n,s,l,i,o;return{c(){e=y("button"),n=y("span"),s=se(t[1]),p(n,"class","fab-icon"),p(e,"class",l="fab fab-"+t[0]+" svelte-1f8wclz")},m(a,r){E(a,e,r),m(e,n),m(n,s),i||(o=L(e,"click",t[2]),i=!0)},p(a,[r]){r&2&&Fe(s,a[1]),r&1&&l!==(l="fab fab-"+a[0]+" svelte-1f8wclz")&&p(e,"class",l)},i:ne,o:ne,d(a){a&&R(e),i=!1,o()}}}function $s(t,e,n){let{position:s="right"}=e,{icon:l="-"}=e;function i(o){ht.call(this,t,o)}return t.$$set=o=>{"position"in o&&n(0,s=o.position),"icon"in o&&n(1,l=o.icon)},[s,l,i]}class Mt extends ue{constructor(e){super(),ce(this,e,$s,Ds,ae,{position:0,icon:1})}}function _n(t){let e,n,s;const l=t[5].default,i=$t(l,t,t[4],null);return{c(){e=y("div"),i&&i.c(),p(e,"class",n="fab-menu fab-menu-"+t[0]+" svelte-1eojtnz")},m(o,a){E(o,e,a),i&&i.m(e,null),s=!0},p(o,a){i&&i.p&&(!s||a&16)&&Rt(i,l,o,o[4],s?Pt(l,o[4],a,null):Et(o[4]),null),(!s||a&1&&n!==(n="fab-menu fab-menu-"+o[0]+" svelte-1eojtnz"))&&p(e,"class",n)},i(o){s||(T(i,o),s=!0)},o(o){W(i,o),s=!1},d(o){o&&R(e),i&&i.d(o)}}}function Ps(t){let e,n,s,l;n=new Mt({props:{position:t[0],icon:t[1]}}),n.$on("click",t[3]);let i=t[2]&&_n(t);return{c(){e=y("div"),x(n.$$.fragment),s=M(),i&&i.c(),p(e,"class","fab-menu-container svelte-1eojtnz")},m(o,a){E(o,e,a),J(n,e,null),m(e,s),i&&i.m(e,null),l=!0},p(o,[a]){const r={};a&1&&(r.position=o[0]),a&2&&(r.icon=o[1]),n.$set(r),o[2]?i?(i.p(o,a),a&4&&T(i,1)):(i=_n(o),i.c(),T(i,1),i.m(e,null)):i&&(qe(),W(i,1,1,()=>{i=null}),Ge())},i(o){l||(T(n.$$.fragment,o),T(i),l=!0)},o(o){W(n.$$.fragment,o),W(i),l=!1},d(o){o&&R(e),Q(n),i&&i.d()}}}function Rs(t,e,n){let{$$slots:s={},$$scope:l}=e,{position:i="right"}=e,{icon:o="+"}=e,a=!1;function r(){n(2,a=!a)}return t.$$set=c=>{"position"in c&&n(0,i=c.position),"icon"in c&&n(1,o=c.icon),"$$scope"in c&&n(4,l=c.$$scope)},[i,o,a,r,l,s]}class Kn extends ue{constructor(e){super(),ce(this,e,Rs,Ps,ae,{position:0,icon:1})}}const Es="/assets/beach_straight_0-DvGzNLJ2.png",Ts="/assets/deep_straight_0-lZrQeddZ.png",Os="/assets/grass_beach_curvein_0-2qiDc4H_.png",zs="/assets/grass_beach_curveout_0-CWQdaTgq.png",Ls="/assets/grass_beach_straight_0-BPoGIHo1.png",Ws="/assets/grass_straight_0-DRxQK0yi.png",js="/assets/grass_straight_1-CPGyPxiD.png",Ns="/assets/grass_straight_2-DcVzt5hJ.png",Hs="/assets/grass_straight_3-BEE2S1Sf.png",qs="/assets/grass_straight_4-BBSjnZ4a.png",Gs="/assets/grass_straight_5-WM34qiyW.png",Us="/assets/shal_beach_curvein_0-Wxrs_kJv.png",Vs="/assets/shal_beach_curveout_0-ux6epMry.png",Zs="/assets/shal_beach_straight_0-CQlKyBo9.png",Ks="/assets/shall_deep_curvein_0-DD6xLTYk.png",Js="/assets/shall_deep_curveout_0-4iUdIt-F.png",Qs="/assets/shall_deep_straight_0-DISVU9Fi.png",Xs="/assets/shall_straight_0-vgRsIPSa.png",Ys=[{name:"beach_straight_0.png",src:Es,edges:["AAA","AAA","AAA","AAA"]},{name:"deep_straight_0.png",src:Ts,edges:["BBB","BBB","BBB","BBB"],weight:3},{name:"grass_beach_curvein_0.png",src:Os,edges:["AAC","CCC","CCC","CAA"]},{name:"grass_beach_curveout_0.png",src:zs,edges:["AAA","AAC","CAA","AAA"]},{name:"grass_beach_straight_0.png",src:Ls,edges:["AAC","CCC","CAA","AAA"],weight:3},{name:"grass_straight_0.png",src:Ws,edges:["CCC","CCC","CCC","CCC"]},{name:"grass_straight_1.png",src:js,edges:["CCC","CCC","CCC","CCC"]},{name:"grass_straight_2.png",src:Ns,edges:["CCC","CCC","CCC","CCC"]},{name:"grass_straight_3.png",src:Hs,edges:["CCC","CCC","CCC","CCC"]},{name:"grass_straight_4.png",src:qs,edges:["CCC","CCC","CCC","CCC"]},{name:"grass_straight_5.png",src:Gs,edges:["CCC","CCC","CCC","CCC"]},{name:"shal_beach_curvein_0.png",src:Us,edges:["DDA","AAA","AAA","ADD"]},{name:"shal_beach_curveout_0.png",src:Vs,edges:["DDD","DDA","ADD","DDD"]},{name:"shal_beach_straight_0.png",src:Zs,edges:["DDA","AAA","ADD","DDD"]},{name:"shall_deep_curvein_0.png",src:Ks,edges:["BDD","DDD","DDD","DDB"]},{name:"shall_deep_curveout_0.png",src:Js,edges:["BBB","BBD","DBB","BBB"]},{name:"shall_deep_straight_0.png",src:Qs,edges:["BDD","DDD","DDB","BBB"],weight:2},{name:"shall_straight_0.png",src:Xs,edges:["DDD","DDD","DDD","DDD"]}],xs="/assets/00-DkMnNDMX.png",ei="/assets/01-BP-Nq16z.png",ti="/assets/02-C_dyHJwv.png",ni="/assets/03-BR1Ht3Yn.png",si="/assets/04-oKpa-K-q.png",ii="/assets/05-DPnb_V_8.png",li="/assets/06-BwR_gEpH.png",oi="/assets/07-BpXVgTGV.png",ri="/assets/08-ChHLzIPM.png",ai="/assets/09-DyIGt8tb.png",ci="/assets/10-7zxf4-L7.png",ui="/assets/11-BPQpGf-p.png",fi="/assets/12-CRZgRc7M.png",di=[{name:"00.png",src:xs,edges:["AAA","AAA","AAA","AAA"]},{name:"01.png",src:ei,edges:["BBB","BBB","BBB","BBB"]},{name:"02.png",src:ti,edges:["BBB","BCB","BBB","BBB"]},{name:"03.png",src:ni,edges:["BBB","BDB","BBB","BDB"]},{name:"04.png",src:si,edges:["ABB","BCB","BBA","AAA"]},{name:"05.png",src:ii,edges:["ABB","BBB","BBB","BBA"]},{name:"06.png",src:li,edges:["BBB","BCB","BBB","BCB"]},{name:"07.png",src:oi,edges:["BDB","BCB","BDB","BCB"]},{name:"08.png",src:ri,edges:["BDB","BBB","BCB","BBB"]},{name:"09.png",src:ai,edges:["BCB","BCB","BBB","BCB"]},{name:"10.png",src:ci,edges:["BCB","BCB","BCB","BCB"]},{name:"11.png",src:ui,edges:["BCB","BCB","BBB","BBB"]},{name:"12.png",src:fi,edges:["BBB","BCB","BBB","BCB"]}],hi="/assets/00-B2vkL3kA.png",gi="/assets/01-DeKJ4WE4.png",mi="/assets/02-Bam-WfXU.png",pi="/assets/03-lfLaJm6T.png",_i="/assets/04-DZx3uIX8.png",vi=[{name:"00.png",src:hi,edges:["AAA","AAA","AAA","AAA"]},{name:"01.png",src:gi,edges:["AAA","ABA","ABA","ABA"]},{name:"02.png",src:mi,edges:["ABA","AAA","ABA","ABA"]},{name:"03.png",src:pi,edges:["ABA","ABA","ABA","AAA"]},{name:"04.png",src:_i,edges:["ABA","ABA","AAA","ABA"]}];function vn(t,e,n){const s=t.slice();return s[10]=e[n],s}function bn(t){let e,n,s,l,i,o,a,r,c,d,g,h=De(t[1]),f=[];for(let C=0;C<h.length;C+=1)f[C]=wn(vn(t,h,C));const B=C=>W(f[C],1,1,()=>{f[C]=null});return{c(){e=y("div"),n=y("div"),s=y("div"),l=y("h4"),l.textContent="Choose Tile to collapse to",i=M(),o=y("button"),o.textContent="×",a=M(),r=y("div");for(let C=0;C<f.length;C+=1)f[C].c();p(l,"class","svelte-1jodnya"),p(o,"class","close-btn svelte-1jodnya"),p(s,"class","menu-header svelte-1jodnya"),p(r,"class","options-grid svelte-1jodnya"),p(n,"class","menu svelte-1jodnya"),de(n,"left",t[3].x+"px"),de(n,"top",t[3].y+"px"),p(e,"class","backdrop svelte-1jodnya"),p(e,"role","button"),p(e,"tabindex","0")},m(C,b){E(C,e,b),m(e,n),m(n,s),m(s,l),m(s,i),m(s,o),m(n,a),m(n,r);for(let v=0;v<f.length;v+=1)f[v]&&f[v].m(r,null);c=!0,d||(g=[L(o,"click",t[5]),L(e,"click",t[6]),L(e,"keydown",t[8])],d=!0)},p(C,b){if(b&22){h=De(C[1]);let v;for(v=0;v<h.length;v+=1){const N=vn(C,h,v);f[v]?(f[v].p(N,b),T(f[v],1)):(f[v]=wn(N),f[v].c(),T(f[v],1),f[v].m(r,null))}for(qe(),v=h.length;v<f.length;v+=1)B(v);Ge()}(!c||b&8)&&de(n,"left",C[3].x+"px"),(!c||b&8)&&de(n,"top",C[3].y+"px")},i(C){if(!c){for(let b=0;b<h.length;b+=1)T(f[b]);c=!0}},o(C){f=f.filter(Boolean);for(let b=0;b<f.length;b+=1)W(f[b]);c=!1},d(C){C&&R(e),Tt(f,C),d=!1,Me(g)}}}function wn(t){let e,n,s,l,i,o;n=new Zn({props:{imgSrc:t[2][t[10].tileIndex].src,rotationDeg:t[10].rotation*90}});function a(){return t[7](t[10])}return{c(){e=y("button"),x(n.$$.fragment),s=M(),p(e,"class","option-button svelte-1jodnya")},m(r,c){E(r,e,c),J(n,e,null),m(e,s),l=!0,i||(o=L(e,"click",a),i=!0)},p(r,c){t=r;const d={};c&6&&(d.imgSrc=t[2][t[10].tileIndex].src),c&2&&(d.rotationDeg=t[10].rotation*90),n.$set(d)},i(r){l||(T(n.$$.fragment,r),l=!0)},o(r){W(n.$$.fragment,r),l=!1},d(r){r&&R(e),Q(n),i=!1,o()}}}function bi(t){let e,n,s=t[0]&&bn(t);return{c(){s&&s.c(),e=jn()},m(l,i){s&&s.m(l,i),E(l,e,i),n=!0},p(l,[i]){l[0]?s?(s.p(l,i),i&1&&T(s,1)):(s=bn(l),s.c(),T(s,1),s.m(e.parentNode,e)):s&&(qe(),W(s,1,1,()=>{s=null}),Ge())},i(l){n||(T(s),n=!0)},o(l){W(s),n=!1},d(l){l&&R(e),s&&s.d(l)}}}function wi(t,e,n){let{visible:s=!1}=e,{options:l=[]}=e,{tiles:i=[]}=e,{position:o={x:0,y:0}}=e;const a=Ot();function r(f){a("optionSelected",f),c()}function c(){a("close")}function d(f){f.target===f.currentTarget&&c()}const g=f=>r(f),h=f=>{(f.key==="Escape"||f.key==="Enter"||f.key===" ")&&c()};return t.$$set=f=>{"visible"in f&&n(0,s=f.visible),"options"in f&&n(1,l=f.options),"tiles"in f&&n(2,i=f.tiles),"position"in f&&n(3,o=f.position)},[s,l,i,o,r,c,d,g,h]}class yi extends ue{constructor(e){super(),ce(this,e,wi,bi,ae,{visible:0,options:1,tiles:2,position:3})}}function yn(t,e,n){const s=t.slice();return s[35]=e[n],s}function Cn(t,e,n){const s=t.slice();return s[38]=e[n],s[40]=n,s}function Bn(t){var l,i;let e,n;function s(...o){return t[19](t[40],...o)}return e=new Zn({props:{imgSrc:((i=(l=t[38])==null?void 0:l.chosen)==null?void 0:i.src)||t[2][0].src,rotationDeg:t[38].rotation*90,clickable:!t[38].collapsed&&t[38].options.length>1,hasOptions:t[38].collapsed?!1:t[38].options.length,selectionMode:t[7]}}),e.$on("tileClick",s),{c(){x(e.$$.fragment)},m(o,a){J(e,o,a),n=!0},p(o,a){var c,d;t=o;const r={};a[0]&5&&(r.imgSrc=((d=(c=t[38])==null?void 0:c.chosen)==null?void 0:d.src)||t[2][0].src),a[0]&1&&(r.rotationDeg=t[38].rotation*90),a[0]&1&&(r.clickable=!t[38].collapsed&&t[38].options.length>1),a[0]&1&&(r.hasOptions=t[38].collapsed?!1:t[38].options.length),a[0]&128&&(r.selectionMode=t[7]),e.$set(r)},i(o){n||(T(e.$$.fragment,o),n=!0)},o(o){W(e.$$.fragment,o),n=!1},d(o){Q(e,o)}}}function kn(t){let e,n=t[35].name+"",s;return{c(){e=y("option"),s=se(n),e.__value=t[35].index,Ce(e,e.__value)},m(l,i){E(l,e,i),m(e,s)},p:ne,d(l){l&&R(e)}}}function Ci(t){let e,n,s,l,i,o,a,r,c,d,g,h,f,B,C,b,v,N,U,w,F=De(t[12]),j=[];for(let I=0;I<F.length;I+=1)j[I]=kn(yn(t,F,I));function H(I){t[22](I)}let O={label:"Gap",min:0,max:5};t[5]!==void 0&&(O.value=t[5]),s=new ut({props:O}),pe.push(()=>Se(s,"value",H));function z(I){t[23](I)}let oe={label:"Animationtime (ms)",min:1,max:750};t[6]!==void 0&&(oe.value=t[6]),o=new ut({props:oe}),pe.push(()=>Se(o,"value",z));function Re(I){t[24](I)}let K={label:"Width",min:10,max:50};t[3]!==void 0&&(K.value=t[3]),c=new ut({props:K}),pe.push(()=>Se(c,"value",Re)),c.$on("change",t[25]);function Ee(I){t[26](I)}let be={label:"Height",min:10,max:50};return t[4]!==void 0&&(be.value=t[4]),h=new ut({props:be}),pe.push(()=>Se(h,"value",Ee)),h.$on("change",t[27]),{c(){e=y("select");for(let I=0;I<j.length;I+=1)j[I].c();n=M(),x(s.$$.fragment),i=M(),x(o.$$.fragment),r=M(),x(c.$$.fragment),g=M(),x(h.$$.fragment),B=M(),C=y("div"),b=se(`Enable Selectionmode:
            `),v=y("input"),p(e,"name","tilesets"),p(e,"id","tileset-select"),de(e,"width","100%"),t[1]===void 0&&tt(()=>t[20].call(e)),p(v,"type","checkbox"),p(v,"id","my-toggle")},m(I,te){E(I,e,te);for(let we=0;we<j.length;we+=1)j[we]&&j[we].m(e,null);fn(e,t[1],!0),E(I,n,te),J(s,I,te),E(I,i,te),J(o,I,te),E(I,r,te),J(c,I,te),E(I,g,te),J(h,I,te),E(I,B,te),E(I,C,te),m(C,b),m(C,v),v.checked=t[7],N=!0,U||(w=[L(e,"change",t[20]),L(e,"change",t[21]),L(v,"change",t[28])],U=!0)},p(I,te){if(te[0]&4096){F=De(I[12]);let u;for(u=0;u<F.length;u+=1){const k=yn(I,F,u);j[u]?j[u].p(k,te):(j[u]=kn(k),j[u].c(),j[u].m(e,null))}for(;u<j.length;u+=1)j[u].d(1);j.length=F.length}te[0]&4098&&fn(e,I[1]);const we={};!l&&te[0]&32&&(l=!0,we.value=I[5],Ie(()=>l=!1)),s.$set(we);const Te={};!a&&te[0]&64&&(a=!0,Te.value=I[6],Ie(()=>a=!1)),o.$set(Te);const ge={};!d&&te[0]&8&&(d=!0,ge.value=I[3],Ie(()=>d=!1)),c.$set(ge);const _={};!f&&te[0]&16&&(f=!0,_.value=I[4],Ie(()=>f=!1)),h.$set(_),te[0]&128&&(v.checked=I[7])},i(I){N||(T(s.$$.fragment,I),T(o.$$.fragment,I),T(c.$$.fragment,I),T(h.$$.fragment,I),N=!0)},o(I){W(s.$$.fragment,I),W(o.$$.fragment,I),W(c.$$.fragment,I),W(h.$$.fragment,I),N=!1},d(I){I&&(R(e),R(n),R(i),R(r),R(g),R(B),R(C)),Tt(j,I),Q(s,I),Q(o,I),Q(c,I),Q(h,I),U=!1,Me(w)}}}function Bi(t){var U;let e,n,s,l,i,o,a,r,c,d,g,h,f,B,C,b=De(t[0]),v=[];for(let w=0;w<b.length;w+=1)v[w]=Bn(Cn(t,b,w));const N=w=>W(v[w],1,1,()=>{v[w]=null});return o=new yi({props:{visible:t[8],options:t[9]>=0?((U=t[0][t[9]])==null?void 0:U.options)||[]:[],tiles:t[2],position:t[10]}}),o.$on("optionSelected",t[14]),o.$on("close",t[15]),r=new Kn({props:{position:"right",icon:"☰",$$slots:{default:[Ci]},$$scope:{ctx:t}}}),d=new Mt({props:{icon:"▶",position:"left"}}),d.$on("click",t[18]),h=new Mt({props:{icon:"⏯",position:"left1"}}),h.$on("click",t[17]),B=new Mt({props:{icon:"⟳",position:"left2"}}),B.$on("click",t[29]),{c(){e=M(),n=y("main"),s=y("div");for(let w=0;w<v.length;w+=1)v[w].c();i=M(),x(o.$$.fragment),a=M(),x(r.$$.fragment),c=M(),x(d.$$.fragment),g=M(),x(h.$$.fragment),f=M(),x(B.$$.fragment),document.title="Wave Function Collapse",p(s,"class","grid svelte-1ra75ne"),p(s,"style",l=`grid-template-columns: repeat(${t[3]}, 1fr); gap: ${t[5]}px`),p(n,"class","page-container svelte-1ra75ne")},m(w,F){E(w,e,F),E(w,n,F),m(n,s);for(let j=0;j<v.length;j+=1)v[j]&&v[j].m(s,null);m(n,i),J(o,n,null),m(n,a),J(r,n,null),m(n,c),J(d,n,null),m(n,g),J(h,n,null),m(n,f),J(B,n,null),C=!0},p(w,F){var O;if(F[0]&8325){b=De(w[0]);let z;for(z=0;z<b.length;z+=1){const oe=Cn(w,b,z);v[z]?(v[z].p(oe,F),T(v[z],1)):(v[z]=Bn(oe),v[z].c(),T(v[z],1),v[z].m(s,null))}for(qe(),z=b.length;z<v.length;z+=1)N(z);Ge()}(!C||F[0]&40&&l!==(l=`grid-template-columns: repeat(${w[3]}, 1fr); gap: ${w[5]}px`))&&p(s,"style",l);const j={};F[0]&256&&(j.visible=w[8]),F[0]&513&&(j.options=w[9]>=0?((O=w[0][w[9]])==null?void 0:O.options)||[]:[]),F[0]&4&&(j.tiles=w[2]),F[0]&1024&&(j.position=w[10]),o.$set(j);const H={};F[0]&255|F[1]&1024&&(H.$$scope={dirty:F,ctx:w}),r.$set(H)},i(w){if(!C){for(let F=0;F<b.length;F+=1)T(v[F]);T(o.$$.fragment,w),T(r.$$.fragment,w),T(d.$$.fragment,w),T(h.$$.fragment,w),T(B.$$.fragment,w),C=!0}},o(w){v=v.filter(Boolean);for(let F=0;F<v.length;F+=1)W(v[F]);W(o.$$.fragment,w),W(r.$$.fragment,w),W(d.$$.fragment,w),W(h.$$.fragment,w),W(B.$$.fragment,w),C=!1},d(w){w&&(R(e),R(n)),Tt(v,w),Q(o),Q(r),Q(d),Q(h),Q(B)}}}function An(t,e){const n=[...t];for(let s=0;s<e;s++)n.unshift(n.pop());return n}function ki(t,e,n){let s;const l={terrain:Ys,circuit:di,pipes:vi},i=Object.keys(l).map((k,A)=>({index:A,name:k}));let o=0,a=l[i[o].name],r=30,c=15,d=0,g=50,h=w(),f=!1,B=!1,C=-1,b={x:0,y:0};function v(k,A){const S=h[k];S.collapsed||S.options.length<=1||(n(9,C=k),n(10,b={x:A.clientX,y:A.clientY}),n(8,B=!0))}function N(k){const A=k.detail;z(C,A),n(8,B=!1),n(9,C=-1)}function U(){n(8,B=!1),n(9,C=-1)}function w(){return Array(r*c).fill().map(()=>({options:a.flatMap((k,A)=>[0,1,2,3].map(S=>({tileIndex:A,rotation:S}))),collapsed:!1,rotation:0,chosen:null}))}function F(){let k=1/0,A=-1;return h.forEach((S,$)=>{!S.collapsed&&S.options.length<k&&(k=S.options.length,A=$)}),A}function j(k){const A=k.reduce(($,D)=>{const P=a[D.tileIndex];return $+(P.weight||1)},0);let S=Math.random()*A;for(const $ of k){const D=a[$.tileIndex];if(S-=D.weight||1,S<=0)return $}}function H(k){const A=[k];for(;A.length>0;){const S=A.shift(),$=h[S],D=[[],[],[],[]];$.options.forEach(X=>{const Y=a[X.tileIndex],Z=An(Y.edges,X.rotation);for(let ee=0;ee<4;ee++)D[ee].includes(Z[ee])||D[ee].push(Z[ee])});const P=[{dx:0,dy:-1,dir:0},{dx:1,dy:0,dir:1},{dx:0,dy:1,dir:2},{dx:-1,dy:0,dir:3}],q=S%r,V=Math.floor(S/r);P.forEach(({dx:X,dy:Y,dir:Z})=>{const ee=q+X,G=V+Y;if(ee>=0&&ee<r&&G>=0&&G<c){const re=G*r+ee,he=h[re];if(he.collapsed)return;const ie=D[Z],Be=he.options.length,ke=he.options.filter(_e=>{const Oe=a[_e.tileIndex],ye=An(Oe.edges,_e.rotation)[(Z+2)%4];return ie.includes(ye.split("").reverse().join(""))});if(ke.length<Be){if(ke.length===0){console.error(`Contradiction at index ${re}`);return}he.options=ke,A.includes(re)||A.push(re)}}})}n(0,h=[...h])}async function O(){z(F())}async function z(k,A=void 0){if(s)return;const S=k;if(S===-1)return;const $=h[S];let D;A!==void 0&&$.options.some(P=>P.tileIndex===A.tileIndex&&P.rotation==A.rotation)?D=A:D=j($.options),$.collapsed=!0,$.chosen=D,$.chosen.src=a[D.tileIndex].src,$.rotation=D.rotation,$.options=[D],H(S)}async function oe(){for(s&&(n(0,h=w()),s=!1);!s;)await O(),await new Promise(k=>setTimeout(k,g));console.log("WFC complete!")}const Re=(k,A)=>v(k,A);function K(){o=us(this),n(1,o),n(12,i)}const Ee=()=>{n(2,a=l[i[o].name]),n(0,h=w())};function be(k){d=k,n(5,d)}function I(k){g=k,n(6,g)}function te(k){r=k,n(3,r)}const we=()=>n(0,h=w());function Te(k){c=k,n(4,c)}const ge=()=>n(0,h=w());function _(){f=this.checked,n(7,f)}const u=()=>n(0,h=w());return t.$$.update=()=>{t.$$.dirty[0]&1&&(s=h.every(k=>k.collapsed))},[h,o,a,r,c,d,g,f,B,C,b,l,i,v,N,U,w,O,oe,Re,K,Ee,be,I,te,we,Te,ge,_,u]}class Ai extends ue{constructor(e){super(),ce(this,e,ki,Bi,ae,{},null,[-1,-1])}}function Mi(t){const e=t-1;return e*e*e+1}function Fi(t,{delay:e=0,duration:n=400,easing:s=Mi,axis:l="y"}={}){const i=getComputedStyle(t),o=+i.opacity,a=l==="y"?"height":"width",r=parseFloat(i[a]),c=l==="y"?["top","bottom"]:["left","right"],d=c.map(v=>`${v[0].toUpperCase()}${v.slice(1)}`),g=parseFloat(i[`padding${d[0]}`]),h=parseFloat(i[`padding${d[1]}`]),f=parseFloat(i[`margin${d[0]}`]),B=parseFloat(i[`margin${d[1]}`]),C=parseFloat(i[`border${d[0]}Width`]),b=parseFloat(i[`border${d[1]}Width`]);return{delay:e,duration:n,easing:s,css:v=>`overflow: hidden;opacity: ${Math.min(v*20,1)*o};${a}: ${v*r}px;padding-${c[0]}: ${v*g}px;padding-${c[1]}: ${v*h}px;margin-${c[0]}: ${v*f}px;margin-${c[1]}: ${v*B}px;border-${c[0]}-width: ${v*C}px;border-${c[1]}-width: ${v*b}px;`}}function Ii(t){let e,n;return{c(){e=y("div"),p(e,"class","water-level svelte-akekp6"),de(e,"background-color",t[0])},m(s,l){E(s,e,l)},p(s,[l]){l&1&&de(e,"background-color",s[0])},i(s){s&&(n||tt(()=>{n=ws(e,Fi,{duration:1e3}),n.start()}))},o:ne,d(s){s&&R(e)}}}function Si(t,e,n){let{color:s}=e;return t.$$set=l=>{"color"in l&&n(0,s=l.color)},[s]}class Di extends ue{constructor(e){super(),ce(this,e,Si,Ii,ae,{color:0})}}function Mn(t,e,n){const s=t.slice();return s[10]=e[n],s[12]=n,s}function Fn(t,e){let n,s,l;return s=new Di({props:{color:e[10].color}}),{key:t,first:null,c(){n=jn(),x(s.$$.fragment),this.first=n},m(i,o){E(i,n,o),J(s,i,o),l=!0},p(i,o){e=i;const a={};o&1&&(a.color=e[10].color),s.$set(a)},i(i){l||(T(s.$$.fragment,i),l=!0)},o(i){W(s.$$.fragment,i),l=!1},d(i){i&&R(n),Q(s,i)}}}function $i(t){let e,n=[],s=new Map,l,i,o,a,r,c,d=De(t[0].levels);const g=h=>h[12];for(let h=0;h<d.length;h+=1){let f=Mn(t,d,h),B=g(f);s.set(B,n[h]=Fn(B,f))}return{c(){e=y("button");for(let h=0;h<n.length;h+=1)n[h].c();l=M(),i=y("div"),p(i,"class","empty-space svelte-1po1ue6"),p(e,"class",o="bottle "+t[5]+" "+(t[2]?"pouring":"")+" svelte-1po1ue6"),de(e,"height",t[3]+"px"),de(e,"width",t[4]+"px"),le(e,"selected",t[1])},m(h,f){E(h,e,f);for(let B=0;B<n.length;B+=1)n[B]&&n[B].m(e,null);m(e,l),m(e,i),a=!0,r||(c=L(e,"click",t[6]),r=!0)},p(h,[f]){f&1&&(d=De(h[0].levels),qe(),n=Vn(n,f,g,1,h,d,s,e,Un,Fn,l,Mn),Ge()),(!a||f&36&&o!==(o="bottle "+h[5]+" "+(h[2]?"pouring":"")+" svelte-1po1ue6"))&&p(e,"class",o),(!a||f&8)&&de(e,"height",h[3]+"px"),(!a||f&16)&&de(e,"width",h[4]+"px"),(!a||f&38)&&le(e,"selected",h[1])},i(h){if(!a){for(let f=0;f<d.length;f+=1)T(n[f]);a=!0}},o(h){for(let f=0;f<n.length;f+=1)W(n[f]);a=!1},d(h){h&&R(e);for(let f=0;f<n.length;f+=1)n[f].d();r=!1,c()}}}function Pi(t,e,n){const s=Ot();let{bottle:l}=e,{selected:i=!1}=e,{pouring:o=!1}=e,{id:a}=e,{height:r=200}=e,{width:c=50}=e,{bottleFinished:d}=e;function g(){console.log(`Bottle ${a} was clicked`,l),s("click")}let{class:h=""}=e;return t.$$set=f=>{"bottle"in f&&n(0,l=f.bottle),"selected"in f&&n(1,i=f.selected),"pouring"in f&&n(2,o=f.pouring),"id"in f&&n(8,a=f.id),"height"in f&&n(3,r=f.height),"width"in f&&n(4,c=f.width),"bottleFinished"in f&&n(7,d=f.bottleFinished),"class"in f&&n(5,h=f.class)},t.$$.update=()=>{t.$$.dirty&1&&n(7,d=l.levels.length===0||l.levels.length===5&&l.levels.every(f=>f.color===l.levels[0].color))},[l,i,o,r,c,h,g,d,a]}class Ri extends ue{constructor(e){super(),ce(this,e,Pi,$i,ae,{bottle:0,selected:1,pouring:2,id:8,height:3,width:4,bottleFinished:7,class:5})}}const Qe=[];function Qt(t,e=ne){let n;const s=new Set;function l(a){if(ae(t,a)&&(t=a,n)){const r=!Qe.length;for(const c of s)c[1](),Qe.push(c,t);if(r){for(let c=0;c<Qe.length;c+=2)Qe[c][0](Qe[c+1]);Qe.length=0}}}function i(a){l(a(t))}function o(a,r=ne){const c=[a,r];return s.add(c),s.size===1&&(n=e(l,i)||ne),a(t),()=>{s.delete(c),s.size===0&&n&&(n(),n=null)}}return{set:l,update:i,subscribe:o}}const St=Qt(8);function In(t,e,n){const s=t.slice();return s[11]=e[n],s[12]=e,s[13]=n,s}function Sn(t,e){let n,s,l,i,o;function a(d){e[6](d,e[13])}function r(){return e[7](e[13])}let c={bottle:e[11],id:e[13],selected:e[13]===e[1],pouring:e[13]===e[3]};return e[2][e[13]]!==void 0&&(c.bottleFinished=e[2][e[13]]),s=new Ri({props:c}),pe.push(()=>Se(s,"bottleFinished",a)),s.$on("click",r),{key:t,first:null,c(){n=y("div"),x(s.$$.fragment),i=M(),p(n,"class","bottle"+" svelte-1xvmf4b"),this.first=n},m(d,g){E(d,n,g),J(s,n,null),m(n,i),o=!0},p(d,g){e=d;const h={};g&1&&(h.bottle=e[11]),g&1&&(h.id=e[13]),g&3&&(h.selected=e[13]===e[1]),g&9&&(h.pouring=e[13]===e[3]),!l&&g&5&&(l=!0,h.bottleFinished=e[2][e[13]],Ie(()=>l=!1)),s.$set(h)},i(d){o||(T(s.$$.fragment,d),o=!0)},o(d){W(s.$$.fragment,d),o=!1},d(d){d&&R(n),Q(s)}}}function Ei(t){let e,n=[],s=new Map,l,i=De(t[0].bottles);const o=a=>a[13];for(let a=0;a<i.length;a+=1){let r=In(t,i,a),c=o(r);s.set(c,n[a]=Sn(c,r))}return{c(){e=y("div");for(let a=0;a<n.length;a+=1)n[a].c();p(e,"class","game-board svelte-1xvmf4b")},m(a,r){E(a,e,r);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);l=!0},p(a,[r]){r&31&&(i=De(a[0].bottles),qe(),n=Vn(n,r,o,1,a,i,s,e,Un,Sn,null,In),Ge())},i(a){if(!l){for(let r=0;r<i.length;r+=1)T(n[r]);l=!0}},o(a){for(let r=0;r<n.length;r+=1)W(n[r]);l=!1},d(a){a&&R(e);for(let r=0;r<n.length;r+=1)n[r].d()}}}const Ti=5;function Oi(t,e,n){let s;Dt(t,St,f=>n(5,s=f));const l=Ot();let{gameState:i}=e,o=null,a=null,r;function c(f){if(o===null)n(1,o=f);else{if(!d(o,f)){n(1,o=null);return}n(3,a=o),setTimeout(()=>{n(3,a=null)},300),n(1,o=null)}}function d(f,B){const C=i.bottles[f],b=i.bottles[B],v=C.levels.length>0?C.levels[C.levels.length-1].color:null,N=b.levels.length>0?b.levels[b.levels.length-1].color:null;if(v&&(N===v||b.levels.length===0)){const U=Ti-b.levels.length;let w=0;for(let F=C.levels.length-1;F>=0&&C.levels[F].color===v;F--)w++;if(w=Math.min(w,U),w===0)return!1;if(w>0){const F=C.levels.splice(C.levels.length-w,w);return b.levels=b.levels.concat(F),n(0,i={...i}),!0}}}function g(f,B){t.$$.not_equal(r[B],f)&&(r[B]=f,n(2,r),n(5,s))}const h=f=>c(f);return t.$$set=f=>{"gameState"in f&&n(0,i=f.gameState)},t.$$.update=()=>{t.$$.dirty&32&&n(2,r=Array(s).fill(!1)),t.$$.dirty&36&&(console.log("Finished Bottles",r),r.filter(f=>f).length===s&&(console.log("All Bottles are finished, Dispatching so"),l("winCurrentBoard"))),t.$$.dirty&2&&console.log("I selected Bottle ",o)},[i,o,r,a,c,s,g,h]}class zi extends ue{constructor(e){super(),ce(this,e,Oi,Ei,ae,{gameState:0})}}function Li(t){let e,n,s,l,i,o,a,r,c,d;function g(f){t[1](f)}let h={min:3,max:12,hideMinMax:!1,class:"list-item-value"};return t[0]!==void 0&&(h.value=t[0]),r=new ut({props:h}),pe.push(()=>Se(r,"value",g)),{c(){e=y("div"),n=y("h1"),n.textContent="Settings",s=M(),l=y("div"),i=y("div"),o=y("span"),o.textContent="Number of Bottles:",a=M(),x(r.$$.fragment),p(o,"class","list-item-lbl svelte-o5f2y4"),p(i,"class","list-item svelte-o5f2y4"),p(l,"class","list svelte-o5f2y4"),p(e,"class","settings-container svelte-o5f2y4")},m(f,B){E(f,e,B),m(e,n),m(e,s),m(e,l),m(l,i),m(i,o),m(i,a),J(r,i,null),d=!0},p(f,[B]){const C={};!c&&B&1&&(c=!0,C.value=f[0],Ie(()=>c=!1)),r.$set(C)},i(f){d||(T(r.$$.fragment,f),d=!0)},o(f){W(r.$$.fragment,f),d=!1},d(f){f&&R(e),Q(r)}}}function Wi(t,e,n){let s;Dt(t,St,i=>n(0,s=i));function l(i){s=i,St.set(s)}return[s,l]}class ji extends ue{constructor(e){super(),ce(this,e,Wi,Li,ae,{})}}function Ni(t){let e,n,s,l,i,o,a,r;const c=t[6].default,d=$t(c,t,t[5],null);return{c(){e=y("div"),n=y("div"),s=y("button"),l=M(),i=y("div"),d&&d.c(),p(s,"id","close"),p(s,"class","close svelte-1j5vmfm"),p(i,"id","modal-content"),p(i,"class","svelte-1j5vmfm"),p(n,"id","modal"),p(n,"class","svelte-1j5vmfm"),p(e,"id","topModal"),p(e,"class","window-wrap svelte-1j5vmfm"),p(e,"role","dialog"),p(e,"aria-modal","true"),le(e,"visible",t[1])},m(g,h){E(g,e,h),m(e,n),m(n,s),m(n,l),m(n,i),d&&d.m(i,null),t[8](e),o=!0,a||(r=[L(s,"click",t[7]),L(n,"click",as(Hi)),L(e,"click",t[9])],a=!0)},p(g,[h]){d&&d.p&&(!o||h&32)&&Rt(d,c,g,g[5],o?Pt(c,g[5],h,null):Et(g[5]),null),(!o||h&2)&&le(e,"visible",g[1])},i(g){o||(T(d,g),o=!0)},o(g){W(d,g),o=!1},d(g){g&&R(e),d&&d.d(g),t[8](null),a=!1,Me(r)}}}let ct;const Ut={};function Dn(t=""){return Ut[t]}const Hi=()=>{};function qi(t,e,n){let{$$slots:s={},$$scope:l}=e,i,o=!1,a,r,{closeOnEscape:c=!0}=e,{id:d=""}=e;function g(v){v.key=="Escape"&&c&&ct==i&&f()}function h(v){r=v,!o&&(a=ct,ct=i,window.addEventListener("keydown",g),document.body.style.overflow="hidden",n(1,o=!0),document.body.appendChild(i))}function f(v){o&&(window.removeEventListener("keydown",g),ct=a,ct==null&&(document.body.style.overflow=""),n(1,o=!1),r&&r(v))}Ut[d]={show:h,close:f},Jt(()=>{delete Ut[d],window.removeEventListener("keydown",g)});const B=()=>f();function C(v){pe[v?"unshift":"push"](()=>{i=v,n(0,i)})}const b=()=>f();return t.$$set=v=>{"closeOnEscape"in v&&n(3,c=v.closeOnEscape),"id"in v&&n(4,d=v.id),"$$scope"in v&&n(5,l=v.$$scope)},[i,o,f,c,d,l,s,B,C,b]}class Nt extends ue{constructor(e){super(),ce(this,e,qi,Ni,ae,{closeOnEscape:3,id:4})}}function Gi(t){let e;return{c(){e=se("Restart")},m(n,s){E(n,e,s)},d(n){n&&R(e)}}}function Ui(t){let e;return{c(){e=se("Settings")},m(n,s){E(n,e,s)},d(n){n&&R(e)}}}function Vi(t){let e,n;return e=new ji({}),{c(){x(e.$$.fragment)},m(s,l){J(e,s,l),n=!0},i(s){n||(T(e.$$.fragment,s),n=!0)},o(s){W(e.$$.fragment,s),n=!1},d(s){Q(e,s)}}}function Zi(t){let e,n,s,l,i,o,a;return{c(){e=y("h1"),e.textContent="Play the Watersort Game here",n=M(),s=y("p"),s.textContent="🎉Für nur 7475€🎉",l=M(),i=y("button"),i.textContent="Long live the nested Modals"},m(r,c){E(r,e,c),E(r,n,c),E(r,s,c),E(r,l,c),E(r,i,c),o||(a=L(i,"click",t[3]),o=!0)},p:ne,d(r){r&&(R(e),R(n),R(s),R(l),R(i)),o=!1,a()}}}function Ki(t){let e,n,s;return{c(){e=y("h2"),e.textContent="Second One",n=M(),s=y("p"),s.textContent="Yeah"},m(l,i){E(l,e,i),E(l,n,i),E(l,s,i)},p:ne,d(l){l&&(R(e),R(n),R(s))}}}function Ji(t){let e,n,s,l,i,o,a,r,c,d,g,h,f;const B=t[0].default,C=$t(B,t,t[4],null);return l=new mn({props:{$$slots:{default:[Gi]},$$scope:{ctx:t}}}),l.$on("click",t[1]),o=new mn({props:{$$slots:{default:[Ui]},$$scope:{ctx:t}}}),o.$on("click",t[2]),r=new Nt({props:{id:"settings",$$slots:{default:[Vi]},$$scope:{ctx:t}}}),d=new Nt({props:{$$slots:{default:[Zi]},$$scope:{ctx:t}}}),h=new Nt({props:{id:"two",$$slots:{default:[Ki]},$$scope:{ctx:t}}}),{c(){e=y("div"),C&&C.c(),n=M(),s=y("div"),x(l.$$.fragment),i=M(),x(o.$$.fragment),a=M(),x(r.$$.fragment),c=M(),x(d.$$.fragment),g=M(),x(h.$$.fragment),p(e,"class","card svelte-nea6l9")},m(b,v){E(b,e,v),C&&C.m(e,null),m(e,n),m(e,s),J(l,s,null),m(s,i),J(o,s,null),E(b,a,v),J(r,b,v),E(b,c,v),J(d,b,v),E(b,g,v),J(h,b,v),f=!0},p(b,[v]){C&&C.p&&(!f||v&16)&&Rt(C,B,b,b[4],f?Pt(B,b[4],v,null):Et(b[4]),null);const N={};v&16&&(N.$$scope={dirty:v,ctx:b}),l.$set(N);const U={};v&16&&(U.$$scope={dirty:v,ctx:b}),o.$set(U);const w={};v&16&&(w.$$scope={dirty:v,ctx:b}),r.$set(w);const F={};v&16&&(F.$$scope={dirty:v,ctx:b}),d.$set(F);const j={};v&16&&(j.$$scope={dirty:v,ctx:b}),h.$set(j)},i(b){f||(T(C,b),T(l.$$.fragment,b),T(o.$$.fragment,b),T(r.$$.fragment,b),T(d.$$.fragment,b),T(h.$$.fragment,b),f=!0)},o(b){W(C,b),W(l.$$.fragment,b),W(o.$$.fragment,b),W(r.$$.fragment,b),W(d.$$.fragment,b),W(h.$$.fragment,b),f=!1},d(b){b&&(R(e),R(a),R(c),R(g)),C&&C.d(b),Q(l),Q(o),Q(r,b),Q(d,b),Q(h,b)}}}function Qi(t,e,n){let{$$slots:s={},$$scope:l}=e;function i(r){ht.call(this,t,r)}const o=()=>Dn("settings").show(),a=()=>Dn("two").show();return t.$$set=r=>{"$$scope"in r&&n(4,l=r.$$scope)},[s,i,o,a,l]}class Xi extends ue{constructor(e){super(),ce(this,e,Qi,Ji,ae,{})}}var gt={};(function t(e,n,s,l){var i=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!e.OffscreenCanvas)return!1;var _=new OffscreenCanvas(1,1),u=_.getContext("2d");u.fillRect(0,0,1,1);var k=_.transferToImageBitmap();try{u.createPattern(k,"no-repeat")}catch{return!1}return!0}();function r(){}function c(_){var u=n.exports.Promise,k=u!==void 0?u:e.Promise;return typeof k=="function"?new k(_):(_(r,r),null)}var d=function(_,u){return{transform:function(k){if(_)return k;if(u.has(k))return u.get(k);var A=new OffscreenCanvas(k.width,k.height),S=A.getContext("2d");return S.drawImage(k,0,0),u.set(k,A),A},clear:function(){u.clear()}}}(a,new Map),g=function(){var _=Math.floor(16.666666666666668),u,k,A={},S=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(u=function($){var D=Math.random();return A[D]=requestAnimationFrame(function P(q){S===q||S+_-1<q?(S=q,delete A[D],$()):A[D]=requestAnimationFrame(P)}),D},k=function($){A[$]&&cancelAnimationFrame(A[$])}):(u=function($){return setTimeout($,_)},k=function($){return clearTimeout($)}),{frame:u,cancel:k}}(),h=function(){var _,u,k={};function A(S){function $(D,P){S.postMessage({options:D||{},callback:P})}S.init=function(P){var q=P.transferControlToOffscreen();S.postMessage({canvas:q},[q])},S.fire=function(P,q,V){if(u)return $(P,null),u;var X=Math.random().toString(36).slice(2);return u=c(function(Y){function Z(ee){ee.data.callback===X&&(delete k[X],S.removeEventListener("message",Z),u=null,d.clear(),V(),Y())}S.addEventListener("message",Z),$(P,X),k[X]=Z.bind(null,{data:{callback:X}})}),u},S.reset=function(){S.postMessage({reset:!0});for(var P in k)k[P](),delete k[P]}}return function(){if(_)return _;if(!s&&i){var S=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{_=new Worker(URL.createObjectURL(new Blob([S])))}catch($){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",$),null}A(_)}return _}}(),f={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function B(_,u){return u?u(_):_}function C(_){return _!=null}function b(_,u,k){return B(_&&C(_[u])?_[u]:f[u],k)}function v(_){return _<0?0:Math.floor(_)}function N(_,u){return Math.floor(Math.random()*(u-_))+_}function U(_){return parseInt(_,16)}function w(_){return _.map(F)}function F(_){var u=String(_).replace(/[^0-9a-f]/gi,"");return u.length<6&&(u=u[0]+u[0]+u[1]+u[1]+u[2]+u[2]),{r:U(u.substring(0,2)),g:U(u.substring(2,4)),b:U(u.substring(4,6))}}function j(_){var u=b(_,"origin",Object);return u.x=b(u,"x",Number),u.y=b(u,"y",Number),u}function H(_){_.width=document.documentElement.clientWidth,_.height=document.documentElement.clientHeight}function O(_){var u=_.getBoundingClientRect();_.width=u.width,_.height=u.height}function z(_){var u=document.createElement("canvas");return u.style.position="fixed",u.style.top="0px",u.style.left="0px",u.style.pointerEvents="none",u.style.zIndex=_,u}function oe(_,u,k,A,S,$,D,P,q){_.save(),_.translate(u,k),_.rotate($),_.scale(A,S),_.arc(0,0,1,D,P,q),_.restore()}function Re(_){var u=_.angle*(Math.PI/180),k=_.spread*(Math.PI/180);return{x:_.x,y:_.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:_.startVelocity*.5+Math.random()*_.startVelocity,angle2D:-u+(.5*k-Math.random()*k),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:_.color,shape:_.shape,tick:0,totalTicks:_.ticks,decay:_.decay,drift:_.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:_.gravity*3,ovalScalar:.6,scalar:_.scalar,flat:_.flat}}function K(_,u){u.x+=Math.cos(u.angle2D)*u.velocity+u.drift,u.y+=Math.sin(u.angle2D)*u.velocity+u.gravity,u.velocity*=u.decay,u.flat?(u.wobble=0,u.wobbleX=u.x+10*u.scalar,u.wobbleY=u.y+10*u.scalar,u.tiltSin=0,u.tiltCos=0,u.random=1):(u.wobble+=u.wobbleSpeed,u.wobbleX=u.x+10*u.scalar*Math.cos(u.wobble),u.wobbleY=u.y+10*u.scalar*Math.sin(u.wobble),u.tiltAngle+=.1,u.tiltSin=Math.sin(u.tiltAngle),u.tiltCos=Math.cos(u.tiltAngle),u.random=Math.random()+2);var k=u.tick++/u.totalTicks,A=u.x+u.random*u.tiltCos,S=u.y+u.random*u.tiltSin,$=u.wobbleX+u.random*u.tiltCos,D=u.wobbleY+u.random*u.tiltSin;if(_.fillStyle="rgba("+u.color.r+", "+u.color.g+", "+u.color.b+", "+(1-k)+")",_.beginPath(),o&&u.shape.type==="path"&&typeof u.shape.path=="string"&&Array.isArray(u.shape.matrix))_.fill(we(u.shape.path,u.shape.matrix,u.x,u.y,Math.abs($-A)*.1,Math.abs(D-S)*.1,Math.PI/10*u.wobble));else if(u.shape.type==="bitmap"){var P=Math.PI/10*u.wobble,q=Math.abs($-A)*.1,V=Math.abs(D-S)*.1,X=u.shape.bitmap.width*u.scalar,Y=u.shape.bitmap.height*u.scalar,Z=new DOMMatrix([Math.cos(P)*q,Math.sin(P)*q,-Math.sin(P)*V,Math.cos(P)*V,u.x,u.y]);Z.multiplySelf(new DOMMatrix(u.shape.matrix));var ee=_.createPattern(d.transform(u.shape.bitmap),"no-repeat");ee.setTransform(Z),_.globalAlpha=1-k,_.fillStyle=ee,_.fillRect(u.x-X/2,u.y-Y/2,X,Y),_.globalAlpha=1}else if(u.shape==="circle")_.ellipse?_.ellipse(u.x,u.y,Math.abs($-A)*u.ovalScalar,Math.abs(D-S)*u.ovalScalar,Math.PI/10*u.wobble,0,2*Math.PI):oe(_,u.x,u.y,Math.abs($-A)*u.ovalScalar,Math.abs(D-S)*u.ovalScalar,Math.PI/10*u.wobble,0,2*Math.PI);else if(u.shape==="star")for(var G=Math.PI/2*3,re=4*u.scalar,he=8*u.scalar,ie=u.x,Be=u.y,ke=5,_e=Math.PI/ke;ke--;)ie=u.x+Math.cos(G)*he,Be=u.y+Math.sin(G)*he,_.lineTo(ie,Be),G+=_e,ie=u.x+Math.cos(G)*re,Be=u.y+Math.sin(G)*re,_.lineTo(ie,Be),G+=_e;else _.moveTo(Math.floor(u.x),Math.floor(u.y)),_.lineTo(Math.floor(u.wobbleX),Math.floor(S)),_.lineTo(Math.floor($),Math.floor(D)),_.lineTo(Math.floor(A),Math.floor(u.wobbleY));return _.closePath(),_.fill(),u.tick<u.totalTicks}function Ee(_,u,k,A,S){var $=u.slice(),D=_.getContext("2d"),P,q,V=c(function(X){function Y(){P=q=null,D.clearRect(0,0,A.width,A.height),d.clear(),S(),X()}function Z(){s&&!(A.width===l.width&&A.height===l.height)&&(A.width=_.width=l.width,A.height=_.height=l.height),!A.width&&!A.height&&(k(_),A.width=_.width,A.height=_.height),D.clearRect(0,0,A.width,A.height),$=$.filter(function(ee){return K(D,ee)}),$.length?P=g.frame(Z):Y()}P=g.frame(Z),q=Y});return{addFettis:function(X){return $=$.concat(X),V},canvas:_,promise:V,reset:function(){P&&g.cancel(P),q&&q()}}}function be(_,u){var k=!_,A=!!b(u||{},"resize"),S=!1,$=b(u,"disableForReducedMotion",Boolean),D=i&&!!b(u||{},"useWorker"),P=D?h():null,q=k?H:O,V=_&&P?!!_.__confetti_initialized:!1,X=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Y;function Z(G,re,he){for(var ie=b(G,"particleCount",v),Be=b(G,"angle",Number),ke=b(G,"spread",Number),_e=b(G,"startVelocity",Number),Oe=b(G,"decay",Number),nt=b(G,"gravity",Number),ye=b(G,"drift",Number),st=b(G,"colors",w),Ue=b(G,"ticks",Number),Ve=b(G,"shapes"),mt=b(G,"scalar"),Ae=!!b(G,"flat"),it=j(G),lt=ie,Ze=[],Ke=_.width*it.x,pt=_.height*it.y;lt--;)Ze.push(Re({x:Ke,y:pt,angle:Be,spread:ke,startVelocity:_e,color:st[lt%st.length],shape:Ve[N(0,Ve.length)],ticks:Ue,decay:Oe,gravity:nt,drift:ye,scalar:mt,flat:Ae}));return Y?Y.addFettis(Ze):(Y=Ee(_,Ze,q,re,he),Y.promise)}function ee(G){var re=$||b(G,"disableForReducedMotion",Boolean),he=b(G,"zIndex",Number);if(re&&X)return c(function(_e){_e()});k&&Y?_=Y.canvas:k&&!_&&(_=z(he),document.body.appendChild(_)),A&&!V&&q(_);var ie={width:_.width,height:_.height};P&&!V&&P.init(_),V=!0,P&&(_.__confetti_initialized=!0);function Be(){if(P){var _e={getBoundingClientRect:function(){if(!k)return _.getBoundingClientRect()}};q(_e),P.postMessage({resize:{width:_e.width,height:_e.height}});return}ie.width=ie.height=null}function ke(){Y=null,A&&(S=!1,e.removeEventListener("resize",Be)),k&&_&&(document.body.contains(_)&&document.body.removeChild(_),_=null,V=!1)}return A&&!S&&(S=!0,e.addEventListener("resize",Be,!1)),P?P.fire(G,ie,ke):Z(G,ie,ke)}return ee.reset=function(){P&&P.reset(),Y&&Y.reset()},ee}var I;function te(){return I||(I=be(null,{useWorker:!0,resize:!0})),I}function we(_,u,k,A,S,$,D){var P=new Path2D(_),q=new Path2D;q.addPath(P,new DOMMatrix(u));var V=new Path2D;return V.addPath(q,new DOMMatrix([Math.cos(D)*S,Math.sin(D)*S,-Math.sin(D)*$,Math.cos(D)*$,k,A])),V}function Te(_){if(!o)throw new Error("path confetti are not supported in this browser");var u,k;typeof _=="string"?u=_:(u=_.path,k=_.matrix);var A=new Path2D(u),S=document.createElement("canvas"),$=S.getContext("2d");if(!k){for(var D=1e3,P=D,q=D,V=0,X=0,Y,Z,ee=0;ee<D;ee+=2)for(var G=0;G<D;G+=2)$.isPointInPath(A,ee,G,"nonzero")&&(P=Math.min(P,ee),q=Math.min(q,G),V=Math.max(V,ee),X=Math.max(X,G));Y=V-P,Z=X-q;var re=10,he=Math.min(re/Y,re/Z);k=[he,0,0,he,-Math.round(Y/2+P)*he,-Math.round(Z/2+q)*he]}return{type:"path",path:u,matrix:k}}function ge(_){var u,k=1,A="#000000",S='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof _=="string"?u=_:(u=_.text,k="scalar"in _?_.scalar:k,S="fontFamily"in _?_.fontFamily:S,A="color"in _?_.color:A);var $=10*k,D=""+$+"px "+S,P=new OffscreenCanvas($,$),q=P.getContext("2d");q.font=D;var V=q.measureText(u),X=Math.ceil(V.actualBoundingBoxRight+V.actualBoundingBoxLeft),Y=Math.ceil(V.actualBoundingBoxAscent+V.actualBoundingBoxDescent),Z=2,ee=V.actualBoundingBoxLeft+Z,G=V.actualBoundingBoxAscent+Z;X+=Z+Z,Y+=Z+Z,P=new OffscreenCanvas(X,Y),q=P.getContext("2d"),q.font=D,q.fillStyle=A,q.fillText(u,ee,G);var re=1/k;return{type:"bitmap",bitmap:P.transferToImageBitmap(),matrix:[re,0,0,re,-X*re/2,-Y*re/2]}}n.exports=function(){return te().apply(this,arguments)},n.exports.reset=function(){te().reset()},n.exports.create=be,n.exports.shapeFromPath=Te,n.exports.shapeFromText=ge})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),gt,!1);const Yi=gt.exports;gt.exports.create;function xi(t){let e;return{c(){e=y("div"),p(e,"id","confetti-canvas")},m(n,s){E(n,e,s)},p:ne,i:ne,o:ne,d(n){n&&R(e)}}}function el(t,e,n){let{startConfetti:s=null}=e,{durationInS:l=3}=e,{startVelocity:i=30}=e,{origin:o={x:.5,y:.5}}=e;return Hn(()=>{n(0,s=()=>{const a=l*1e3,r=Date.now()+a,c={startVelocity:i,spread:360,ticks:60,zIndex:0};(function d(){Yi(Object.assign({},c,{particleCount:5,origin:{origin:o}})),Date.now()<r&&requestAnimationFrame(d)})()})}),t.$$set=a=>{"startConfetti"in a&&n(0,s=a.startConfetti),"durationInS"in a&&n(1,l=a.durationInS),"startVelocity"in a&&n(2,i=a.startVelocity),"origin"in a&&n(3,o=a.origin)},[s,l,i,o]}class tl extends ue{constructor(e){super(),ce(this,e,el,xi,ae,{startConfetti:0,durationInS:1,startVelocity:2,origin:3})}get startConfetti(){return this.$$.ctx[0]}set startConfetti(e){this.$$set({startConfetti:e}),Ye()}get durationInS(){return this.$$.ctx[1]}set durationInS(e){this.$$set({durationInS:e}),Ye()}get startVelocity(){return this.$$.ctx[2]}set startVelocity(e){this.$$set({startVelocity:e}),Ye()}get origin(){return this.$$.ctx[3]}set origin(e){this.$$set({origin:e}),Ye()}}function nl(t){let e,n,s,l,i;function o(c){t[5](c)}let a={};t[0]!==void 0&&(a.gameState=t[0]),e=new zi({props:a}),pe.push(()=>Se(e,"gameState",o)),e.$on("winCurrentBoard",t[4]);let r={};return l=new tl({props:r}),t[6](l),{c(){x(e.$$.fragment),s=M(),x(l.$$.fragment)},m(c,d){J(e,c,d),E(c,s,d),J(l,c,d),i=!0},p(c,d){const g={};!n&&d&1&&(n=!0,g.gameState=c[0],Ie(()=>n=!1)),e.$set(g);const h={};l.$set(h)},i(c){i||(T(e.$$.fragment,c),T(l.$$.fragment,c),i=!0)},o(c){W(e.$$.fragment,c),W(l.$$.fragment,c),i=!1},d(c){c&&R(s),Q(e,c),t[6](null),Q(l,c)}}}function sl(t){let e,n,s,l;return s=new Xi({props:{$$slots:{default:[nl]},$$scope:{ctx:t}}}),s.$on("click",t[7]),{c(){e=M(),n=y("main"),x(s.$$.fragment),document.title="Watersort Game",de(n,"padding-top","75px")},m(i,o){E(i,e,o),E(i,n,o),J(s,n,null),l=!0},p(i,[o]){const a={};o&517&&(a.$$scope={dirty:o,ctx:i}),s.$set(a)},i(i){l||(T(s.$$.fragment,i),l=!0)},o(i){W(s.$$.fragment,i),l=!1},d(i){i&&(R(e),R(n)),Q(s)}}}const ze=5;function Ht(t){for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t}function $n(t){return t.bottles.map(e=>e.levels.map(n=>n.color).join(",")).join("|")}function Jn(t,e=0,n=3,s=new Set){const l=$n(t);if(s.has(l)||e>=n)return!1;s.add(l);for(let i=0;i<t.bottles.length;i++)for(let o=0;o<t.bottles.length;o++)if(i!==o&&il(t.bottles[i],t.bottles[o])){let a=ol(t);ll(a.bottles[i],a.bottles[o]);const r=$n(a);if(!s.has(r))if(e+1<n){if(Jn(a,e+1,n,s))return!0}else return!0}return!1}function il(t,e){if(t.levels.length===0)return!1;const n=t.levels[t.levels.length-1].color,s=e.levels.length>0?e.levels[e.levels.length-1].color:null,l=ze-e.levels.length;return(n===s||s===null)&&l>0}function ll(t,e){const n=t.levels[t.levels.length-1].color,s=ze-e.levels.length;let l=0;for(let o=t.levels.length-1;o>=0&&t.levels[o].color===n;o--)l++;l=Math.min(l,s);const i=t.levels.splice(t.levels.length-l,l);e.levels.push(...i)}function ol(t){return{bottles:t.bottles.map(e=>({...e,levels:[...e.levels]}))}}function rl(t,e,n){let s;Dt(t,St,h=>n(1,s=h));let l;const i=["blue","red","orange","green","purple","yellow","pink","brown"];function o(h,f=2){let B=(h-f)*ze,C=[];const b=Math.max(Math.floor(B/(i.length*ze)),1);console.log(b);for(let U=0;U<b;U++)for(let w of[...Ht(i)]){for(let F=0;F<ze;F++)C.push({color:w}),B-=1;if(console.log("Filled x Leves here"),B===0)break}for(;B>0;){let U=Math.floor(Math.random()*i.length);for(let w=0;w<ze;w++)C.push({color:i[U]});B-=ze}Ht(C);let v=Array.from({length:h},()=>({levels:[]})),N=0;for(;C.length>0;)v[N].levels=C.splice(0,ze),N++,N===h-f&&(N+=f);return Ht(v),{bottles:v}}let a=o(s,2);function r(){l.startConfetti()}function c(h){a=h,n(0,a),n(1,s)}function d(h){pe[h?"unshift":"push"](()=>{l=h,n(2,l)})}const g=()=>n(0,a=o(s,2));return t.$$.update=()=>{if(t.$$.dirty&2&&s&&n(0,a=o(s,2)),t.$$.dirty&1){let h;console.log("Is winnable ",h=Jn(a)),h||alert("Not Winnable")}},[a,s,l,o,r,c,d,g]}class al extends ue{constructor(e){super(),ce(this,e,rl,sl,ae,{})}}class fe{constructor(e=0,n=0){this.x=e,this.y=n}add(e){return new fe(this.x+e.x,this.y+e.y)}subtract(e){return new fe(this.x-e.x,this.y-e.y)}multiply(e){return new fe(this.x*e,this.y*e)}divide(e){return e===0?new fe(0,0):new fe(this.x/e,this.y/e)}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)}normalize(){const e=this.magnitude();return e===0?new fe(0,0):this.divide(e)}limit(e){return this.magnitude()>e?this.normalize().multiply(e):new fe(this.x,this.y)}distance(e){return this.subtract(e).magnitude()}copy(){return new fe(this.x,this.y)}static random(){const e=Math.random()*Math.PI*2;return new fe(Math.cos(e),Math.sin(e))}}function cl(t,e,n=25,s=1.5){const l=new fe(0,0);let i=0;for(const o of e){const a=t.position.distance(o.position);if(a>0&&a<n){const r=t.position.subtract(o.position).normalize().divide(a);l.x+=r.x,l.y+=r.y,i++}}return i>0?l.divide(i).normalize().multiply(t.maxSpeed).subtract(t.velocity).limit(t.maxForce).multiply(s):new fe(0,0)}function ul(t,e,n=50,s=1){const l=new fe(0,0);let i=0;for(const o of e){const a=t.position.distance(o.position);a>0&&a<n&&(l.x+=o.velocity.x,l.y+=o.velocity.y,i++)}return i>0?l.divide(i).normalize().multiply(t.maxSpeed).subtract(t.velocity).limit(t.maxForce).multiply(s):new fe(0,0)}function fl(t,e,n=50,s=1){const l=new fe(0,0);let i=0;for(const o of e){const a=t.position.distance(o.position);a>0&&a<n&&(l.x+=o.position.x,l.y+=o.position.y,i++)}if(i>0){const o=l.divide(i);return dl(t,o).multiply(s)}return new fe(0,0)}function dl(t,e){const n=e.subtract(t.position);return n.x=n.x/n.magnitude()*t.maxSpeed,n.y=n.y/n.magnitude()*t.maxSpeed,n.subtract(t.velocity).limit(t.maxForce)}class hl{constructor(e,n,s,l){this.position=new fe(e,n),this.velocity=fe.random().multiply(2),this.acceleration=new fe(0,0),this.maxSpeed=3,this.maxForce=.3,this.size=6,this.color="#00ff88",this.trail=[],this.trailLength=20,this.canvasWidth=s,this.canvasHeight=l}update(){this.velocity=this.velocity.add(this.acceleration),this.velocity=this.velocity.limit(this.maxSpeed),this.position=this.position.add(this.velocity),this.acceleration=new fe(0,0),this.wrapAround(),this.updateTrail()}applyForce(e){this.acceleration=this.acceleration.add(e)}wrapAround(){this.position.x<0&&(this.position.x=this.canvasWidth,this.trail=[]),this.position.x>this.canvasWidth&&(this.position.x=0,this.trail=[]),this.position.y<0&&(this.position.y=this.canvasHeight,this.trail=[]),this.position.y>this.canvasHeight&&(this.position.y=0,this.trail=[])}updateTrail(){this.trail.push(this.position.copy()),this.trail.length>this.trailLength&&this.trail.shift()}draw(e,n=!1){if(n&&this.trail.length>1){e.strokeStyle=this.color+"40",e.lineWidth=1,e.beginPath(),e.moveTo(this.trail[0].x,this.trail[0].y);for(let l=1;l<this.trail.length;l++)e.lineTo(this.trail[l].x,this.trail[l].y);e.stroke()}const s=Math.atan2(this.velocity.y,this.velocity.x);e.save(),e.translate(this.position.x,this.position.y),e.rotate(s),e.fillStyle=this.color,e.beginPath(),e.moveTo(this.size,0),e.lineTo(-this.size/2,-this.size/2),e.lineTo(-this.size/2,this.size/2),e.closePath(),e.fill(),e.restore()}}class Qn{constructor(e,n){this.boids=[],this.canvasWidth=e,this.canvasHeight=n,this.separationRadius=25,this.alignmentRadius=50,this.cohesionRadius=50,this.separationForce=1.5,this.alignmentForce=1,this.cohesionForce=1,this.showTrails=!1,this.boidCount=Qt(0)}addBoid(e,n){const s=new hl(e,n,this.canvasWidth,this.canvasHeight);return this.boids.push(s),this.boidCount.set(this.boids.length),s}addRandomBoids(e){for(let n=0;n<e;n++){const s=Math.random()*this.canvasWidth,l=Math.random()*this.canvasHeight;this.addBoid(s,l)}}removeBoid(){this.boids.length>0&&(this.boids.pop(),this.boidCount.set(this.boids.length))}updateCanvasSize(e,n){this.canvasWidth=e,this.canvasHeight=n;for(const s of this.boids)s.canvasWidth=e,s.canvasHeight=n}updateBehaviorParams(e){Object.assign(this,e)}clear(){this.boids=[],this.boidCount.set(0)}update(){for(const e of this.boids){const n=cl(e,this.boids,this.separationRadius,this.separationForce),s=ul(e,this.boids,this.alignmentRadius,this.alignmentForce),l=fl(e,this.boids,this.cohesionRadius,this.cohesionForce);e.applyForce(n),e.applyForce(s),e.applyForce(l),e.update()}}draw(e){e.clearRect(0,0,this.canvasWidth,this.canvasHeight);for(const n of this.boids)n.draw(e,this.showTrails)}}function gl(t){let e,n,s,l;return{c(){e=y("canvas"),p(e,"width",t[0]),p(e,"height",t[1]),p(e,"style",n=`border: 1px solid #333; cursor: crosshair; background-color: ${t[2]}`),p(e,"class","svelte-1igk4cv")},m(i,o){E(i,e,o),t[11](e),s||(l=[L(e,"mousedown",t[4]),L(e,"mousemove",t[5]),L(e,"mouseup",t[6]),L(e,"mouseleave",t[7])],s=!0)},p(i,[o]){o&1&&p(e,"width",i[0]),o&2&&p(e,"height",i[1]),o&4&&n!==(n=`border: 1px solid #333; cursor: crosshair; background-color: ${i[2]}`)&&p(e,"style",n)},i:ne,o:ne,d(i){i&&R(e),t[11](null),s=!1,Me(l)}}}function ml(t,e,n){let{width:s=800}=e,{height:l=600}=e,{backgroundColor:i="#0a0a0a"}=e,{flock:o=null}=e,a,r,c,d=!1,{spawnRate:g=50}=e,h=!1,f=0;Hn(()=>{n(10,r=a.getContext("2d")),o?o.updateCanvasSize(s,l):(n(8,o=new Qn(s,l)),o.addRandomBoids(50)),B()}),Jt(()=>{C()});function B(){d||(d=!0,b())}function C(){c&&(cancelAnimationFrame(c),c=null),d=!1}function b(){d&&(n(10,r.fillStyle=i,r),r.fillRect(0,0,s,l),o.update(),o.draw(r),c=requestAnimationFrame(b))}function v(O){const z=a.getBoundingClientRect();return{x:O.clientX-z.left,y:O.clientY-z.top}}function N(O,z){const oe=Date.now();oe-f>g&&(o.addBoid(O,z),f=oe)}function U(O){h=!0;const z=v(O);N(z.x,z.y)}function w(O){if(h){const z=v(O);N(z.x,z.y)}}function F(){h=!1}function j(){h=!1}function H(O){pe[O?"unshift":"push"](()=>{a=O,n(3,a)})}return t.$$set=O=>{"width"in O&&n(0,s=O.width),"height"in O&&n(1,l=O.height),"backgroundColor"in O&&n(2,i=O.backgroundColor),"flock"in O&&n(8,o=O.flock),"spawnRate"in O&&n(9,g=O.spawnRate)},t.$$.update=()=>{t.$$.dirty&1283&&o&&r&&o.updateCanvasSize(s,l)},[s,l,i,a,U,w,F,j,o,g,r,H]}class pl extends ue{constructor(e){super(),ce(this,e,ml,gl,ae,{width:0,height:1,backgroundColor:2,flock:8,spawnRate:9})}}const Pn=Qt(0);function _l(t){let e,n,s,l,i,o,a,r,c,d,g,h,f,B,C,b,v,N,U,w,F,j,H,O,z=t[0].separationForce+"",oe,Re,K,Ee,be,I,te=t[0].alignmentForce+"",we,Te,ge,_,u,k,A=t[0].cohesionForce+"",S,$,D,P,q,V,X,Y,Z,ee,G=t[0].separationRadius+"",re,he,ie,Be,ke,_e,Oe,nt,ye,st,Ue=t[0].alignmentRadius+"",Ve,mt,Ae,it,lt,Ze,Ke,pt,$e,Xt,_t=t[0].cohesionRadius+"",zt,Yt,Pe,xt,en,tn,vt,nn,bt,Le,wt,sn,ot,We,ln,on,yt,je,Ct,rn,Bt,rt,Lt,an;return{c(){e=y("div"),n=y("h3"),n.textContent="Boid Controls",s=M(),l=y("div"),i=y("details"),o=y("summary"),o.textContent="Population",a=M(),r=y("div"),c=y("button"),c.textContent="Add 10 Boids",d=M(),g=y("button"),g.textContent="Remove 10 Boids",h=M(),f=y("button"),f.textContent="Clear All",B=M(),C=y("p"),b=se("Current boids: "),v=se(t[1]),N=M(),U=y("div"),w=y("details"),F=y("summary"),F.textContent="Behavior Forces",j=M(),H=y("label"),O=se("Separation: "),oe=se(z),Re=M(),K=y("input"),Ee=M(),be=y("label"),I=se("Alignment: "),we=se(te),Te=M(),ge=y("input"),_=M(),u=y("label"),k=se("Cohesion: "),S=se(A),$=M(),D=y("input"),P=M(),q=y("div"),V=y("details"),X=y("summary"),X.textContent="Behavior Radii",Y=M(),Z=y("label"),ee=se("Separation Radius: "),re=se(G),he=M(),ie=y("input"),Be=M(),ke=y("br"),_e=M(),Oe=y("span"),Oe.textContent="If smaller than this steer away from others",nt=M(),ye=y("label"),st=se("Alignment Radius: "),Ve=se(Ue),mt=M(),Ae=y("input"),it=M(),lt=y("br"),Ze=M(),Ke=y("span"),Ke.textContent="If in radius adjust own velocity to average",pt=M(),$e=y("label"),Xt=se("Cohesion Radius: "),zt=se(_t),Yt=M(),Pe=y("input"),xt=M(),en=y("br"),tn=M(),vt=y("span"),vt.textContent="If in radius steer to neighbours",nn=M(),bt=y("div"),Le=y("details"),wt=y("summary"),wt.textContent="Visual Settings",sn=M(),ot=y("label"),We=y("input"),ln=se(`
                Show Trails`),on=M(),yt=y("div"),je=y("details"),Ct=y("summary"),Ct.textContent="Cool Presets",rn=M(),Bt=y("label"),rt=y("button"),rt.textContent='Explosion - try quickly switching seperationforce "on" and "off"',p(o,"class","svelte-gsubsr"),p(c,"class","svelte-gsubsr"),p(g,"class","svelte-gsubsr"),p(f,"class","svelte-gsubsr"),p(r,"class","button-row svelte-gsubsr"),p(C,"class","svelte-gsubsr"),i.open=t[6](0),p(l,"class","control-group svelte-gsubsr"),p(F,"class","svelte-gsubsr"),p(K,"type","range"),p(K,"min","0"),p(K,"max","3"),p(K,"step","0.1"),p(K,"class","svelte-gsubsr"),p(H,"class","svelte-gsubsr"),p(ge,"type","range"),p(ge,"min","0"),p(ge,"max","3"),p(ge,"step","0.1"),p(ge,"class","svelte-gsubsr"),p(be,"class","svelte-gsubsr"),p(D,"type","range"),p(D,"min","0"),p(D,"max","3"),p(D,"step","0.1"),p(D,"class","svelte-gsubsr"),p(u,"class","svelte-gsubsr"),w.open=t[6](1),p(U,"class","control-group svelte-gsubsr"),p(X,"class","svelte-gsubsr"),p(ie,"type","range"),p(ie,"min","5"),p(ie,"max","100"),p(ie,"step","5"),p(ie,"class","svelte-gsubsr"),p(Oe,"class","tip svelte-gsubsr"),p(Z,"class","svelte-gsubsr"),p(Ae,"type","range"),p(Ae,"min","10"),p(Ae,"max","150"),p(Ae,"step","5"),p(Ae,"class","svelte-gsubsr"),p(Ke,"class","tip svelte-gsubsr"),p(ye,"class","svelte-gsubsr"),p(Pe,"type","range"),p(Pe,"min","10"),p(Pe,"max","150"),p(Pe,"step","5"),p(Pe,"class","svelte-gsubsr"),p(vt,"class","tip svelte-gsubsr"),p($e,"class","svelte-gsubsr"),V.open=t[6](2),p(q,"class","control-group svelte-gsubsr"),p(wt,"class","svelte-gsubsr"),p(We,"type","checkbox"),p(We,"class","svelte-gsubsr"),p(ot,"class","svelte-gsubsr"),Le.open=t[6](3),p(bt,"class","control-group svelte-gsubsr"),p(Ct,"class","svelte-gsubsr"),p(rt,"class","svelte-gsubsr"),p(Bt,"class","svelte-gsubsr"),je.open=t[6](4),p(yt,"class","control-group svelte-gsubsr"),p(e,"class","controls svelte-gsubsr"),de(e,"min-width","375px")},m(me,ve){E(me,e,ve),m(e,n),m(e,s),m(e,l),m(l,i),m(i,o),m(i,a),m(i,r),m(r,c),m(r,d),m(r,g),m(r,h),m(r,f),m(i,B),m(i,C),m(C,b),m(C,v),m(e,N),m(e,U),m(U,w),m(w,F),m(w,j),m(w,H),m(H,O),m(H,oe),m(H,Re),m(H,K),Ce(K,t[0].separationForce),m(w,Ee),m(w,be),m(be,I),m(be,we),m(be,Te),m(be,ge),Ce(ge,t[0].alignmentForce),m(w,_),m(w,u),m(u,k),m(u,S),m(u,$),m(u,D),Ce(D,t[0].cohesionForce),m(e,P),m(e,q),m(q,V),m(V,X),m(V,Y),m(V,Z),m(Z,ee),m(Z,re),m(Z,he),m(Z,ie),Ce(ie,t[0].separationRadius),m(Z,Be),m(Z,ke),m(Z,_e),m(Z,Oe),m(V,nt),m(V,ye),m(ye,st),m(ye,Ve),m(ye,mt),m(ye,Ae),Ce(Ae,t[0].alignmentRadius),m(ye,it),m(ye,lt),m(ye,Ze),m(ye,Ke),m(V,pt),m(V,$e),m($e,Xt),m($e,zt),m($e,Yt),m($e,Pe),Ce(Pe,t[0].cohesionRadius),m($e,xt),m($e,en),m($e,tn),m($e,vt),m(e,nn),m(e,bt),m(bt,Le),m(Le,wt),m(Le,sn),m(Le,ot),m(ot,We),We.checked=t[0].showTrails,m(ot,ln),m(e,on),m(e,yt),m(yt,je),m(je,Ct),m(je,rn),m(je,Bt),m(Bt,rt),Lt||(an=[L(c,"click",t[9]),L(g,"click",t[3]),L(f,"click",t[4]),L(i,"toggle",t[10]),L(K,"change",t[11]),L(K,"input",t[11]),L(ge,"change",t[12]),L(ge,"input",t[12]),L(D,"change",t[13]),L(D,"input",t[13]),L(w,"toggle",t[14]),L(ie,"change",t[15]),L(ie,"input",t[15]),L(Ae,"change",t[16]),L(Ae,"input",t[16]),L(Pe,"change",t[17]),L(Pe,"input",t[17]),L(V,"toggle",t[18]),L(We,"change",t[19]),L(Le,"toggle",t[20]),L(rt,"click",t[21]),L(je,"toggle",t[22])],Lt=!0)},p(me,[ve]){ve&2&&Fe(v,me[1]),ve&1&&z!==(z=me[0].separationForce+"")&&Fe(oe,z),ve&1&&Ce(K,me[0].separationForce),ve&1&&te!==(te=me[0].alignmentForce+"")&&Fe(we,te),ve&1&&Ce(ge,me[0].alignmentForce),ve&1&&A!==(A=me[0].cohesionForce+"")&&Fe(S,A),ve&1&&Ce(D,me[0].cohesionForce),ve&1&&G!==(G=me[0].separationRadius+"")&&Fe(re,G),ve&1&&Ce(ie,me[0].separationRadius),ve&1&&Ue!==(Ue=me[0].alignmentRadius+"")&&Fe(Ve,Ue),ve&1&&Ce(Ae,me[0].alignmentRadius),ve&1&&_t!==(_t=me[0].cohesionRadius+"")&&Fe(zt,_t),ve&1&&Ce(Pe,me[0].cohesionRadius),ve&1&&(We.checked=me[0].showTrails)},i:ne,o:ne,d(me){me&&R(e),Lt=!1,Me(an)}}}function vl(t,e,n){let s;Dt(t,Pn,K=>n(23,s=K));let{flock:l}=e,i={separationForce:1.5,alignmentForce:1,cohesionForce:1,separationRadius:25,alignmentRadius:50,cohesionRadius:50,showTrails:!1},o=0,a=null;Jt(()=>{a&&a()});function r(){l&&l.updateBehaviorParams(i)}function c(K=10){l&&l.addRandomBoids(K)}function d(){if(l)for(let K=0;K<10;K++)l.removeBoid()}function g(){l&&l.clear()}function h(K){Pn.update(Ee=>Ee^1<<K)}const f=K=>(s&1<<K)!==0,B=()=>c(10),C=()=>h(0);function b(){i.separationForce=Ne(this.value),n(0,i)}function v(){i.alignmentForce=Ne(this.value),n(0,i)}function N(){i.cohesionForce=Ne(this.value),n(0,i)}const U=()=>h(1);function w(){i.separationRadius=Ne(this.value),n(0,i)}function F(){i.alignmentRadius=Ne(this.value),n(0,i)}function j(){i.cohesionRadius=Ne(this.value),n(0,i)}const H=()=>h(2);function O(){i.showTrails=this.checked,n(0,i)}const z=()=>h(3),oe=()=>{n(0,i.cohesionForce=1.9,i),n(0,i.alignmentForce=1.3,i),n(0,i.separationRadius=100,i),n(0,i.alignmentRadius=70,i),n(0,i.cohesionRadius=80,i)},Re=()=>h(4);return t.$$set=K=>{"flock"in K&&n(7,l=K.flock)},t.$$.update=()=>{t.$$.dirty&384&&l&&l.boidCount&&(a&&a(),n(8,a=l.boidCount.subscribe(K=>{n(1,o=K)}))),t.$$.dirty&1&&r()},[i,o,c,d,g,h,f,l,a,B,C,b,v,N,U,w,F,j,H,O,z,oe,Re]}class bl extends ue{constructor(e){super(),ce(this,e,vl,_l,ae,{flock:7})}}function wl(t){let e,n,s;function l(o){t[4](o)}let i={};return t[0]!==void 0&&(i.flock=t[0]),e=new bl({props:i}),pe.push(()=>Se(e,"flock",l)),{c(){x(e.$$.fragment)},m(o,a){J(e,o,a),s=!0},p(o,a){const r={};!n&&a&1&&(n=!0,r.flock=o[0],Ie(()=>n=!1)),e.$set(r)},i(o){s||(T(e.$$.fragment,o),s=!0)},o(o){W(e.$$.fragment,o),s=!1},d(o){Q(e,o)}}}function yl(t){let e,n,s,l,i,o,a,r;function c(g){t[3](g)}let d={width:t[1],height:t[2],backgroundColor:"#0f0f23"};return t[0]!==void 0&&(d.flock=t[0]),l=new pl({props:d}),pe.push(()=>Se(l,"flock",c)),a=new Kn({props:{position:"right",icon:"☰",$$slots:{default:[wl]},$$scope:{ctx:t}}}),{c(){e=M(),n=y("main"),s=y("div"),x(l.$$.fragment),o=M(),x(a.$$.fragment),document.title="Boids Simulation",p(s,"class","simulation-container"),p(n,"class","svelte-4by8s4")},m(g,h){E(g,e,h),E(g,n,h),m(n,s),J(l,s,null),m(s,o),J(a,s,null),r=!0},p(g,[h]){const f={};!i&&h&1&&(i=!0,f.flock=g[0],Ie(()=>i=!1)),l.$set(f);const B={};h&65&&(B.$$scope={dirty:h,ctx:g}),a.$set(B)},i(g){r||(T(l.$$.fragment,g),T(a.$$.fragment,g),r=!0)},o(g){W(l.$$.fragment,g),W(a.$$.fragment,g),r=!1},d(g){g&&(R(e),R(n)),Q(l),Q(a)}}}function Cl(t,e,n){let s;const l=window.innerWidth-200,i=window.innerHeight-100;async function o(){await ms(),n(0,s=new Qn(l,i)),s.addRandomBoids(75)}o();function a(c){s=c,n(0,s)}function r(c){s=c,n(0,s)}return[s,l,i,a,r]}class Bl extends ue{constructor(e){super(),ce(this,e,Cl,yl,ae,{})}}function Rn(t,e,n){const s=t.slice();return s[5]=e[n],s}function En(t){let e,n=t[5].label+"",s,l,i,o;function a(){return t[4](t[5])}return{c(){e=y("div"),s=se(n),l=M(),de(e,"cursor","pointer"),de(e,"padding","8px 0"),p(e,"class","svelte-wbuehb"),le(e,"selected",t[5].pageIndex===t[0])},m(r,c){E(r,e,c),m(e,s),m(e,l),i||(o=L(e,"click",a),i=!0)},p(r,c){t=r,c&4&&n!==(n=t[5].label+"")&&Fe(s,n),c&5&&le(e,"selected",t[5].pageIndex===t[0])},d(r){r&&R(e),i=!1,o()}}}function kl(t){let e,n,s,l=De(t[2]),i=[];for(let o=0;o<l.length;o+=1)i[o]=En(Rn(t,l,o));return{c(){e=y("aside"),n=y("div"),s=y("nav");for(let o=0;o<i.length;o+=1)i[o].c();p(s,"class","svelte-wbuehb"),de(n,"padding-top","50px"),p(e,"class","svelte-wbuehb"),le(e,"active",t[1])},m(o,a){E(o,e,a),m(e,n),m(n,s);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(s,null)},p(o,[a]){if(a&13){l=De(o[2]);let r;for(r=0;r<l.length;r+=1){const c=Rn(o,l,r);i[r]?i[r].p(c,a):(i[r]=En(c),i[r].c(),i[r].m(s,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=l.length}a&2&&le(e,"active",o[1])},i:ne,o:ne,d(o){o&&R(e),Tt(i,o)}}}function Al(t,e,n){let{open:s=!1}=e,{menuItems:l=[{label:"Home",pageIndex:1}]}=e,{selectedPageIndex:i=l[0].pageIndex}=e;const o=r=>{n(0,i=r);const c=new CustomEvent("select",{detail:r});dispatchEvent(c)},a=r=>o(r.pageIndex);return t.$$set=r=>{"open"in r&&n(1,s=r.open),"menuItems"in r&&n(2,l=r.menuItems),"selectedPageIndex"in r&&n(0,i=r.selectedPageIndex)},[i,s,l,o,a]}class Ml extends ue{constructor(e){super(),ce(this,e,Al,kl,ae,{open:1,menuItems:2,selectedPageIndex:0})}}function Fl(t){let e,n,s,l,i,o,a,r;return{c(){e=y("button"),n=y("span"),s=M(),l=y("span"),i=M(),o=y("span"),p(n,"class","svelte-ike4zv"),le(n,"open",t[0]),p(l,"class","svelte-ike4zv"),le(l,"open",t[0]),p(o,"class","svelte-ike4zv"),le(o,"open",t[0]),p(e,"class","hamburger svelte-ike4zv"),p(e,"aria-label","Open menu"),p(e,"aria-pressed",t[0])},m(c,d){E(c,e,d),m(e,n),m(e,s),m(e,l),m(e,i),m(e,o),a||(r=L(e,"click",t[1]),a=!0)},p(c,[d]){d&1&&le(n,"open",c[0]),d&1&&le(l,"open",c[0]),d&1&&le(o,"open",c[0]),d&1&&p(e,"aria-pressed",c[0])},i:ne,o:ne,d(c){c&&R(e),a=!1,r()}}}function Il(t,e,n){let{open:s=!1}=e;function l(i){ht.call(this,t,i)}return t.$$set=i=>{"open"in i&&n(0,s=i.open)},[s,l]}class Sl extends ue{constructor(e){super(),ce(this,e,Il,Fl,ae,{open:0})}}function Dl(t){let e,n;return e=new Bl({}),{c(){x(e.$$.fragment)},m(s,l){J(e,s,l),n=!0},i(s){n||(T(e.$$.fragment,s),n=!0)},o(s){W(e.$$.fragment,s),n=!1},d(s){Q(e,s)}}}function $l(t){let e,n;return e=new al({}),{c(){x(e.$$.fragment)},m(s,l){J(e,s,l),n=!0},i(s){n||(T(e.$$.fragment,s),n=!0)},o(s){W(e.$$.fragment,s),n=!1},d(s){Q(e,s)}}}function Pl(t){let e,n;return e=new Ai({}),{c(){x(e.$$.fragment)},m(s,l){J(e,s,l),n=!0},i(s){n||(T(e.$$.fragment,s),n=!0)},o(s){W(e.$$.fragment,s),n=!1},d(s){Q(e,s)}}}function Rl(t){let e,n,s,l,i,o,a,r,c,d,g;function h(w){t[3](w)}let f={};t[1]!==void 0&&(f.open=t[1]),n=new Sl({props:f}),pe.push(()=>Se(n,"open",h)),n.$on("click",t[4]);function B(w){t[5](w)}function C(w){t[6](w)}let b={menuItems:t[2]};t[1]!==void 0&&(b.open=t[1]),t[0]!==void 0&&(b.selectedPageIndex=t[0]),i=new Ml({props:b}),pe.push(()=>Se(i,"open",B)),pe.push(()=>Se(i,"selectedPageIndex",C));const v=[Pl,$l,Dl],N=[];function U(w,F){return w[0]===1?0:w[0]===2?1:w[0]===3?2:-1}return~(c=U(t))&&(d=N[c]=v[c](t)),{c(){e=y("div"),x(n.$$.fragment),l=M(),x(i.$$.fragment),r=M(),d&&d.c(),p(e,"class","content svelte-1kyg0ek")},m(w,F){E(w,e,F),J(n,e,null),m(e,l),J(i,e,null),m(e,r),~c&&N[c].m(e,null),g=!0},p(w,[F]){const j={};!s&&F&2&&(s=!0,j.open=w[1],Ie(()=>s=!1)),n.$set(j);const H={};!o&&F&2&&(o=!0,H.open=w[1],Ie(()=>o=!1)),!a&&F&1&&(a=!0,H.selectedPageIndex=w[0],Ie(()=>a=!1)),i.$set(H);let O=c;c=U(w),c!==O&&(d&&(qe(),W(N[O],1,1,()=>{N[O]=null}),Ge()),~c?(d=N[c],d||(d=N[c]=v[c](w),d.c()),T(d,1),d.m(e,null)):d=null)},i(w){g||(T(n.$$.fragment,w),T(i.$$.fragment,w),T(d),g=!0)},o(w){W(n.$$.fragment,w),W(i.$$.fragment,w),W(d),g=!1},d(w){w&&R(e),Q(n),Q(i),~c&&N[c].d()}}}function El(t,e,n){const s=[{label:"Wave Function Collapse",pageIndex:1},{label:"Watersort",pageIndex:2},{label:"Boids",pageIndex:3}];let l=1,i=!1;function o(d){i=d,n(1,i)}const a=()=>n(1,i=!i);function r(d){i=d,n(1,i)}function c(d){l=d,n(0,l)}return[l,i,s,o,a,r,c]}class Tl extends ue{constructor(e){super(),ce(this,e,El,Rl,ae,{})}}new Tl({target:document.getElementById("app")})});export default Ol();
