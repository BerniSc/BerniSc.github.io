var Xt=Object.defineProperty;var en=(t,e,n)=>e in t?Xt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var tn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var xe=(t,e,n)=>en(t,typeof e!="symbol"?e+"":e,n);var hr=tn((gr,Fe)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function G(){}const He=t=>t;function nn(t,e){for(const n in e)t[n]=e[n];return t}function _t(t){return t()}function at(){return Object.create(null)}function ie(t){t.forEach(_t)}function Ne(t){return typeof t=="function"}function ne(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function rn(t){return Object.keys(t).length===0}function ln(t,...e){if(t==null){for(const r of e)r(void 0);return G}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ke(t,e,n){t.$$.on_destroy.push(ln(e,n))}function bt(t,e,n,r){if(t){const l=yt(t,e,n,r);return t[0](l)}}function yt(t,e,n,r){return t[1]&&r?nn(n.ctx.slice(),t[1](r(e))):n.ctx}function wt(t,e,n,r){if(t[2]&&r){const l=t[2](r(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const i=[],s=Math.max(e.dirty.length,l.length);for(let a=0;a<s;a+=1)i[a]=e.dirty[a]|l[a];return i}return e.dirty|l}return e.dirty}function Mt(t,e,n,r,l,i){if(l){const s=yt(e,n,r,i);t.p(s,l)}}function Ct(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function on(t){return t??""}function ct(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const kt=typeof window<"u";let St=kt?()=>window.performance.now():()=>Date.now(),Ye=kt?t=>requestAnimationFrame(t):G;const ye=new Set;function Et(t){ye.forEach(e=>{e.c(t)||(ye.delete(e),e.f())}),ye.size!==0&&Ye(Et)}function $t(t){let e;return ye.size===0&&Ye(Et),{promise:new Promise(n=>{ye.add(e={c:t,f:n})}),abort(){ye.delete(e)}}}function N(t,e){t.appendChild(e)}function Ft(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function sn(t){const e=T("style");return e.textContent="/* empty */",an(Ft(t),e),e.sheet}function an(t,e){return N(t.head||t,e),e.sheet}function O(t,e,n){t.insertBefore(e,n||null)}function I(t){t.parentNode&&t.parentNode.removeChild(t)}function T(t){return document.createElement(t)}function Ee(t){return document.createTextNode(t)}function U(){return Ee(" ")}function cn(){return Ee("")}function H(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function un(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function P(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function fn(t){return t===""?null:+t}function dn(t){return Array.from(t.childNodes)}function We(t,e){e=""+e,t.data!==e&&(t.data=e)}function ut(t,e){t.value=e??""}function le(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function ce(t,e,n){t.classList.toggle(e,!!n)}function Pt(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}const Te=new Map;let Ie=0;function hn(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function mn(t,e){const n={stylesheet:sn(e),rules:{}};return Te.set(t,n),n}function Tt(t,e,n,r,l,i,s,a=0){const d=16.666/r;let u=`{
`;for(let _=0;_<=1;_+=d){const p=e+(n-e)*i(_);u+=_*100+`%{${s(p,1-p)}}
`}const m=u+`100% {${s(n,1-n)}}
}`,g=`__svelte_${hn(m)}_${a}`,h=Ft(t),{stylesheet:f,rules:b}=Te.get(h)||mn(h,t);b[g]||(b[g]=!0,f.insertRule(`@keyframes ${g} ${m}`,f.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${g} ${r}ms linear ${l}ms 1 both`,Ie+=1,g}function Ve(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),l=n.length-r.length;l&&(t.style.animation=r.join(", "),Ie-=l,Ie||gn())}function gn(){Ye(()=>{Ie||(Te.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&I(e)}),Te.clear())})}let $e;function Se(t){$e=t}function Je(){if(!$e)throw new Error("Function called outside component initialization");return $e}function pn(t){Je().$$.on_mount.push(t)}function vn(t){Je().$$.on_destroy.push(t)}function It(){const t=Je();return(e,n,{cancelable:r=!1}={})=>{const l=t.$$.callbacks[e];if(l){const i=Pt(e,n,{cancelable:r});return l.slice().forEach(s=>{s.call(t,i)}),!i.defaultPrevented}return!0}}function Ue(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const _e=[],he=[];let we=[];const Ge=[],_n=Promise.resolve();let qe=!1;function bn(){qe||(qe=!0,_n.then(be))}function me(t){we.push(t)}function Qe(t){Ge.push(t)}const Be=new Set;let pe=0;function be(){if(pe!==0)return;const t=$e;do{try{for(;pe<_e.length;){const e=_e[pe];pe++,Se(e),yn(e.$$)}}catch(e){throw _e.length=0,pe=0,e}for(Se(null),_e.length=0,pe=0;he.length;)he.pop()();for(let e=0;e<we.length;e+=1){const n=we[e];Be.has(n)||(Be.add(n),n())}we.length=0}while(_e.length);for(;Ge.length;)Ge.pop()();qe=!1,Be.clear(),Se(t)}function yn(t){if(t.fragment!==null){t.update(),ie(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(me)}}function wn(t){const e=[],n=[];we.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),we=e}let Ce;function Ot(){return Ce||(Ce=Promise.resolve(),Ce.then(()=>{Ce=null})),Ce}function Oe(t,e,n){t.dispatchEvent(Pt(`${e?"intro":"outro"}${n}`))}const Pe=new Set;let fe;function Xe(){fe={r:0,c:[],p:fe}}function et(){fe.r||ie(fe.c),fe=fe.p}function D(t,e){t&&t.i&&(Pe.delete(t),t.i(e))}function W(t,e,n,r){if(t&&t.o){if(Pe.has(t))return;Pe.add(t),fe.c.push(()=>{Pe.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const Lt={duration:0};function At(t,e,n){const r={direction:"in"};let l=e(t,n,r),i=!1,s,a,d=0;function u(){s&&Ve(t,s)}function m(){const{delay:h=0,duration:f=300,easing:b=He,tick:v=G,css:_}=l||Lt;_&&(s=Tt(t,0,1,f,h,b,_,d++)),v(0,1);const p=St()+h,k=p+f;a&&a.abort(),i=!0,me(()=>Oe(t,!0,"start")),a=$t(B=>{if(i){if(B>=k)return v(1,0),Oe(t,!0,"end"),u(),i=!1;if(B>=p){const j=b((B-p)/f);v(j,1-j)}}return i})}let g=!1;return{start(){g||(g=!0,Ve(t),Ne(l)?(l=l(r),Ot().then(m)):m())},invalidate(){g=!1},end(){i&&(u(),i=!1)}}}function Mn(t,e,n){const r={direction:"out"};let l=e(t,n,r),i=!0,s;const a=fe;a.r+=1;let d;function u(){const{delay:m=0,duration:g=300,easing:h=He,tick:f=G,css:b}=l||Lt;b&&(s=Tt(t,1,0,g,m,h,b));const v=St()+m,_=v+g;me(()=>Oe(t,!1,"start")),"inert"in t&&(d=t.inert,t.inert=!0),$t(p=>{if(i){if(p>=_)return f(0,1),Oe(t,!1,"end"),--a.r||ie(a.c),!1;if(p>=v){const k=h((p-v)/g);f(1-k,k)}}return i})}return Ne(l)?Ot().then(()=>{l=l(r),u()}):u(),{end(m){m&&"inert"in t&&(t.inert=d),m&&l.tick&&l.tick(1,0),i&&(s&&Ve(t,s),i=!1)}}}function Le(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Nt(t,e){W(t,1,1,()=>{e.delete(t.key)})}function jt(t,e,n,r,l,i,s,a,d,u,m,g){let h=t.length,f=i.length,b=h;const v={};for(;b--;)v[t[b].key]=b;const _=[],p=new Map,k=new Map,B=[];for(b=f;b--;){const z=g(l,i,b),K=n(z);let Y=s.get(K);Y?B.push(()=>Y.p(z,e)):(Y=u(K,z),Y.c()),p.set(K,_[b]=Y),K in v&&k.set(K,Math.abs(b-v[K]))}const j=new Set,q=new Set;function Me(z){D(z,1),z.m(a,m),s.set(z.key,z),m=z.first,f--}for(;h&&f;){const z=_[f-1],K=t[h-1],Y=z.key,ge=K.key;z===K?(m=z.first,h--,f--):p.has(ge)?!s.has(Y)||j.has(Y)?Me(z):q.has(ge)?h--:k.get(Y)>k.get(ge)?(q.add(Y),Me(z)):(j.add(ge),h--):(d(K,s),h--)}for(;h--;){const z=t[h];p.has(z.key)||d(z,s)}for(;f;)Me(_[f-1]);return ie(B),_}function tt(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function te(t){t&&t.c()}function J(t,e,n){const{fragment:r,after_update:l}=t.$$;r&&r.m(e,n),me(()=>{const i=t.$$.on_mount.map(_t).filter(Ne);t.$$.on_destroy?t.$$.on_destroy.push(...i):ie(i),t.$$.on_mount=[]}),l.forEach(me)}function Q(t,e){const n=t.$$;n.fragment!==null&&(wn(n.after_update),ie(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Cn(t,e){t.$$.dirty[0]===-1&&(_e.push(t),bn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function oe(t,e,n,r,l,i,s=null,a=[-1]){const d=$e;Se(t);const u=t.$$={fragment:null,ctx:[],props:i,update:G,not_equal:l,bound:at(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:at(),dirty:a,skip_bound:!1,root:e.target||d.$$.root};s&&s(u.root);let m=!1;if(u.ctx=n?n(t,e.props||{},(g,h,...f)=>{const b=f.length?f[0]:h;return u.ctx&&l(u.ctx[g],u.ctx[g]=b)&&(!u.skip_bound&&u.bound[g]&&u.bound[g](b),m&&Cn(t,g)),h}):[],u.update(),m=!0,ie(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const g=dn(e.target);u.fragment&&u.fragment.l(g),g.forEach(I)}else u.fragment&&u.fragment.c();e.intro&&D(t.$$.fragment),J(t,e.target,e.anchor),be()}Se(d)}class se{constructor(){xe(this,"$$");xe(this,"$$set")}$destroy(){Q(this,1),this.$destroy=G}$on(e,n){if(!Ne(n))return G;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!rn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const kn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(kn);function Rt(t){const e=t-1;return e*e*e+1}function Sn(t,{delay:e=0,duration:n=400,easing:r=He}={}){const l=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:i=>`opacity: ${i*l}`}}function En(t,{delay:e=0,duration:n=400,easing:r=Rt,x:l=0,y:i=0,opacity:s=0}={}){const a=getComputedStyle(t),d=+a.opacity,u=a.transform==="none"?"":a.transform,m=d*(1-s),[g,h]=ct(l),[f,b]=ct(i);return{delay:e,duration:n,easing:r,css:(v,_)=>`
			transform: ${u} translate(${(1-v)*g}${h}, ${(1-v)*f}${b});
			opacity: ${d-m*_}`}}function $n(t,{delay:e=0,duration:n=400,easing:r=Rt,axis:l="y"}={}){const i=getComputedStyle(t),s=+i.opacity,a=l==="y"?"height":"width",d=parseFloat(i[a]),u=l==="y"?["top","bottom"]:["left","right"],m=u.map(p=>`${p[0].toUpperCase()}${p.slice(1)}`),g=parseFloat(i[`padding${m[0]}`]),h=parseFloat(i[`padding${m[1]}`]),f=parseFloat(i[`margin${m[0]}`]),b=parseFloat(i[`margin${m[1]}`]),v=parseFloat(i[`border${m[0]}Width`]),_=parseFloat(i[`border${m[1]}Width`]);return{delay:e,duration:n,easing:r,css:p=>`overflow: hidden;opacity: ${Math.min(p*20,1)*s};${a}: ${p*d}px;padding-${u[0]}: ${p*g}px;padding-${u[1]}: ${p*h}px;margin-${u[0]}: ${p*f}px;margin-${u[1]}: ${p*b}px;border-${u[0]}-width: ${p*v}px;border-${u[1]}-width: ${p*_}px;`}}function Fn(t){let e,n;return{c(){e=T("div"),P(e,"class","water-level svelte-akekp6"),le(e,"background-color",t[0])},m(r,l){O(r,e,l)},p(r,[l]){l&1&&le(e,"background-color",r[0])},i(r){r&&(n||me(()=>{n=At(e,$n,{duration:1e3}),n.start()}))},o:G,d(r){r&&I(e)}}}function Pn(t,e,n){let{color:r}=e;return t.$$set=l=>{"color"in l&&n(0,r=l.color)},[r]}class Tn extends se{constructor(e){super(),oe(this,e,Pn,Fn,ne,{color:0})}}function ft(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function dt(t,e){let n,r,l;return r=new Tn({props:{color:e[10].color}}),{key:t,first:null,c(){n=cn(),te(r.$$.fragment),this.first=n},m(i,s){O(i,n,s),J(r,i,s),l=!0},p(i,s){e=i;const a={};s&1&&(a.color=e[10].color),r.$set(a)},i(i){l||(D(r.$$.fragment,i),l=!0)},o(i){W(r.$$.fragment,i),l=!1},d(i){i&&I(n),Q(r,i)}}}function In(t){let e,n=[],r=new Map,l,i,s,a,d,u,m=Le(t[0].levels);const g=h=>h[12];for(let h=0;h<m.length;h+=1){let f=ft(t,m,h),b=g(f);r.set(b,n[h]=dt(b,f))}return{c(){e=T("button");for(let h=0;h<n.length;h+=1)n[h].c();l=U(),i=T("div"),P(i,"class","empty-space svelte-1po1ue6"),P(e,"class",s="bottle "+t[5]+" "+(t[2]?"pouring":"")+" svelte-1po1ue6"),le(e,"height",t[3]+"px"),le(e,"width",t[4]+"px"),ce(e,"selected",t[1])},m(h,f){O(h,e,f);for(let b=0;b<n.length;b+=1)n[b]&&n[b].m(e,null);N(e,l),N(e,i),a=!0,d||(u=H(e,"click",t[6]),d=!0)},p(h,[f]){f&1&&(m=Le(h[0].levels),Xe(),n=jt(n,f,g,1,h,m,r,e,Nt,dt,l,ft),et()),(!a||f&36&&s!==(s="bottle "+h[5]+" "+(h[2]?"pouring":"")+" svelte-1po1ue6"))&&P(e,"class",s),(!a||f&8)&&le(e,"height",h[3]+"px"),(!a||f&16)&&le(e,"width",h[4]+"px"),(!a||f&38)&&ce(e,"selected",h[1])},i(h){if(!a){for(let f=0;f<m.length;f+=1)D(n[f]);a=!0}},o(h){for(let f=0;f<n.length;f+=1)W(n[f]);a=!1},d(h){h&&I(e);for(let f=0;f<n.length;f+=1)n[f].d();d=!1,u()}}}function On(t,e,n){const r=It();let{bottle:l}=e,{selected:i=!1}=e,{pouring:s=!1}=e,{id:a}=e,{height:d=200}=e,{width:u=50}=e,{bottleFinished:m}=e;function g(){console.log(`Bottle ${a} was clicked`,l),r("click")}let{class:h=""}=e;return t.$$set=f=>{"bottle"in f&&n(0,l=f.bottle),"selected"in f&&n(1,i=f.selected),"pouring"in f&&n(2,s=f.pouring),"id"in f&&n(8,a=f.id),"height"in f&&n(3,d=f.height),"width"in f&&n(4,u=f.width),"bottleFinished"in f&&n(7,m=f.bottleFinished),"class"in f&&n(5,h=f.class)},t.$$.update=()=>{t.$$.dirty&1&&n(7,m=l.levels.length===0||l.levels.length===5&&l.levels.every(f=>f.color===l.levels[0].color))},[l,i,s,d,u,h,g,m,a]}class Ln extends se{constructor(e){super(),oe(this,e,On,In,ne,{bottle:0,selected:1,pouring:2,id:8,height:3,width:4,bottleFinished:7,class:5})}}const ve=[];function An(t,e=G){let n;const r=new Set;function l(a){if(ne(t,a)&&(t=a,n)){const d=!ve.length;for(const u of r)u[1](),ve.push(u,t);if(d){for(let u=0;u<ve.length;u+=2)ve[u][0](ve[u+1]);ve.length=0}}}function i(a){l(a(t))}function s(a,d=G){const u=[a,d];return r.add(u),r.size===1&&(n=e(l,i)||G),a(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:l,update:i,subscribe:s}}const Ae=An(8);function ht(t,e,n){const r=t.slice();return r[11]=e[n],r[12]=e,r[13]=n,r}function mt(t,e){let n,r,l,i,s;function a(m){e[6](m,e[13])}function d(){return e[7](e[13])}let u={bottle:e[11],id:e[13],selected:e[13]===e[1],pouring:e[13]===e[3]};return e[2][e[13]]!==void 0&&(u.bottleFinished=e[2][e[13]]),r=new Ln({props:u}),he.push(()=>tt(r,"bottleFinished",a)),r.$on("click",d),{key:t,first:null,c(){n=T("div"),te(r.$$.fragment),i=U(),P(n,"class",on("bottle")+" svelte-1ec6et"),this.first=n},m(m,g){O(m,n,g),J(r,n,null),N(n,i),s=!0},p(m,g){e=m;const h={};g&1&&(h.bottle=e[11]),g&1&&(h.id=e[13]),g&3&&(h.selected=e[13]===e[1]),g&9&&(h.pouring=e[13]===e[3]),!l&&g&5&&(l=!0,h.bottleFinished=e[2][e[13]],Qe(()=>l=!1)),r.$set(h)},i(m){s||(D(r.$$.fragment,m),s=!0)},o(m){W(r.$$.fragment,m),s=!1},d(m){m&&I(n),Q(r)}}}function Nn(t){let e,n=[],r=new Map,l,i=Le(t[0].bottles);const s=a=>a[13];for(let a=0;a<i.length;a+=1){let d=ht(t,i,a),u=s(d);r.set(u,n[a]=mt(u,d))}return{c(){e=T("div");for(let a=0;a<n.length;a+=1)n[a].c();P(e,"class","game-board")},m(a,d){O(a,e,d);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);l=!0},p(a,[d]){d&31&&(i=Le(a[0].bottles),Xe(),n=jt(n,d,s,1,a,i,r,e,Nt,mt,null,ht),et())},i(a){if(!l){for(let d=0;d<i.length;d+=1)D(n[d]);l=!0}},o(a){for(let d=0;d<n.length;d+=1)W(n[d]);l=!1},d(a){a&&I(e);for(let d=0;d<n.length;d+=1)n[d].d()}}}const jn=5;function Rn(t,e,n){let r;Ke(t,Ae,f=>n(5,r=f));const l=It();let{gameState:i}=e,s=null,a=null,d;function u(f){if(s===null)n(1,s=f);else{if(!m(s,f)){n(1,s=null);return}n(3,a=s),setTimeout(()=>{n(3,a=null)},300),n(1,s=null)}}function m(f,b){const v=i.bottles[f],_=i.bottles[b],p=v.levels.length>0?v.levels[v.levels.length-1].color:null,k=_.levels.length>0?_.levels[_.levels.length-1].color:null;if(p&&(k===p||_.levels.length===0)){const B=jn-_.levels.length;let j=0;for(let q=v.levels.length-1;q>=0&&v.levels[q].color===p;q--)j++;if(j=Math.min(j,B),j===0)return!1;if(j>0){const q=v.levels.splice(v.levels.length-j,j);return _.levels=_.levels.concat(q),n(0,i={...i}),!0}}}function g(f,b){t.$$.not_equal(d[b],f)&&(d[b]=f,n(2,d),n(5,r))}const h=f=>u(f);return t.$$set=f=>{"gameState"in f&&n(0,i=f.gameState)},t.$$.update=()=>{t.$$.dirty&32&&n(2,d=Array(r).fill(!1)),t.$$.dirty&36&&(console.log("Finished Bottles",d),d.filter(f=>f).length===r&&(console.log("All Bottles are finished, Dispatching so"),l("winCurrentBoard"))),t.$$.dirty&2&&console.log("I selected Bottle ",s)},[i,s,d,a,u,r,g,h]}class xn extends se{constructor(e){super(),oe(this,e,Rn,Nn,ne,{gameState:0})}}function gt(t){let e,n,r,l,i;return{c(){e=T("div"),n=Ee(t[0]),P(e,"class","range__tooltip svelte-1w1z3ym")},m(s,a){O(s,e,a),N(e,n),i=!0},p(s,a){(!i||a&1)&&We(n,s[0])},i(s){i||(s&&me(()=>{i&&(l&&l.end(1),r=At(e,En,{y:7,duration:200}),r.start())}),i=!0)},o(s){r&&r.invalidate(),s&&(l=Mn(e,Sn,{duration:100})),i=!1},d(s){s&&I(e),s&&l&&l.end()}}}function Bn(t){let e,n,r,l,i,s,a,d,u,m,g,h,f,b=(t[6]||t[5])&&gt(t);return{c(){e=T("div"),n=T("div"),r=T("span"),l=Ee(t[1]),i=U(),s=T("input"),a=U(),d=T("span"),u=Ee(t[2]),m=U(),b&&b.c(),P(r,"class","range__label svelte-1w1z3ym"),ce(r,"invisible",t[3]),P(s,"type","range"),P(s,"class","range__style svelte-1w1z3ym"),P(s,"min",t[1]),P(s,"max",t[2]),ce(s,"range__thumb--holding",t[6]),P(d,"class","range__label svelte-1w1z3ym"),ce(d,"invisible",t[3]),le(n,"display","flex"),le(n,"width","100%"),le(n,"align-items","center"),le(n,"gap","5px"),P(e,"class",g="range__wrapper "+t[4]+" svelte-1w1z3ym")},m(v,_){O(v,e,_),N(e,n),N(n,r),N(r,l),N(n,i),N(n,s),ut(s,t[0]),N(n,a),N(n,d),N(d,u),N(e,m),b&&b.m(e,null),h||(f=[H(s,"mouseover",t[9]),H(s,"mouseout",t[10]),H(s,"focus",t[7]),H(s,"blur",t[8]),H(s,"change",t[11]),H(s,"input",t[11])],h=!0)},p(v,[_]){_&2&&We(l,v[1]),_&8&&ce(r,"invisible",v[3]),_&2&&P(s,"min",v[1]),_&4&&P(s,"max",v[2]),_&1&&ut(s,v[0]),_&4&&We(u,v[2]),_&8&&ce(d,"invisible",v[3]),v[6]||v[5]?b?(b.p(v,_),_&32&&D(b,1)):(b=gt(v),b.c(),D(b,1),b.m(e,null)):b&&(Xe(),W(b,1,1,()=>{b=null}),et()),_&16&&g!==(g="range__wrapper "+v[4]+" svelte-1w1z3ym")&&P(e,"class",g)},i(v){D(b)},o(v){W(b)},d(v){v&&I(e),b&&b.d(),h=!1,ie(f)}}}function zn(t,e,n){let r,l,{min:i=0}=e,{max:s=100}=e,{value:a=(s-i)/2}=e,{hideMinMax:d=!0}=e,{class:u=""}=e;function m(v){Ue.call(this,t,v)}function g(v){Ue.call(this,t,v)}const h=()=>n(5,l=!0),f=()=>n(5,l=!1);function b(){a=fn(this.value),n(0,a)}return t.$$set=v=>{"min"in v&&n(1,i=v.min),"max"in v&&n(2,s=v.max),"value"in v&&n(0,a=v.value),"hideMinMax"in v&&n(3,d=v.hideMinMax),"class"in v&&n(4,u=v.class)},[a,i,s,d,u,l,r,m,g,h,f,b]}class Dn extends se{constructor(e){super(),oe(this,e,zn,Bn,ne,{min:1,max:2,value:0,hideMinMax:3,class:4})}}function Wn(t){let e,n,r,l,i,s,a,d,u,m;function g(f){t[1](f)}let h={min:3,max:12,hideMinMax:!1,class:"list-item-value"};return t[0]!==void 0&&(h.value=t[0]),d=new Dn({props:h}),he.push(()=>tt(d,"value",g)),{c(){e=T("div"),n=T("h1"),n.textContent="Settings",r=U(),l=T("div"),i=T("div"),s=T("span"),s.textContent="Number of Bottles:",a=U(),te(d.$$.fragment),P(s,"class","list-item-lbl svelte-11vjm1p"),P(i,"class","list-item svelte-11vjm1p"),P(l,"class","list svelte-11vjm1p"),P(e,"class","settings-container svelte-11vjm1p")},m(f,b){O(f,e,b),N(e,n),N(e,r),N(e,l),N(l,i),N(i,s),N(i,a),J(d,i,null),m=!0},p(f,[b]){const v={};!u&&b&1&&(u=!0,v.value=f[0],Qe(()=>u=!1)),d.$set(v)},i(f){m||(D(d.$$.fragment,f),m=!0)},o(f){W(d.$$.fragment,f),m=!1},d(f){f&&I(e),Q(d)}}}function Vn(t,e,n){let r;Ke(t,Ae,i=>n(0,r=i));function l(i){r=i,Ae.set(r)}return[r,l]}class Un extends se{constructor(e){super(),oe(this,e,Vn,Wn,ne,{})}}function Gn(t){let e,n,r,l,i,s,a,d;const u=t[6].default,m=bt(u,t,t[5],null);return{c(){e=T("div"),n=T("div"),r=T("button"),l=U(),i=T("div"),m&&m.c(),P(r,"id","close"),P(r,"class","close svelte-1j5vmfm"),P(i,"id","modal-content"),P(i,"class","svelte-1j5vmfm"),P(n,"id","modal"),P(n,"class","svelte-1j5vmfm"),P(e,"id","topModal"),P(e,"class","window-wrap svelte-1j5vmfm"),P(e,"role","dialog"),P(e,"aria-modal","true"),ce(e,"visible",t[1])},m(g,h){O(g,e,h),N(e,n),N(n,r),N(n,l),N(n,i),m&&m.m(i,null),t[8](e),s=!0,a||(d=[H(r,"click",t[7]),H(n,"click",un(qn)),H(e,"click",t[9])],a=!0)},p(g,[h]){m&&m.p&&(!s||h&32)&&Mt(m,u,g,g[5],s?wt(u,g[5],h,null):Ct(g[5]),null),(!s||h&2)&&ce(e,"visible",g[1])},i(g){s||(D(m,g),s=!0)},o(g){W(m,g),s=!1},d(g){g&&I(e),m&&m.d(g),t[8](null),a=!1,ie(d)}}}let ke;const Ze={};function pt(t=""){return Ze[t]}const qn=()=>{};function Zn(t,e,n){let{$$slots:r={},$$scope:l}=e,i,s=!1,a,d,{closeOnEscape:u=!0}=e,{id:m=""}=e;function g(p){p.key=="Escape"&&u&&ke==i&&f()}function h(p){d=p,!s&&(a=ke,ke=i,window.addEventListener("keydown",g),document.body.style.overflow="hidden",n(1,s=!0),document.body.appendChild(i))}function f(p){s&&(window.removeEventListener("keydown",g),ke=a,ke==null&&(document.body.style.overflow=""),n(1,s=!1),d&&d(p))}Ze[m]={show:h,close:f},vn(()=>{delete Ze[m],window.removeEventListener("keydown",g)});const b=()=>f();function v(p){he[p?"unshift":"push"](()=>{i=p,n(0,i)})}const _=()=>f();return t.$$set=p=>{"closeOnEscape"in p&&n(3,u=p.closeOnEscape),"id"in p&&n(4,m=p.id),"$$scope"in p&&n(5,l=p.$$scope)},[i,s,f,u,m,l,r,b,v,_]}class ze extends se{constructor(e){super(),oe(this,e,Zn,Gn,ne,{closeOnEscape:3,id:4})}}function Hn(t){let e,n;return e=new Un({}),{c(){te(e.$$.fragment)},m(r,l){J(e,r,l),n=!0},i(r){n||(D(e.$$.fragment,r),n=!0)},o(r){W(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function Kn(t){let e,n,r,l,i,s,a;return{c(){e=T("h1"),e.textContent="Play the Watersort Game here",n=U(),r=T("p"),r.textContent="🎉Für nur 7475€🎉",l=U(),i=T("button"),i.textContent="Long live the nested Modals"},m(d,u){O(d,e,u),O(d,n,u),O(d,r,u),O(d,l,u),O(d,i,u),s||(a=H(i,"click",t[3]),s=!0)},p:G,d(d){d&&(I(e),I(n),I(r),I(l),I(i)),s=!1,a()}}}function Yn(t){let e,n,r;return{c(){e=T("h2"),e.textContent="Second One",n=U(),r=T("p"),r.textContent="Yeah"},m(l,i){O(l,e,i),O(l,n,i),O(l,r,i)},p:G,d(l){l&&(I(e),I(n),I(r))}}}function Jn(t){let e,n,r,l,i,s,a,d,u,m,g,h,f,b;const v=t[0].default,_=bt(v,t,t[4],null);return a=new ze({props:{id:"settings",$$slots:{default:[Hn]},$$scope:{ctx:t}}}),u=new ze({props:{$$slots:{default:[Kn]},$$scope:{ctx:t}}}),g=new ze({props:{id:"two",$$slots:{default:[Yn]},$$scope:{ctx:t}}}),{c(){e=T("div"),_&&_.c(),n=U(),r=T("button"),r.textContent="Restart",l=U(),i=T("button"),i.textContent="Settings",s=U(),te(a.$$.fragment),d=U(),te(u.$$.fragment),m=U(),te(g.$$.fragment),P(e,"class","card")},m(p,k){O(p,e,k),_&&_.m(e,null),O(p,n,k),O(p,r,k),O(p,l,k),O(p,i,k),O(p,s,k),J(a,p,k),O(p,d,k),J(u,p,k),O(p,m,k),J(g,p,k),h=!0,f||(b=[H(r,"click",t[1]),H(i,"click",t[2])],f=!0)},p(p,[k]){_&&_.p&&(!h||k&16)&&Mt(_,v,p,p[4],h?wt(v,p[4],k,null):Ct(p[4]),null);const B={};k&16&&(B.$$scope={dirty:k,ctx:p}),a.$set(B);const j={};k&16&&(j.$$scope={dirty:k,ctx:p}),u.$set(j);const q={};k&16&&(q.$$scope={dirty:k,ctx:p}),g.$set(q)},i(p){h||(D(_,p),D(a.$$.fragment,p),D(u.$$.fragment,p),D(g.$$.fragment,p),h=!0)},o(p){W(_,p),W(a.$$.fragment,p),W(u.$$.fragment,p),W(g.$$.fragment,p),h=!1},d(p){p&&(I(e),I(n),I(r),I(l),I(i),I(s),I(d),I(m)),_&&_.d(p),Q(a,p),Q(u,p),Q(g,p),f=!1,ie(b)}}}function Qn(t,e,n){let{$$slots:r={},$$scope:l}=e;function i(d){Ue.call(this,t,d)}const s=()=>pt("settings").show(),a=()=>pt("two").show();return t.$$set=d=>{"$$scope"in d&&n(4,l=d.$$scope)},[r,i,s,a,l]}class Xn extends se{constructor(e){super(),oe(this,e,Qn,Jn,ne,{})}}var Fe={};(function t(e,n,r,l){var i=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),s=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!e.OffscreenCanvas)return!1;var c=new OffscreenCanvas(1,1),o=c.getContext("2d");o.fillRect(0,0,1,1);var y=c.transferToImageBitmap();try{o.createPattern(y,"no-repeat")}catch{return!1}return!0}();function d(){}function u(c){var o=n.exports.Promise,y=o!==void 0?o:e.Promise;return typeof y=="function"?new y(c):(c(d,d),null)}var m=function(c,o){return{transform:function(y){if(c)return y;if(o.has(y))return o.get(y);var M=new OffscreenCanvas(y.width,y.height),C=M.getContext("2d");return C.drawImage(y,0,0),o.set(y,M),M},clear:function(){o.clear()}}}(a,new Map),g=function(){var c=Math.floor(16.666666666666668),o,y,M={},C=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(o=function(S){var E=Math.random();return M[E]=requestAnimationFrame(function w($){C===$||C+c-1<$?(C=$,delete M[E],S()):M[E]=requestAnimationFrame(w)}),E},y=function(S){M[S]&&cancelAnimationFrame(M[S])}):(o=function(S){return setTimeout(S,c)},y=function(S){return clearTimeout(S)}),{frame:o,cancel:y}}(),h=function(){var c,o,y={};function M(C){function S(E,w){C.postMessage({options:E||{},callback:w})}C.init=function(w){var $=w.transferControlToOffscreen();C.postMessage({canvas:$},[$])},C.fire=function(w,$,L){if(o)return S(w,null),o;var R=Math.random().toString(36).slice(2);return o=u(function(A){function x(V){V.data.callback===R&&(delete y[R],C.removeEventListener("message",x),o=null,m.clear(),L(),A())}C.addEventListener("message",x),S(w,R),y[R]=x.bind(null,{data:{callback:R}})}),o},C.reset=function(){C.postMessage({reset:!0});for(var w in y)y[w](),delete y[w]}}return function(){if(c)return c;if(!r&&i){var C=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{c=new Worker(URL.createObjectURL(new Blob([C])))}catch(S){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",S),null}M(c)}return c}}(),f={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function b(c,o){return o?o(c):c}function v(c){return c!=null}function _(c,o,y){return b(c&&v(c[o])?c[o]:f[o],y)}function p(c){return c<0?0:Math.floor(c)}function k(c,o){return Math.floor(Math.random()*(o-c))+c}function B(c){return parseInt(c,16)}function j(c){return c.map(q)}function q(c){var o=String(c).replace(/[^0-9a-f]/gi,"");return o.length<6&&(o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2]),{r:B(o.substring(0,2)),g:B(o.substring(2,4)),b:B(o.substring(4,6))}}function Me(c){var o=_(c,"origin",Object);return o.x=_(o,"x",Number),o.y=_(o,"y",Number),o}function z(c){c.width=document.documentElement.clientWidth,c.height=document.documentElement.clientHeight}function K(c){var o=c.getBoundingClientRect();c.width=o.width,c.height=o.height}function Y(c){var o=document.createElement("canvas");return o.style.position="fixed",o.style.top="0px",o.style.left="0px",o.style.pointerEvents="none",o.style.zIndex=c,o}function ge(c,o,y,M,C,S,E,w,$){c.save(),c.translate(o,y),c.rotate(S),c.scale(M,C),c.arc(0,0,1,E,w,$),c.restore()}function Bt(c){var o=c.angle*(Math.PI/180),y=c.spread*(Math.PI/180);return{x:c.x,y:c.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:c.startVelocity*.5+Math.random()*c.startVelocity,angle2D:-o+(.5*y-Math.random()*y),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:c.color,shape:c.shape,tick:0,totalTicks:c.ticks,decay:c.decay,drift:c.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:c.gravity*3,ovalScalar:.6,scalar:c.scalar,flat:c.flat}}function zt(c,o){o.x+=Math.cos(o.angle2D)*o.velocity+o.drift,o.y+=Math.sin(o.angle2D)*o.velocity+o.gravity,o.velocity*=o.decay,o.flat?(o.wobble=0,o.wobbleX=o.x+10*o.scalar,o.wobbleY=o.y+10*o.scalar,o.tiltSin=0,o.tiltCos=0,o.random=1):(o.wobble+=o.wobbleSpeed,o.wobbleX=o.x+10*o.scalar*Math.cos(o.wobble),o.wobbleY=o.y+10*o.scalar*Math.sin(o.wobble),o.tiltAngle+=.1,o.tiltSin=Math.sin(o.tiltAngle),o.tiltCos=Math.cos(o.tiltAngle),o.random=Math.random()+2);var y=o.tick++/o.totalTicks,M=o.x+o.random*o.tiltCos,C=o.y+o.random*o.tiltSin,S=o.wobbleX+o.random*o.tiltCos,E=o.wobbleY+o.random*o.tiltSin;if(c.fillStyle="rgba("+o.color.r+", "+o.color.g+", "+o.color.b+", "+(1-y)+")",c.beginPath(),s&&o.shape.type==="path"&&typeof o.shape.path=="string"&&Array.isArray(o.shape.matrix))c.fill(Wt(o.shape.path,o.shape.matrix,o.x,o.y,Math.abs(S-M)*.1,Math.abs(E-C)*.1,Math.PI/10*o.wobble));else if(o.shape.type==="bitmap"){var w=Math.PI/10*o.wobble,$=Math.abs(S-M)*.1,L=Math.abs(E-C)*.1,R=o.shape.bitmap.width*o.scalar,A=o.shape.bitmap.height*o.scalar,x=new DOMMatrix([Math.cos(w)*$,Math.sin(w)*$,-Math.sin(w)*L,Math.cos(w)*L,o.x,o.y]);x.multiplySelf(new DOMMatrix(o.shape.matrix));var V=c.createPattern(m.transform(o.shape.bitmap),"no-repeat");V.setTransform(x),c.globalAlpha=1-y,c.fillStyle=V,c.fillRect(o.x-R/2,o.y-A/2,R,A),c.globalAlpha=1}else if(o.shape==="circle")c.ellipse?c.ellipse(o.x,o.y,Math.abs(S-M)*o.ovalScalar,Math.abs(E-C)*o.ovalScalar,Math.PI/10*o.wobble,0,2*Math.PI):ge(c,o.x,o.y,Math.abs(S-M)*o.ovalScalar,Math.abs(E-C)*o.ovalScalar,Math.PI/10*o.wobble,0,2*Math.PI);else if(o.shape==="star")for(var F=Math.PI/2*3,Z=4*o.scalar,X=8*o.scalar,ee=o.x,ae=o.y,de=5,re=Math.PI/de;de--;)ee=o.x+Math.cos(F)*X,ae=o.y+Math.sin(F)*X,c.lineTo(ee,ae),F+=re,ee=o.x+Math.cos(F)*Z,ae=o.y+Math.sin(F)*Z,c.lineTo(ee,ae),F+=re;else c.moveTo(Math.floor(o.x),Math.floor(o.y)),c.lineTo(Math.floor(o.wobbleX),Math.floor(C)),c.lineTo(Math.floor(S),Math.floor(E)),c.lineTo(Math.floor(M),Math.floor(o.wobbleY));return c.closePath(),c.fill(),o.tick<o.totalTicks}function Dt(c,o,y,M,C){var S=o.slice(),E=c.getContext("2d"),w,$,L=u(function(R){function A(){w=$=null,E.clearRect(0,0,M.width,M.height),m.clear(),C(),R()}function x(){r&&!(M.width===l.width&&M.height===l.height)&&(M.width=c.width=l.width,M.height=c.height=l.height),!M.width&&!M.height&&(y(c),M.width=c.width,M.height=c.height),E.clearRect(0,0,M.width,M.height),S=S.filter(function(V){return zt(E,V)}),S.length?w=g.frame(x):A()}w=g.frame(x),$=A});return{addFettis:function(R){return S=S.concat(R),L},canvas:c,promise:L,reset:function(){w&&g.cancel(w),$&&$()}}}function nt(c,o){var y=!c,M=!!_(o||{},"resize"),C=!1,S=_(o,"disableForReducedMotion",Boolean),E=i&&!!_(o||{},"useWorker"),w=E?h():null,$=y?z:K,L=c&&w?!!c.__confetti_initialized:!1,R=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,A;function x(F,Z,X){for(var ee=_(F,"particleCount",p),ae=_(F,"angle",Number),de=_(F,"spread",Number),re=_(F,"startVelocity",Number),Gt=_(F,"decay",Number),qt=_(F,"gravity",Number),Zt=_(F,"drift",Number),lt=_(F,"colors",j),Ht=_(F,"ticks",Number),it=_(F,"shapes"),Kt=_(F,"scalar"),Yt=!!_(F,"flat"),ot=Me(F),st=ee,Re=[],Jt=c.width*ot.x,Qt=c.height*ot.y;st--;)Re.push(Bt({x:Jt,y:Qt,angle:ae,spread:de,startVelocity:re,color:lt[st%lt.length],shape:it[k(0,it.length)],ticks:Ht,decay:Gt,gravity:qt,drift:Zt,scalar:Kt,flat:Yt}));return A?A.addFettis(Re):(A=Dt(c,Re,$,Z,X),A.promise)}function V(F){var Z=S||_(F,"disableForReducedMotion",Boolean),X=_(F,"zIndex",Number);if(Z&&R)return u(function(re){re()});y&&A?c=A.canvas:y&&!c&&(c=Y(X),document.body.appendChild(c)),M&&!L&&$(c);var ee={width:c.width,height:c.height};w&&!L&&w.init(c),L=!0,w&&(c.__confetti_initialized=!0);function ae(){if(w){var re={getBoundingClientRect:function(){if(!y)return c.getBoundingClientRect()}};$(re),w.postMessage({resize:{width:re.width,height:re.height}});return}ee.width=ee.height=null}function de(){A=null,M&&(C=!1,e.removeEventListener("resize",ae)),y&&c&&(document.body.contains(c)&&document.body.removeChild(c),c=null,L=!1)}return M&&!C&&(C=!0,e.addEventListener("resize",ae,!1)),w?w.fire(F,ee,de):x(F,ee,de)}return V.reset=function(){w&&w.reset(),A&&A.reset()},V}var je;function rt(){return je||(je=nt(null,{useWorker:!0,resize:!0})),je}function Wt(c,o,y,M,C,S,E){var w=new Path2D(c),$=new Path2D;$.addPath(w,new DOMMatrix(o));var L=new Path2D;return L.addPath($,new DOMMatrix([Math.cos(E)*C,Math.sin(E)*C,-Math.sin(E)*S,Math.cos(E)*S,y,M])),L}function Vt(c){if(!s)throw new Error("path confetti are not supported in this browser");var o,y;typeof c=="string"?o=c:(o=c.path,y=c.matrix);var M=new Path2D(o),C=document.createElement("canvas"),S=C.getContext("2d");if(!y){for(var E=1e3,w=E,$=E,L=0,R=0,A,x,V=0;V<E;V+=2)for(var F=0;F<E;F+=2)S.isPointInPath(M,V,F,"nonzero")&&(w=Math.min(w,V),$=Math.min($,F),L=Math.max(L,V),R=Math.max(R,F));A=L-w,x=R-$;var Z=10,X=Math.min(Z/A,Z/x);y=[X,0,0,X,-Math.round(A/2+w)*X,-Math.round(x/2+$)*X]}return{type:"path",path:o,matrix:y}}function Ut(c){var o,y=1,M="#000000",C='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof c=="string"?o=c:(o=c.text,y="scalar"in c?c.scalar:y,C="fontFamily"in c?c.fontFamily:C,M="color"in c?c.color:M);var S=10*y,E=""+S+"px "+C,w=new OffscreenCanvas(S,S),$=w.getContext("2d");$.font=E;var L=$.measureText(o),R=Math.ceil(L.actualBoundingBoxRight+L.actualBoundingBoxLeft),A=Math.ceil(L.actualBoundingBoxAscent+L.actualBoundingBoxDescent),x=2,V=L.actualBoundingBoxLeft+x,F=L.actualBoundingBoxAscent+x;R+=x+x,A+=x+x,w=new OffscreenCanvas(R,A),$=w.getContext("2d"),$.font=E,$.fillStyle=M,$.fillText(o,V,F);var Z=1/y;return{type:"bitmap",bitmap:w.transferToImageBitmap(),matrix:[Z,0,0,Z,-R*Z/2,-A*Z/2]}}n.exports=function(){return rt().apply(this,arguments)},n.exports.reset=function(){rt().reset()},n.exports.create=nt,n.exports.shapeFromPath=Vt,n.exports.shapeFromText=Ut})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Fe,!1);const er=Fe.exports;Fe.exports.create;function tr(t){let e;return{c(){e=T("div"),P(e,"id","confetti-canvas")},m(n,r){O(n,e,r)},p:G,i:G,o:G,d(n){n&&I(e)}}}function nr(t,e,n){let{startConfetti:r=null}=e,{durationInS:l=3}=e,{startVelocity:i=30}=e,{origin:s={x:.5,y:.5}}=e;return pn(()=>{n(0,r=()=>{const a=l*1e3,d=Date.now()+a,u={startVelocity:i,spread:360,ticks:60,zIndex:0};(function m(){er(Object.assign({},u,{particleCount:5,origin:{origin:s}})),Date.now()<d&&requestAnimationFrame(m)})()})}),t.$$set=a=>{"startConfetti"in a&&n(0,r=a.startConfetti),"durationInS"in a&&n(1,l=a.durationInS),"startVelocity"in a&&n(2,i=a.startVelocity),"origin"in a&&n(3,s=a.origin)},[r,l,i,s]}class rr extends se{constructor(e){super(),oe(this,e,nr,tr,ne,{startConfetti:0,durationInS:1,startVelocity:2,origin:3})}get startConfetti(){return this.$$.ctx[0]}set startConfetti(e){this.$$set({startConfetti:e}),be()}get durationInS(){return this.$$.ctx[1]}set durationInS(e){this.$$set({durationInS:e}),be()}get startVelocity(){return this.$$.ctx[2]}set startVelocity(e){this.$$set({startVelocity:e}),be()}get origin(){return this.$$.ctx[3]}set origin(e){this.$$set({origin:e}),be()}}function lr(t){let e,n,r,l,i;function s(u){t[5](u)}let a={};t[0]!==void 0&&(a.gameState=t[0]),e=new xn({props:a}),he.push(()=>tt(e,"gameState",s)),e.$on("winCurrentBoard",t[4]);let d={};return l=new rr({props:d}),t[6](l),{c(){te(e.$$.fragment),r=U(),te(l.$$.fragment)},m(u,m){J(e,u,m),O(u,r,m),J(l,u,m),i=!0},p(u,m){const g={};!n&&m&1&&(n=!0,g.gameState=u[0],Qe(()=>n=!1)),e.$set(g);const h={};l.$set(h)},i(u){i||(D(e.$$.fragment,u),D(l.$$.fragment,u),i=!0)},o(u){W(e.$$.fragment,u),W(l.$$.fragment,u),i=!1},d(u){u&&I(r),Q(e,u),t[6](null),Q(l,u)}}}function ir(t){let e,n;return e=new Xn({props:{$$slots:{default:[lr]},$$scope:{ctx:t}}}),e.$on("click",t[7]),{c(){te(e.$$.fragment)},m(r,l){J(e,r,l),n=!0},p(r,[l]){const i={};l&517&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){n||(D(e.$$.fragment,r),n=!0)},o(r){W(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}const ue=5;function De(t){for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t}function vt(t){return t.bottles.map(e=>e.levels.map(n=>n.color).join(",")).join("|")}function xt(t,e=0,n=3,r=new Set){const l=vt(t);if(r.has(l)||e>=n)return!1;r.add(l);for(let i=0;i<t.bottles.length;i++)for(let s=0;s<t.bottles.length;s++)if(i!==s&&or(t.bottles[i],t.bottles[s])){let a=ar(t);sr(a.bottles[i],a.bottles[s]);const d=vt(a);if(!r.has(d))if(e+1<n){if(xt(a,e+1,n,r))return!0}else return!0}return!1}function or(t,e){if(t.levels.length===0)return!1;const n=t.levels[t.levels.length-1].color,r=e.levels.length>0?e.levels[e.levels.length-1].color:null,l=ue-e.levels.length;return(n===r||r===null)&&l>0}function sr(t,e){const n=t.levels[t.levels.length-1].color,r=ue-e.levels.length;let l=0;for(let s=t.levels.length-1;s>=0&&t.levels[s].color===n;s--)l++;l=Math.min(l,r);const i=t.levels.splice(t.levels.length-l,l);e.levels.push(...i)}function ar(t){return{bottles:t.bottles.map(e=>({...e,levels:[...e.levels]}))}}function cr(t,e,n){let r;Ke(t,Ae,h=>n(1,r=h));let l;const i=["blue","red","orange","green","purple","yellow","pink","brown"];function s(h,f=2){let b=(h-f)*ue,v=[];const _=Math.max(Math.floor(b/(i.length*ue)),1);console.log(_);for(let B=0;B<_;B++)for(let j of[...De(i)]){for(let q=0;q<ue;q++)v.push({color:j}),b-=1;if(console.log("Filled x Leves here"),b===0)break}for(;b>0;){let B=Math.floor(Math.random()*i.length);for(let j=0;j<ue;j++)v.push({color:i[B]});b-=ue}De(v);let p=Array.from({length:h},()=>({levels:[]})),k=0;for(;v.length>0;)p[k].levels=v.splice(0,ue),k++,k===h-f&&(k+=f);return De(p),{bottles:p}}let a=s(r,2);function d(){l.startConfetti()}function u(h){a=h,n(0,a),n(1,r)}function m(h){he[h?"unshift":"push"](()=>{l=h,n(2,l)})}const g=()=>n(0,a=s(r,2));return t.$$.update=()=>{if(t.$$.dirty&2&&r&&n(0,a=s(r,2)),t.$$.dirty&1){let h;console.log("Is winnable ",h=xt(a)),h||alert("Not Winnable")}},[a,r,l,s,d,u,m,g]}class ur extends se{constructor(e){super(),oe(this,e,cr,ir,ne,{})}}function fr(t){let e,n;return e=new ur({}),{c(){te(e.$$.fragment)},m(r,l){J(e,r,l),n=!0},p:G,i(r){n||(D(e.$$.fragment,r),n=!0)},o(r){W(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}class dr extends se{constructor(e){super(),oe(this,e,null,fr,ne,{})}}new dr({target:document.getElementById("app")})});export default hr();
